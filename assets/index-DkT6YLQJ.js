(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function BC(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bm={exports:{}},Wl={};var o0;function jC(){if(o0)return Wl;o0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=t,Wl.jsx=e,Wl.jsxs=e,Wl}var l0;function qC(){return l0||(l0=1,Bm.exports=jC()),Bm.exports}var zt=qC(),jm={exports:{}},St={};var u0;function FC(){if(u0)return St;u0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,q={};function Q(x,W,st){this.props=x,this.context=W,this.refs=q,this.updater=st||P}Q.prototype.isReactComponent={},Q.prototype.setState=function(x,W){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,W,"setState")},Q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function et(){}et.prototype=Q.prototype;function Z(x,W,st){this.props=x,this.context=W,this.refs=q,this.updater=st||P}var ht=Z.prototype=new et;ht.constructor=Z,F(ht,Q.prototype),ht.isPureReactComponent=!0;var rt=Array.isArray;function at(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(x,W,st){var ct=st.ref;return{$$typeof:i,type:x,key:W,ref:ct!==void 0?ct:null,props:st}}function N(x,W){return C(x.type,W,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function U(x){var W={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(st){return W[st]})}var I=/\/+/g;function ee(x,W){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):W.toString(36)}function fe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(at,at):(x.status="pending",x.then(function(W){x.status==="pending"&&(x.status="fulfilled",x.value=W)},function(W){x.status==="pending"&&(x.status="rejected",x.reason=W)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Y(x,W,st,ct,Et){var It=typeof x;(It==="undefined"||It==="boolean")&&(x=null);var Bt=!1;if(x===null)Bt=!0;else switch(It){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(x.$$typeof){case i:case t:Bt=!0;break;case _:return Bt=x._init,Y(Bt(x._payload),W,st,ct,Et)}}if(Bt)return Et=Et(x),Bt=ct===""?"."+ee(x,0):ct,rt(Et)?(st="",Bt!=null&&(st=Bt.replace(I,"$&/")+"/"),Y(Et,W,st,"",function(Tr){return Tr})):Et!=null&&(M(Et)&&(Et=N(Et,st+(Et.key==null||x&&x.key===Et.key?"":(""+Et.key).replace(I,"$&/")+"/")+Bt)),W.push(Et)),1;Bt=0;var Pe=ct===""?".":ct+":";if(rt(x))for(var ae=0;ae<x.length;ae++)ct=x[ae],It=Pe+ee(ct,ae),Bt+=Y(ct,W,st,It,Et);else if(ae=V(x),typeof ae=="function")for(x=ae.call(x),ae=0;!(ct=x.next()).done;)ct=ct.value,It=Pe+ee(ct,ae++),Bt+=Y(ct,W,st,It,Et);else if(It==="object"){if(typeof x.then=="function")return Y(fe(x),W,st,ct,Et);throw W=String(x),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function nt(x,W,st){if(x==null)return x;var ct=[],Et=0;return Y(x,ct,"","",function(It){return W.call(st,It,Et++)}),ct}function ft(x){if(x._status===-1){var W=x._result;W=W(),W.then(function(st){(x._status===0||x._status===-1)&&(x._status=1,x._result=st)},function(st){(x._status===0||x._status===-1)&&(x._status=2,x._result=st)}),x._status===-1&&(x._status=0,x._result=W)}if(x._status===1)return x._result.default;throw x._result}var Ct=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ot={map:nt,forEach:function(x,W,st){nt(x,function(){W.apply(this,arguments)},st)},count:function(x){var W=0;return nt(x,function(){W++}),W},toArray:function(x){return nt(x,function(W){return W})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return St.Activity=E,St.Children=Ot,St.Component=Q,St.Fragment=e,St.Profiler=o,St.PureComponent=Z,St.StrictMode=r,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return R.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(x,W,st){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ct=F({},x.props),Et=x.key;if(W!=null)for(It in W.key!==void 0&&(Et=""+W.key),W)!w.call(W,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&W.ref===void 0||(ct[It]=W[It]);var It=arguments.length-2;if(It===1)ct.children=st;else if(1<It){for(var Bt=Array(It),Pe=0;Pe<It;Pe++)Bt[Pe]=arguments[Pe+2];ct.children=Bt}return C(x.type,Et,ct)},St.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},St.createElement=function(x,W,st){var ct,Et={},It=null;if(W!=null)for(ct in W.key!==void 0&&(It=""+W.key),W)w.call(W,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(Et[ct]=W[ct]);var Bt=arguments.length-2;if(Bt===1)Et.children=st;else if(1<Bt){for(var Pe=Array(Bt),ae=0;ae<Bt;ae++)Pe[ae]=arguments[ae+2];Et.children=Pe}if(x&&x.defaultProps)for(ct in Bt=x.defaultProps,Bt)Et[ct]===void 0&&(Et[ct]=Bt[ct]);return C(x,It,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:m,render:x}},St.isValidElement=M,St.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:ft}},St.memo=function(x,W){return{$$typeof:g,type:x,compare:W===void 0?null:W}},St.startTransition=function(x){var W=R.T,st={};R.T=st;try{var ct=x(),Et=R.S;Et!==null&&Et(st,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(at,Ct)}catch(It){Ct(It)}finally{W!==null&&st.types!==null&&(W.types=st.types),R.T=W}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(x){return R.H.use(x)},St.useActionState=function(x,W,st){return R.H.useActionState(x,W,st)},St.useCallback=function(x,W){return R.H.useCallback(x,W)},St.useContext=function(x){return R.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,W){return R.H.useDeferredValue(x,W)},St.useEffect=function(x,W){return R.H.useEffect(x,W)},St.useEffectEvent=function(x){return R.H.useEffectEvent(x)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(x,W,st){return R.H.useImperativeHandle(x,W,st)},St.useInsertionEffect=function(x,W){return R.H.useInsertionEffect(x,W)},St.useLayoutEffect=function(x,W){return R.H.useLayoutEffect(x,W)},St.useMemo=function(x,W){return R.H.useMemo(x,W)},St.useOptimistic=function(x,W){return R.H.useOptimistic(x,W)},St.useReducer=function(x,W,st){return R.H.useReducer(x,W,st)},St.useRef=function(x){return R.H.useRef(x)},St.useState=function(x){return R.H.useState(x)},St.useSyncExternalStore=function(x,W,st){return R.H.useSyncExternalStore(x,W,st)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.0",St}var c0;function dg(){return c0||(c0=1,jm.exports=FC()),jm.exports}var ot=dg();const sa=BC(ot);var qm={exports:{}},Zl={},Fm={exports:{}},Hm={};var h0;function HC(){return h0||(h0=1,(function(i){function t(Y,nt){var ft=Y.length;Y.push(nt);t:for(;0<ft;){var Ct=ft-1>>>1,Ot=Y[Ct];if(0<o(Ot,nt))Y[Ct]=nt,Y[ft]=Ot,ft=Ct;else break t}}function e(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var nt=Y[0],ft=Y.pop();if(ft!==nt){Y[0]=ft;t:for(var Ct=0,Ot=Y.length,x=Ot>>>1;Ct<x;){var W=2*(Ct+1)-1,st=Y[W],ct=W+1,Et=Y[ct];if(0>o(st,ft))ct<Ot&&0>o(Et,st)?(Y[Ct]=Et,Y[ct]=ft,Ct=ct):(Y[Ct]=st,Y[W]=ft,Ct=W);else if(ct<Ot&&0>o(Et,ft))Y[Ct]=Et,Y[ct]=ft,Ct=ct;else break t}}return nt}function o(Y,nt){var ft=Y.sortIndex-nt.sortIndex;return ft!==0?ft:Y.id-nt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,E=null,S=3,V=!1,P=!1,F=!1,q=!1,Q=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ht(Y){for(var nt=e(g);nt!==null;){if(nt.callback===null)r(g);else if(nt.startTime<=Y)r(g),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=e(g)}}function rt(Y){if(F=!1,ht(Y),!P)if(e(p)!==null)P=!0,at||(at=!0,U());else{var nt=e(g);nt!==null&&fe(rt,nt.startTime-Y)}}var at=!1,R=-1,w=5,C=-1;function N(){return q?!0:!(i.unstable_now()-C<w)}function M(){if(q=!1,at){var Y=i.unstable_now();C=Y;var nt=!0;try{t:{P=!1,F&&(F=!1,et(R),R=-1),V=!0;var ft=S;try{e:{for(ht(Y),E=e(p);E!==null&&!(E.expirationTime>Y&&N());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,S=E.priorityLevel;var Ot=Ct(E.expirationTime<=Y);if(Y=i.unstable_now(),typeof Ot=="function"){E.callback=Ot,ht(Y),nt=!0;break e}E===e(p)&&r(p),ht(Y)}else r(p);E=e(p)}if(E!==null)nt=!0;else{var x=e(g);x!==null&&fe(rt,x.startTime-Y),nt=!1}}break t}finally{E=null,S=ft,V=!1}nt=void 0}}finally{nt?U():at=!1}}}var U;if(typeof Z=="function")U=function(){Z(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ee=I.port2;I.port1.onmessage=M,U=function(){ee.postMessage(null)}}else U=function(){Q(M,0)};function fe(Y,nt){R=Q(function(){Y(i.unstable_now())},nt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var nt=3;break;default:nt=S}var ft=S;S=nt;try{return Y()}finally{S=ft}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(Y,nt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ft=S;S=Y;try{return nt()}finally{S=ft}},i.unstable_scheduleCallback=function(Y,nt,ft){var Ct=i.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ct+ft:Ct):ft=Ct,Y){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=ft+Ot,Y={id:_++,callback:nt,priorityLevel:Y,startTime:ft,expirationTime:Ot,sortIndex:-1},ft>Ct?(Y.sortIndex=ft,t(g,Y),e(p)===null&&Y===e(g)&&(F?(et(R),R=-1):F=!0,fe(rt,ft-Ct))):(Y.sortIndex=Ot,t(p,Y),P||V||(P=!0,at||(at=!0,U()))),Y},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(Y){var nt=S;return function(){var ft=S;S=nt;try{return Y.apply(this,arguments)}finally{S=ft}}}})(Hm)),Hm}var f0;function GC(){return f0||(f0=1,Fm.exports=HC()),Fm.exports}var Gm={exports:{}},tn={};var d0;function KC(){if(d0)return tn;d0=1;var i=dg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,_)},tn.flushSync=function(p){var g=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=_,r.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,E=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:V}):_==="script"&&r.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=m(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},tn.requestFormReset=function(p){r.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var m0;function YC(){if(m0)return Gm.exports;m0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Gm.exports=KC(),Gm.exports}var p0;function QC(){if(p0)return Zl;p0=1;var i=GC(),t=dg(),e=YC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,A=f.child;A;){if(A===a){v=!0,a=f,l=d;break}if(A===l){v=!0,l=f,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=f;break}if(A===l){v=!0,l=d,a=f;break}A=A.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function ee(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case F:return"Fragment";case Q:return"Profiler";case q:return"StrictMode";case rt:return"Suspense";case at:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case P:return"Portal";case Z:return n.displayName||"Context";case et:return(n._context.displayName||"Context")+".Consumer";case ht:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:ee(n.type)||"Memo";case w:s=n._payload,n=n._init;try{return ee(n(s))}catch{}}return null}var fe=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ct=[],Ot=-1;function x(n){return{current:n}}function W(n){0>Ot||(n.current=Ct[Ot],Ct[Ot]=null,Ot--)}function st(n,s){Ot++,Ct[Ot]=n.current,n.current=s}var ct=x(null),Et=x(null),It=x(null),Bt=x(null);function Pe(n,s){switch(st(It,s),st(Et,n),st(ct,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?VT(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=VT(s),n=MT(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(ct),st(ct,n)}function ae(){W(ct),W(Et),W(It)}function Tr(n){n.memoizedState!==null&&st(Bt,n);var s=ct.current,a=MT(s,n.type);s!==a&&(st(Et,n),st(ct,a))}function Ta(n){Et.current===n&&(W(ct),W(Et)),Bt.current===n&&(W(Bt),Yl._currentValue=ft)}var Ea,Aa;function di(n){if(Ea===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ea=s&&s[1]||"",Aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+n+Aa}var Yo=!1;function Er(n,s){if(!n||Yo)return"";Yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var j=G}Reflect.construct(n,[],$)}else{try{$.call()}catch(G){j=G}n.call($.prototype)}}else{try{throw Error()}catch(G){j=G}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&j&&typeof G.stack=="string")return[G.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var D=v.split(`
`),B=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var K=`
`+D[l].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=l&&0<=f);break}}}finally{Yo=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?di(a):""}function Qo(n,s){switch(n.tag){case 26:case 27:case 5:return di(n.type);case 16:return di("Lazy");case 13:return n.child!==s&&s!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Er(n.type,!1);case 11:return Er(n.type.render,!1);case 1:return Er(n.type,!0);case 31:return di("Activity");default:return""}}function Xo(n){try{var s="",a=null;do s+=Qo(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,Le=i.unstable_scheduleCallback,Es=i.unstable_cancelCallback,qf=i.unstable_shouldYield,Ku=i.unstable_requestPaint,on=i.unstable_now,Ar=i.unstable_getCurrentPriorityLevel,$o=i.unstable_ImmediatePriority,Wo=i.unstable_UserBlockingPriority,As=i.unstable_NormalPriority,Ff=i.unstable_LowPriority,Yu=i.unstable_IdlePriority,Qu=i.log,Xu=i.unstable_setDisableYieldValue,Xn=null,He=null;function Vn(n){if(typeof Qu=="function"&&Xu(n),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Xn,n)}catch{}}var ge=Math.clz32?Math.clz32:Wu,$u=Math.log,Sa=Math.LN2;function Wu(n){return n>>>=0,n===0?32:31-($u(n)/Sa|0)|0}var mi=256,Sr=262144,Se=4194304;function pi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gi(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=pi(l):(v&=A,v!==0?f=pi(v):a||(a=A&~n,a!==0&&(f=pi(a))))):(A=l&~d,A!==0?f=pi(A):v!==0?f=pi(v):a||(a=l&~n,a!==0&&(f=pi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function $n(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Hf(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var n=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),n}function yi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function br(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Gf(n,s,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,D=n.expirationTimes,B=n.hiddenUpdates;for(a=v&~a;0<a;){var K=31-ge(a),$=1<<K;A[K]=0,D[K]=-1;var j=B[K];if(j!==null)for(B[K]=null,K=0;K<j.length;K++){var G=j[K];G!==null&&(G.lane&=-536870913)}a&=~$}l!==0&&wr(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~s))}function wr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-ge(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Zo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-ge(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Jo(n,s){var a=s&-s;return a=(a&42)!==0?1:Rr(a),(a&(n.suspendedLanes|s))!==0?0:a}function Rr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Gi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ju(){var n=nt.p;return n!==0?n:(n=window.event,n===void 0?32:t0(n.type))}function Wn(n,s){var a=nt.p;try{return nt.p=n,s()}finally{nt.p=a}}var Zn=Math.random().toString(36).slice(2),be="__reactFiber$"+Zn,Be="__reactProps$"+Zn,_i="__reactContainer$"+Zn,ba="__reactEvents$"+Zn,Kf="__reactListeners$"+Zn,tc="__reactHandles$"+Zn,ec="__reactResources$"+Zn,vi="__reactMarker$"+Zn;function wa(n){delete n[be],delete n[Be],delete n[ba],delete n[Kf],delete n[tc]}function Ti(n){var s=n[be];if(s)return s;for(var a=n.parentNode;a;){if(s=a[_i]||a[be]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=kT(n);n!==null;){if(a=n[be])return a;n=kT(n)}return s}n=a,a=n.parentNode}return null}function Mn(n){if(n=n[be]||n[_i]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function En(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ei(n){var s=n[ec];return s||(s=n[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function we(n){n[vi]=!0}var tl=new Set,el={};function Ai(n,s){Si(n,s),Si(n+"Capture",s)}function Si(n,s){for(el[n]=s,n=0;n<s.length;n++)tl.add(s[n])}var nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},sl={};function nc(n){return Ae.call(sl,n)?!0:Ae.call(il,n)?!1:nl.test(n)?sl[n]=!0:(il[n]=!0,!1)}function Ra(n,s,a){if(nc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function An(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Re(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function je(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ss(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Yt(n){if(!n._valueTracker){var s=Ss(n)?"checked":"value";n._valueTracker=rl(n,s,""+n[s])}}function Cr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Ss(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function bi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ir=/[\n"\\]/g;function hn(n){return n.replace(Ir,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ca(n,s,a,l,f,d,v,A){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+je(s)):n.value!==""+je(s)&&(n.value=""+je(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?al(n,v,je(s)):a!=null?al(n,v,je(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+je(A):n.removeAttribute("name")}function ic(n,s,a,l,f,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Yt(n);return}a=a!=null?""+je(a):"",s=s!=null?""+je(s):a,A||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Yt(n)}function al(n,s,a){s==="number"&&bi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function bs(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function sc(n,s,a){if(s!=null&&(s=""+je(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+je(a):""}function ws(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=je(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Yt(n)}function fn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||rc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function ll(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ol(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&ol(n,d,s[d])}function Ia(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(n){return Rs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Jn(){}var ul=null;function On(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Cs=null,wi=null;function Dr(n){var s=Mn(n);if(s&&(n=s.stateNode)){var a=n[Be]||null;t:switch(n=s.stateNode,s.type){case"input":if(Ca(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Be]||null;if(!f)throw Error(r(90));Ca(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Cr(l)}break t;case"textarea":sc(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&bs(n,!!a.multiple,s,!1)}}}var Va=!1;function Is(n,s,a){if(Va)return n(s,a);Va=!0;try{var l=n(s);return l}finally{if(Va=!1,(Cs!==null||wi!==null)&&(Jc(),Cs&&(s=Cs,n=wi,wi=Cs=null,Dr(s),n)))for(s=0;s<n.length;s++)Dr(n[s])}}function ti(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Be]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Nn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Vr=!1}var Ri=null,cl=null,Mr=null;function hl(){if(Mr)return Mr;var n,s=cl,a=s.length,l,f="value"in Ri?Ri.value:Ri.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return Mr=f.slice(n,1<l?1-l:void 0)}function Or(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ki(){return!0}function ei(){return!1}function Ge(n){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:ei,this.isPropagationStopped=ei,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),s}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ge(Yi),Ds=E({},Yi,{view:0,detail:0}),fl=Ge(Ds),Vs,Ma,Ii,Oa=E({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ii&&(Ii&&n.type==="mousemove"?(Vs=n.screenX-Ii.screenX,Ma=n.screenY-Ii.screenY):Ma=Vs=0,Ii=n),Vs)},movementY:function(n){return"movementY"in n?n.movementY:Ma}}),dl=Ge(Oa),Nr=E({},Oa,{dataTransfer:0}),oc=Ge(Nr),lc=E({},Ds,{relatedTarget:0}),xr=Ge(lc),ml=E({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=Ge(ml),Na=E({},Yi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),cc=Ge(Na),hc=E({},Yi,{data:0}),Di=Ge(hc),fc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=mc[n])?!!s[n]:!1}function Ms(){return pc}var ln=E({},Ds,{key:function(n){if(n.key){var s=fc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Or(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(n){return n.type==="keypress"?Or(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Or(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gc=Ge(ln),yc=E({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ge(yc),h=E({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),y=Ge(h),T=E({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ge(T),k=E({},Oa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ge(k),it=E({},Yi,{newState:0,oldState:0}),wt=Ge(it),ye=[9,13,27,32],Ht=Nn&&"CompositionEvent"in window,oe=null;Nn&&"documentMode"in document&&(oe=document.documentMode);var xn=Nn&&"TextEvent"in window&&!oe,Vi=Nn&&(!Ht||oe&&8<oe&&11>=oe),ni=" ",ii=!1;function Pr(n,s){switch(n){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pa=!1;function cR(n,s){switch(n){case"compositionend":return xa(s);case"keypress":return s.which!==32?null:(ii=!0,ni);case"textInput":return n=s.data,n===ni&&ii?null:n;default:return null}}function hR(n,s){if(Pa)return n==="compositionend"||!Ht&&Pr(n,s)?(n=hl(),Mr=cl=Ri=null,Pa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vi&&s.locale!=="ko"?null:s.data;default:return null}}var fR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!fR[n.type]:s==="textarea"}function qy(n,s,a,l){Cs?wi?wi.push(l):wi=[l]:Cs=l,s=ah(s,"onChange"),0<s.length&&(a=new Ci("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var pl=null,gl=null;function dR(n){bT(n,0)}function _c(n){var s=En(n);if(Cr(s))return n}function Fy(n,s){if(n==="change")return s}var Hy=!1;if(Nn){var Yf;if(Nn){var Qf="oninput"in document;if(!Qf){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Qf=typeof Gy.oninput=="function"}Yf=Qf}else Yf=!1;Hy=Yf&&(!document.documentMode||9<document.documentMode)}function Ky(){pl&&(pl.detachEvent("onpropertychange",Yy),gl=pl=null)}function Yy(n){if(n.propertyName==="value"&&_c(gl)){var s=[];qy(s,gl,n,On(n)),Is(dR,s)}}function mR(n,s,a){n==="focusin"?(Ky(),pl=s,gl=a,pl.attachEvent("onpropertychange",Yy)):n==="focusout"&&Ky()}function pR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _c(gl)}function gR(n,s){if(n==="click")return _c(s)}function yR(n,s){if(n==="input"||n==="change")return _c(s)}function _R(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Sn=typeof Object.is=="function"?Object.is:_R;function yl(n,s){if(Sn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ae.call(s,f)||!Sn(n[f],s[f]))return!1}return!0}function Qy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Xy(n,s){var a=Qy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Qy(a)}}function $y(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?$y(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Wy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=bi(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=bi(n.document)}return s}function Xf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var vR=Nn&&"documentMode"in document&&11>=document.documentMode,La=null,$f=null,_l=null,Wf=!1;function Zy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wf||La==null||La!==bi(l)||(l=La,"selectionStart"in l&&Xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&yl(_l,l)||(_l=l,l=ah($f,"onSelect"),0<l.length&&(s=new Ci("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=La)))}function Lr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ua={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Zf={},Jy={};Nn&&(Jy=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Ur(n){if(Zf[n])return Zf[n];if(!Ua[n])return n;var s=Ua[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Jy)return Zf[n]=s[a];return n}var t_=Ur("animationend"),e_=Ur("animationiteration"),n_=Ur("animationstart"),TR=Ur("transitionrun"),ER=Ur("transitionstart"),AR=Ur("transitioncancel"),i_=Ur("transitionend"),s_=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function si(n,s){s_.set(n,s),Ai(s,[n])}var vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Pn=[],ka=0,td=0;function Tc(){for(var n=ka,s=td=ka=0;s<n;){var a=Pn[s];Pn[s++]=null;var l=Pn[s];Pn[s++]=null;var f=Pn[s];Pn[s++]=null;var d=Pn[s];if(Pn[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&r_(a,f,d)}}function Ec(n,s,a,l){Pn[ka++]=n,Pn[ka++]=s,Pn[ka++]=a,Pn[ka++]=l,td|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ed(n,s,a,l){return Ec(n,s,a,l),Ac(n)}function kr(n,s){return Ec(n,null,null,s),Ac(n)}function r_(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-ge(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Ac(n){if(50<Bl)throw Bl=0,cm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var za={};function SR(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(n,s,a,l){return new SR(n,s,a,l)}function nd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xi(n,s){var a=n.alternate;return a===null?(a=bn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function a_(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Sc(n,s,a,l,f,d){var v=0;if(l=n,typeof n=="function")nd(n)&&(v=1);else if(typeof n=="string")v=IC(n,a,ct.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case C:return n=bn(31,a,s,f),n.elementType=C,n.lanes=d,n;case F:return zr(a.children,f,d,s);case q:v=8,f|=24;break;case Q:return n=bn(12,a,s,f|2),n.elementType=Q,n.lanes=d,n;case rt:return n=bn(13,a,s,f),n.elementType=rt,n.lanes=d,n;case at:return n=bn(19,a,s,f),n.elementType=at,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:v=10;break t;case et:v=9;break t;case ht:v=11;break t;case R:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=bn(v,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function zr(n,s,a,l){return n=bn(7,n,l,s),n.lanes=a,n}function id(n,s,a){return n=bn(6,n,null,s),n.lanes=a,n}function o_(n){var s=bn(18,null,null,0);return s.stateNode=n,s}function sd(n,s,a){return s=bn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var l_=new WeakMap;function Ln(n,s){if(typeof n=="object"&&n!==null){var a=l_.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Xo(s)},l_.set(n,s),s)}return{value:n,source:s,stack:Xo(s)}}var Ba=[],ja=0,bc=null,vl=0,Un=[],kn=0,Os=null,Mi=1,Oi="";function $i(n,s){Ba[ja++]=vl,Ba[ja++]=bc,bc=n,vl=s}function u_(n,s,a){Un[kn++]=Mi,Un[kn++]=Oi,Un[kn++]=Os,Os=n;var l=Mi;n=Oi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var d=32-ge(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Mi=1<<32-ge(s)+f|a<<f|l,Oi=d+n}else Mi=1<<d|a<<f|l,Oi=n}function rd(n){n.return!==null&&($i(n,1),u_(n,1,0))}function ad(n){for(;n===bc;)bc=Ba[--ja],Ba[ja]=null,vl=Ba[--ja],Ba[ja]=null;for(;n===Os;)Os=Un[--kn],Un[kn]=null,Oi=Un[--kn],Un[kn]=null,Mi=Un[--kn],Un[kn]=null}function c_(n,s){Un[kn++]=Mi,Un[kn++]=Oi,Un[kn++]=Os,Mi=s.id,Oi=s.overflow,Os=n}var Ke=null,se=null,kt=!1,Ns=null,zn=!1,od=Error(r(519));function xs(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(Ln(s,n)),od}function h_(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[be]=n,s[Be]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<ql.length;a++)Mt(ql[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),ic(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),ws(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||IT(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=Jn),s=!0):s=!1,s||xs(n,!0)}function f_(n){for(Ke=n.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function qa(n){if(n!==Ke)return!1;if(!kt)return f_(n),kt=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||wm(n.type,n.memoizedProps)),a=!a),a&&se&&xs(n),f_(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));se=UT(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));se=UT(n)}else s===27?(s=se,Qs(n.type)?(n=Vm,Vm=null,se=n):se=s):se=Ke?jn(n.stateNode.nextSibling):null;return!0}function Br(){se=Ke=null,kt=!1}function ld(){var n=Ns;return n!==null&&(gn===null?gn=n:gn.push.apply(gn,n),Ns=null),n}function Tl(n){Ns===null?Ns=[n]:Ns.push(n)}var ud=x(null),jr=null,Wi=null;function Ps(n,s,a){st(ud,s._currentValue),s._currentValue=a}function Zi(n){n._currentValue=ud.current,W(ud)}function cd(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function hd(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),cd(d.return,a,n),l||(v=null);break t}d=A.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),cd(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Fa(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var A=f.type;Sn(f.pendingProps.value,v.value)||(n!==null?n.push(A):n=[A])}}else if(f===Bt.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Yl):n=[Yl])}f=f.return}n!==null&&hd(s,n,a,l),s.flags|=262144}function wc(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function qr(n){jr=n,Wi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ye(n){return d_(jr,n)}function Rc(n,s){return jr===null&&qr(n),d_(n,s)}function d_(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Wi===null){if(n===null)throw Error(r(308));Wi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Wi=Wi.next=s;return a}var bR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},wR=i.unstable_scheduleCallback,RR=i.unstable_NormalPriority,Ce={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new bR,data:new Map,refCount:0}}function El(n){n.refCount--,n.refCount===0&&wR(RR,function(){n.controller.abort()})}var Al=null,dd=0,Ha=0,Ga=null;function CR(n,s){if(Al===null){var a=Al=[];dd=0,Ha=gm(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return dd++,s.then(m_,m_),s}function m_(){if(--dd===0&&Al!==null){Ga!==null&&(Ga.status="fulfilled");var n=Al;Al=null,Ha=0,Ga=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function IR(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var p_=Y.S;Y.S=function(n,s){Zv=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&CR(n,s),p_!==null&&p_(n,s)};var Fr=x(null);function md(){var n=Fr.current;return n!==null?n:ne.pooledCache}function Cc(n,s){s===null?st(Fr,Fr.current):st(Fr,s.pool)}function g_(){var n=md();return n===null?null:{parent:Ce._currentValue,pool:n}}var Ka=Error(r(460)),pd=Error(r(474)),Ic=Error(r(542)),Dc={then:function(){}};function y_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function __(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Jn,Jn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,T_(n),n;default:if(typeof s.status=="string")s.then(Jn,Jn);else{if(n=ne,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,T_(n),n}throw Gr=s,Ka}}function Hr(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gr=a,Ka):a}}var Gr=null;function v_(){if(Gr===null)throw Error(r(459));var n=Gr;return Gr=null,n}function T_(n){if(n===Ka||n===Ic)throw Error(r(483))}var Ya=null,Sl=0;function Vc(n){var s=Sl;return Sl+=1,Ya===null&&(Ya=[]),__(Ya,n,s)}function bl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Mc(n,s){throw s.$$typeof===S?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function E_(n){function s(L,O){if(n){var z=L.deletions;z===null?(L.deletions=[O],L.flags|=16):z.push(O)}}function a(L,O){if(!n)return null;for(;O!==null;)s(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Xi(L,O),L.index=0,L.sibling=null,L}function d(L,O,z){return L.index=z,n?(z=L.alternate,z!==null?(z=z.index,z<O?(L.flags|=67108866,O):z):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function v(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function A(L,O,z,X){return O===null||O.tag!==6?(O=id(z,L.mode,X),O.return=L,O):(O=f(O,z),O.return=L,O)}function D(L,O,z,X){var pt=z.type;return pt===F?K(L,O,z.props.children,X,z.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Hr(pt)===O.type)?(O=f(O,z.props),bl(O,z),O.return=L,O):(O=Sc(z.type,z.key,z.props,null,L.mode,X),bl(O,z),O.return=L,O)}function B(L,O,z,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=sd(z,L.mode,X),O.return=L,O):(O=f(O,z.children||[]),O.return=L,O)}function K(L,O,z,X,pt){return O===null||O.tag!==7?(O=zr(z,L.mode,X,pt),O.return=L,O):(O=f(O,z),O.return=L,O)}function $(L,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=id(""+O,L.mode,z),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return z=Sc(O.type,O.key,O.props,null,L.mode,z),bl(z,O),z.return=L,z;case P:return O=sd(O,L.mode,z),O.return=L,O;case w:return O=Hr(O),$(L,O,z)}if(fe(O)||U(O))return O=zr(O,L.mode,z,null),O.return=L,O;if(typeof O.then=="function")return $(L,Vc(O),z);if(O.$$typeof===Z)return $(L,Rc(L,O),z);Mc(L,O)}return null}function j(L,O,z,X){var pt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pt!==null?null:A(L,O,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===pt?D(L,O,z,X):null;case P:return z.key===pt?B(L,O,z,X):null;case w:return z=Hr(z),j(L,O,z,X)}if(fe(z)||U(z))return pt!==null?null:K(L,O,z,X,null);if(typeof z.then=="function")return j(L,O,Vc(z),X);if(z.$$typeof===Z)return j(L,O,Rc(L,z),X);Mc(L,z)}return null}function G(L,O,z,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(z)||null,A(O,L,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case V:return L=L.get(X.key===null?z:X.key)||null,D(O,L,X,pt);case P:return L=L.get(X.key===null?z:X.key)||null,B(O,L,X,pt);case w:return X=Hr(X),G(L,O,z,X,pt)}if(fe(X)||U(X))return L=L.get(z)||null,K(O,L,X,pt,null);if(typeof X.then=="function")return G(L,O,z,Vc(X),pt);if(X.$$typeof===Z)return G(L,O,z,Rc(O,X),pt);Mc(O,X)}return null}function dt(L,O,z,X){for(var pt=null,qt=null,mt=O,Dt=O=0,xt=null;mt!==null&&Dt<z.length;Dt++){mt.index>Dt?(xt=mt,mt=null):xt=mt.sibling;var Ft=j(L,mt,z[Dt],X);if(Ft===null){mt===null&&(mt=xt);break}n&&mt&&Ft.alternate===null&&s(L,mt),O=d(Ft,O,Dt),qt===null?pt=Ft:qt.sibling=Ft,qt=Ft,mt=xt}if(Dt===z.length)return a(L,mt),kt&&$i(L,Dt),pt;if(mt===null){for(;Dt<z.length;Dt++)mt=$(L,z[Dt],X),mt!==null&&(O=d(mt,O,Dt),qt===null?pt=mt:qt.sibling=mt,qt=mt);return kt&&$i(L,Dt),pt}for(mt=l(mt);Dt<z.length;Dt++)xt=G(mt,L,Dt,z[Dt],X),xt!==null&&(n&&xt.alternate!==null&&mt.delete(xt.key===null?Dt:xt.key),O=d(xt,O,Dt),qt===null?pt=xt:qt.sibling=xt,qt=xt);return n&&mt.forEach(function(Js){return s(L,Js)}),kt&&$i(L,Dt),pt}function yt(L,O,z,X){if(z==null)throw Error(r(151));for(var pt=null,qt=null,mt=O,Dt=O=0,xt=null,Ft=z.next();mt!==null&&!Ft.done;Dt++,Ft=z.next()){mt.index>Dt?(xt=mt,mt=null):xt=mt.sibling;var Js=j(L,mt,Ft.value,X);if(Js===null){mt===null&&(mt=xt);break}n&&mt&&Js.alternate===null&&s(L,mt),O=d(Js,O,Dt),qt===null?pt=Js:qt.sibling=Js,qt=Js,mt=xt}if(Ft.done)return a(L,mt),kt&&$i(L,Dt),pt;if(mt===null){for(;!Ft.done;Dt++,Ft=z.next())Ft=$(L,Ft.value,X),Ft!==null&&(O=d(Ft,O,Dt),qt===null?pt=Ft:qt.sibling=Ft,qt=Ft);return kt&&$i(L,Dt),pt}for(mt=l(mt);!Ft.done;Dt++,Ft=z.next())Ft=G(mt,L,Dt,Ft.value,X),Ft!==null&&(n&&Ft.alternate!==null&&mt.delete(Ft.key===null?Dt:Ft.key),O=d(Ft,O,Dt),qt===null?pt=Ft:qt.sibling=Ft,qt=Ft);return n&&mt.forEach(function(zC){return s(L,zC)}),kt&&$i(L,Dt),pt}function Jt(L,O,z,X){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:t:{for(var pt=z.key;O!==null;){if(O.key===pt){if(pt=z.type,pt===F){if(O.tag===7){a(L,O.sibling),X=f(O,z.props.children),X.return=L,L=X;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Hr(pt)===O.type){a(L,O.sibling),X=f(O,z.props),bl(X,z),X.return=L,L=X;break t}a(L,O);break}else s(L,O);O=O.sibling}z.type===F?(X=zr(z.props.children,L.mode,X,z.key),X.return=L,L=X):(X=Sc(z.type,z.key,z.props,null,L.mode,X),bl(X,z),X.return=L,L=X)}return v(L);case P:t:{for(pt=z.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(L,O.sibling),X=f(O,z.children||[]),X.return=L,L=X;break t}else{a(L,O);break}else s(L,O);O=O.sibling}X=sd(z,L.mode,X),X.return=L,L=X}return v(L);case w:return z=Hr(z),Jt(L,O,z,X)}if(fe(z))return dt(L,O,z,X);if(U(z)){if(pt=U(z),typeof pt!="function")throw Error(r(150));return z=pt.call(z),yt(L,O,z,X)}if(typeof z.then=="function")return Jt(L,O,Vc(z),X);if(z.$$typeof===Z)return Jt(L,O,Rc(L,z),X);Mc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(L,O.sibling),X=f(O,z),X.return=L,L=X):(a(L,O),X=id(z,L.mode,X),X.return=L,L=X),v(L)):a(L,O)}return function(L,O,z,X){try{Sl=0;var pt=Jt(L,O,z,X);return Ya=null,pt}catch(mt){if(mt===Ka||mt===Ic)throw mt;var qt=bn(29,mt,null,L.mode);return qt.lanes=X,qt.return=L,qt}finally{}}}var Kr=E_(!0),A_=E_(!1),Ls=!1;function gd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Us(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ks(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Ac(n),r_(n,null,a),s}return Ec(n,l,s,a),Ac(n)}function wl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Zo(n,a)}}function _d(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var vd=!1;function Rl(){if(vd){var n=Ga;if(n!==null)throw n}}function Cl(n,s,a,l){vd=!1;var f=n.updateQueue;Ls=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,B=D.next;D.next=null,v===null?d=B:v.next=B,v=D;var K=n.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==v&&(A===null?K.firstBaseUpdate=B:A.next=B,K.lastBaseUpdate=D))}if(d!==null){var $=f.baseState;v=0,K=B=D=null,A=d;do{var j=A.lane&-536870913,G=j!==A.lane;if(G?(Nt&j)===j:(l&j)===j){j!==0&&j===Ha&&(vd=!0),K!==null&&(K=K.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var dt=n,yt=A;j=s;var Jt=a;switch(yt.tag){case 1:if(dt=yt.payload,typeof dt=="function"){$=dt.call(Jt,$,j);break t}$=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=yt.payload,j=typeof dt=="function"?dt.call(Jt,$,j):dt,j==null)break t;$=E({},$,j);break t;case 2:Ls=!0}}j=A.callback,j!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[j]:G.push(j))}else G={lane:j,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(B=K=G,D=$):K=K.next=G,v|=j;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;G=A,A=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);K===null&&(D=$),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Fs|=v,n.lanes=v,n.memoizedState=$}}function S_(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function b_(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)S_(a[n],s)}var Qa=x(null),Oc=x(0);function w_(n,s){n=os,st(Oc,n),st(Qa,s),os=n|s.baseLanes}function Td(){st(Oc,os),st(Qa,Qa.current)}function Ed(){os=Oc.current,W(Qa),W(Oc)}var wn=x(null),Bn=null;function zs(n){var s=n.alternate;st(_e,_e.current&1),st(wn,n),Bn===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(Bn=n)}function Ad(n){st(_e,_e.current),st(wn,n),Bn===null&&(Bn=n)}function R_(n){n.tag===22?(st(_e,_e.current),st(wn,n),Bn===null&&(Bn=n)):Bs()}function Bs(){st(_e,_e.current),st(wn,wn.current)}function Rn(n){W(wn),Bn===n&&(Bn=null),W(_e)}var _e=x(0);function Nc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Im(a)||Dm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ji=0,Rt=null,Wt=null,Ie=null,xc=!1,Xa=!1,Yr=!1,Pc=0,Il=0,$a=null,DR=0;function de(){throw Error(r(321))}function Sd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Sn(n[a],s[a]))return!1;return!0}function bd(n,s,a,l,f,d){return Ji=d,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=n===null||n.memoizedState===null?uv:zd,Yr=!1,d=a(l,f),Yr=!1,Xa&&(d=I_(s,a,l,f)),C_(n),d}function C_(n){Y.H=Ml;var s=Wt!==null&&Wt.next!==null;if(Ji=0,Ie=Wt=Rt=null,xc=!1,Il=0,$a=null,s)throw Error(r(300));n===null||De||(n=n.dependencies,n!==null&&wc(n)&&(De=!0))}function I_(n,s,a,l){Rt=n;var f=0;do{if(Xa&&($a=null),Il=0,Xa=!1,25<=f)throw Error(r(301));if(f+=1,Ie=Wt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=cv,d=s(a,l)}while(Xa);return d}function VR(){var n=Y.H,s=n.useState()[0];return s=typeof s.then=="function"?Dl(s):s,n=n.useState()[0],(Wt!==null?Wt.memoizedState:null)!==n&&(Rt.flags|=1024),s}function wd(){var n=Pc!==0;return Pc=0,n}function Rd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Cd(n){if(xc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}xc=!1}Ji=0,Ie=Wt=Rt=null,Xa=!1,Il=Pc=0,$a=null}function un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Rt.memoizedState=Ie=n:Ie=Ie.next=n,Ie}function ve(){if(Wt===null){var n=Rt.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var s=Ie===null?Rt.memoizedState:Ie.next;if(s!==null)Ie=s,Wt=n;else{if(n===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ie===null?Rt.memoizedState=Ie=n:Ie=Ie.next=n}return Ie}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(n){var s=Il;return Il+=1,$a===null&&($a=[]),n=__($a,n,s),s=Rt,(Ie===null?s.memoizedState:Ie.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?uv:zd),n}function Uc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Dl(n);if(n.$$typeof===Z)return Ye(n)}throw Error(r(438,String(n)))}function Id(n){var s=null,a=Rt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Lc(),Rt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=N;return s.index++,a}function ts(n,s){return typeof s=="function"?s(n):s}function kc(n){var s=ve();return Dd(s,Wt,n)}function Dd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var A=v=null,D=null,B=s,K=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Nt&$)===$:(Ji&$)===$){var j=B.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Ha&&(K=!0);else if((Ji&j)===j){B=B.next,j===Ha&&(K=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(A=D=$,v=d):D=D.next=$,Rt.lanes|=j,Fs|=j;$=B.action,Yr&&a(d,$),d=B.hasEagerState?B.eagerState:a(d,$)}else j={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(A=D=j,v=d):D=D.next=j,Rt.lanes|=$,Fs|=$;B=B.next}while(B!==null&&B!==s);if(D===null?v=d:D.next=A,!Sn(d,n.memoizedState)&&(De=!0,K&&(a=Ga,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Vd(n){var s=ve(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);Sn(d,s.memoizedState)||(De=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function D_(n,s,a){var l=Rt,f=ve(),d=kt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Sn((Wt||f).memoizedState,a);if(v&&(f.memoizedState=a,De=!0),f=f.queue,Nd(O_.bind(null,l,f,n),[n]),f.getSnapshot!==s||v||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},M_.bind(null,l,f,a,s),null),ne===null)throw Error(r(349));d||(Ji&127)!==0||V_(l,s,a)}return a}function V_(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Rt.updateQueue,s===null?(s=Lc(),Rt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function M_(n,s,a,l){s.value=a,s.getSnapshot=l,N_(s)&&x_(n)}function O_(n,s,a){return a(function(){N_(s)&&x_(n)})}function N_(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Sn(n,a)}catch{return!0}}function x_(n){var s=kr(n,2);s!==null&&yn(s,n,2)}function Md(n){var s=un();if(typeof n=="function"){var a=n;if(n=a(),Yr){Vn(!0);try{a()}finally{Vn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:n},s}function P_(n,s,a,l){return n.baseState=a,Dd(n,Wt,typeof l=="function"?l:ts)}function MR(n,s,a,l,f){if(jc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,L_(s,d)):(d.next=a.next,s.pending=a.next=d)}}function L_(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=Y.T,v={};Y.T=v;try{var A=a(f,l),D=Y.S;D!==null&&D(v,A),U_(n,s,A)}catch(B){Od(n,s,B)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=a(f,l),U_(n,s,d)}catch(B){Od(n,s,B)}}function U_(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){k_(n,s,l)},function(l){return Od(n,s,l)}):k_(n,s,a)}function k_(n,s,a){s.status="fulfilled",s.value=a,z_(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,L_(n,a)))}function Od(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,z_(s),s=s.next;while(s!==l)}n.action=null}function z_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function B_(n,s){return s}function j_(n,s){if(kt){var a=ne.formState;if(a!==null){t:{var l=Rt;if(kt){if(se){e:{for(var f=se,d=zn;f.nodeType!==8;){if(!d){f=null;break e}if(f=jn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){se=jn(f.nextSibling),l=f.data==="F!";break t}}xs(l)}l=!1}l&&(s=a[0])}}return a=un(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B_,lastRenderedState:s},a.queue=l,a=av.bind(null,Rt,l),l.dispatch=a,l=Md(!1),d=kd.bind(null,Rt,!1,l.queue),l=un(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=MR.bind(null,Rt,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function q_(n){var s=ve();return F_(s,Wt,n)}function F_(n,s,a){if(s=Dd(n,s,B_)[0],n=kc(ts)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Dl(s)}catch(v){throw v===Ka?Ic:v}else l=s;s=ve();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Rt.flags|=2048,Wa(9,{destroy:void 0},OR.bind(null,f,a),null)),[l,d,n]}function OR(n,s){n.action=s}function H_(n){var s=ve(),a=Wt;if(a!==null)return F_(s,a,n);ve(),s=s.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Wa(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Rt.updateQueue,s===null&&(s=Lc(),Rt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function G_(){return ve().memoizedState}function zc(n,s,a,l){var f=un();Rt.flags|=n,f.memoizedState=Wa(1|s,{destroy:void 0},a,l===void 0?null:l)}function Bc(n,s,a,l){var f=ve();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&Sd(l,Wt.memoizedState.deps)?f.memoizedState=Wa(s,d,a,l):(Rt.flags|=n,f.memoizedState=Wa(1|s,d,a,l))}function K_(n,s){zc(8390656,8,n,s)}function Nd(n,s){Bc(2048,8,n,s)}function NR(n){Rt.flags|=4;var s=Rt.updateQueue;if(s===null)s=Lc(),Rt.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function Y_(n){var s=ve().memoizedState;return NR({ref:s,nextImpl:n}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Q_(n,s){return Bc(4,2,n,s)}function X_(n,s){return Bc(4,4,n,s)}function $_(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function W_(n,s,a){a=a!=null?a.concat([n]):null,Bc(4,4,$_.bind(null,s,n),a)}function xd(){}function Z_(n,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Sd(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function J_(n,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Sd(s,l[1]))return l[0];if(l=n(),Yr){Vn(!0);try{n()}finally{Vn(!1)}}return a.memoizedState=[l,s],l}function Pd(n,s,a){return a===void 0||(Ji&1073741824)!==0&&(Nt&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=tT(),Rt.lanes|=n,Fs|=n,a)}function tv(n,s,a,l){return Sn(a,s)?a:Qa.current!==null?(n=Pd(n,a,l),Sn(n,s)||(De=!0),n):(Ji&42)===0||(Ji&1073741824)!==0&&(Nt&261930)===0?(De=!0,n.memoizedState=a):(n=tT(),Rt.lanes|=n,Fs|=n,s)}function ev(n,s,a,l,f){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=Y.T,A={};Y.T=A,kd(n,!1,s,a);try{var D=f(),B=Y.S;if(B!==null&&B(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=IR(D,l);Vl(n,s,K,Dn(n))}else Vl(n,s,l,Dn(n))}catch($){Vl(n,s,{then:function(){},status:"rejected",reason:$},Dn())}finally{nt.p=d,v!==null&&A.types!==null&&(v.types=A.types),Y.T=v}}function xR(){}function Ld(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=nv(n).queue;ev(n,f,s,ft,a===null?xR:function(){return iv(n),a(l)})}function nv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function iv(n){var s=nv(n);s.next===null&&(s=n.alternate.memoizedState),Vl(n,s.next.queue,{},Dn())}function Ud(){return Ye(Yl)}function sv(){return ve().memoizedState}function rv(){return ve().memoizedState}function PR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Dn();n=Us(a);var l=ks(s,n,a);l!==null&&(yn(l,s,a),wl(l,s,a)),s={cache:fd()},n.payload=s;return}s=s.return}}function LR(n,s,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jc(n)?ov(s,a):(a=ed(n,s,a,l),a!==null&&(yn(a,n,l),lv(a,s,l)))}function av(n,s,a){var l=Dn();Vl(n,s,a,l)}function Vl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(n))ov(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,A=d(v,a);if(f.hasEagerState=!0,f.eagerState=A,Sn(A,v))return Ec(n,s,f,0),ne===null&&Tc(),!1}catch{}finally{}if(a=ed(n,s,f,l),a!==null)return yn(a,n,l),lv(a,s,l),!0}return!1}function kd(n,s,a,l){if(l={lane:2,revertLane:gm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jc(n)){if(s)throw Error(r(479))}else s=ed(n,a,l,2),s!==null&&yn(s,n,2)}function jc(n){var s=n.alternate;return n===Rt||s!==null&&s===Rt}function ov(n,s){Xa=xc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function lv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Zo(n,a)}}var Ml={readContext:Ye,use:Uc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Ml.useEffectEvent=de;var uv={readContext:Ye,use:Uc,useCallback:function(n,s){return un().memoizedState=[n,s===void 0?null:s],n},useContext:Ye,useEffect:K_,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,zc(4194308,4,$_.bind(null,s,n),a)},useLayoutEffect:function(n,s){return zc(4194308,4,n,s)},useInsertionEffect:function(n,s){zc(4,2,n,s)},useMemo:function(n,s){var a=un();s=s===void 0?null:s;var l=n();if(Yr){Vn(!0);try{n()}finally{Vn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=un();if(a!==void 0){var f=a(s);if(Yr){Vn(!0);try{a(s)}finally{Vn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=LR.bind(null,Rt,n),[l.memoizedState,n]},useRef:function(n){var s=un();return n={current:n},s.memoizedState=n},useState:function(n){n=Md(n);var s=n.queue,a=av.bind(null,Rt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:xd,useDeferredValue:function(n,s){var a=un();return Pd(a,n,s)},useTransition:function(){var n=Md(!1);return n=ev.bind(null,Rt,n.queue,!0,!1),un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Rt,f=un();if(kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ne===null)throw Error(r(349));(Nt&127)!==0||V_(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,K_(O_.bind(null,l,d,n),[n]),l.flags|=2048,Wa(9,{destroy:void 0},M_.bind(null,l,d,a,s),null),a},useId:function(){var n=un(),s=ne.identifierPrefix;if(kt){var a=Oi,l=Mi;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Pc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=DR++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Ud,useFormState:j_,useActionState:j_,useOptimistic:function(n){var s=un();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=kd.bind(null,Rt,!0,a),a.dispatch=s,[n,s]},useMemoCache:Id,useCacheRefresh:function(){return un().memoizedState=PR.bind(null,Rt)},useEffectEvent:function(n){var s=un(),a={impl:n};return s.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zd={readContext:Ye,use:Uc,useCallback:Z_,useContext:Ye,useEffect:Nd,useImperativeHandle:W_,useInsertionEffect:Q_,useLayoutEffect:X_,useMemo:J_,useReducer:kc,useRef:G_,useState:function(){return kc(ts)},useDebugValue:xd,useDeferredValue:function(n,s){var a=ve();return tv(a,Wt.memoizedState,n,s)},useTransition:function(){var n=kc(ts)[0],s=ve().memoizedState;return[typeof n=="boolean"?n:Dl(n),s]},useSyncExternalStore:D_,useId:sv,useHostTransitionStatus:Ud,useFormState:q_,useActionState:q_,useOptimistic:function(n,s){var a=ve();return P_(a,Wt,n,s)},useMemoCache:Id,useCacheRefresh:rv};zd.useEffectEvent=Y_;var cv={readContext:Ye,use:Uc,useCallback:Z_,useContext:Ye,useEffect:Nd,useImperativeHandle:W_,useInsertionEffect:Q_,useLayoutEffect:X_,useMemo:J_,useReducer:Vd,useRef:G_,useState:function(){return Vd(ts)},useDebugValue:xd,useDeferredValue:function(n,s){var a=ve();return Wt===null?Pd(a,n,s):tv(a,Wt.memoizedState,n,s)},useTransition:function(){var n=Vd(ts)[0],s=ve().memoizedState;return[typeof n=="boolean"?n:Dl(n),s]},useSyncExternalStore:D_,useId:sv,useHostTransitionStatus:Ud,useFormState:H_,useActionState:H_,useOptimistic:function(n,s){var a=ve();return Wt!==null?P_(a,Wt,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Id,useCacheRefresh:rv};cv.useEffectEvent=Y_;function Bd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var jd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Us(l);f.payload=s,a!=null&&(f.callback=a),s=ks(n,f,l),s!==null&&(yn(s,n,l),wl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Us(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=ks(n,f,l),s!==null&&(yn(s,n,l),wl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Dn(),l=Us(a);l.tag=2,s!=null&&(l.callback=s),s=ks(n,l,a),s!==null&&(yn(s,n,a),wl(s,n,a))}};function hv(n,s,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!yl(a,l)||!yl(f,d):!0}function fv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&jd.enqueueReplaceState(s,s.state,null)}function Qr(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function dv(n){vc(n)}function mv(n){console.error(n)}function pv(n){vc(n)}function qc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function gv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qd(n,s,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(n,s)},a}function yv(n){return n=Us(n),n.tag=3,n}function _v(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){gv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){gv(s,a,l),typeof f!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function UR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Fa(s,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?th():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Dc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),dm(n,l,f)),!1;case 22:return a.flags|=65536,l===Dc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),dm(n,l,f)),!1}throw Error(r(435,a.tag))}return dm(n,l,f),th(),!1}if(kt)return s=wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==od&&(n=Error(r(422),{cause:l}),Tl(Ln(n,a)))):(l!==od&&(s=Error(r(423),{cause:l}),Tl(Ln(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Ln(l,a),f=qd(n.stateNode,l,f),_d(n,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=Ln(d,a),zl===null?zl=[d]:zl.push(d),me!==4&&(me=2),s===null)return!0;l=Ln(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=qd(a.stateNode,l,n),_d(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hs===null||!Hs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=yv(f),_v(f,n,a,l),_d(a,f),!1}a=a.return}while(a!==null);return!1}var Fd=Error(r(461)),De=!1;function Qe(n,s,a,l){s.child=n===null?A_(s,null,a,l):Kr(s,n.child,a,l)}function vv(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return qr(s),l=bd(n,s,a,v,d,f),A=wd(),n!==null&&!De?(Rd(n,s,f),es(n,s,f)):(kt&&A&&rd(s),s.flags|=1,Qe(n,s,l,f),s.child)}function Tv(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!nd(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,Ev(n,s,d,l,f)):(n=Sc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!Wd(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(v,l)&&n.ref===s.ref)return es(n,s,f)}return s.flags|=1,n=Xi(d,l),n.ref=s.ref,n.return=s,s.child=n}function Ev(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(yl(d,l)&&n.ref===s.ref)if(De=!1,s.pendingProps=l=d,Wd(n,f))(n.flags&131072)!==0&&(De=!0);else return s.lanes=n.lanes,es(n,s,f)}return Hd(n,s,a,l,f)}function Av(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return Sv(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Cc(s,d!==null?d.cachePool:null),d!==null?w_(s,d):Td(),R_(s);else return l=s.lanes=536870912,Sv(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Cc(s,d.cachePool),w_(s,d),Bs(),s.memoizedState=null):(n!==null&&Cc(s,null),Td(),Bs());return Qe(n,s,f,a),s.child}function Ol(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Sv(n,s,a,l,f){var d=md();return d=d===null?null:{parent:Ce._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Cc(s,null),Td(),R_(s),n!==null&&Fa(n,s,l,!0),s.childLanes=f,null}function Fc(n,s){return s=Gc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function bv(n,s,a){return Kr(s,n.child,null,a),n=Fc(s,s.pendingProps),n.flags|=2,Rn(s),s.memoizedState=null,n}function kR(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(kt){if(l.mode==="hidden")return n=Fc(s,l),s.lanes=536870912,Ol(null,n);if(Ad(s),(n=se)?(n=LT(n,zn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Os!==null?{id:Mi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=o_(n),a.return=s,s.child=a,Ke=s,se=null)):n=null,n===null)throw xs(s);return s.lanes=536870912,null}return Fc(s,l)}var d=n.memoizedState;if(d!==null){var v=d.dehydrated;if(Ad(s),f)if(s.flags&256)s.flags&=-257,s=bv(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(De||Fa(n,s,a,!1),f=(a&n.childLanes)!==0,De||f){if(l=ne,l!==null&&(v=Jo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,kr(n,v),yn(l,n,v),Fd;th(),s=bv(n,s,a)}else n=d.treeContext,se=jn(v.nextSibling),Ke=s,kt=!0,Ns=null,zn=!1,n!==null&&c_(s,n),s=Fc(s,l),s.flags|=4096;return s}return n=Xi(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Hc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Hd(n,s,a,l,f){return qr(s),a=bd(n,s,a,l,void 0,f),l=wd(),n!==null&&!De?(Rd(n,s,f),es(n,s,f)):(kt&&l&&rd(s),s.flags|=1,Qe(n,s,a,f),s.child)}function wv(n,s,a,l,f,d){return qr(s),s.updateQueue=null,a=I_(s,l,a,f),C_(n),l=wd(),n!==null&&!De?(Rd(n,s,d),es(n,s,d)):(kt&&l&&rd(s),s.flags|=1,Qe(n,s,a,d),s.child)}function Rv(n,s,a,l,f){if(qr(s),s.stateNode===null){var d=za,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ye(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},gd(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ye(v):za,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Bd(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&jd.enqueueReplaceState(d,d.state,null),Cl(s,l,d,f),Rl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var A=s.memoizedProps,D=Qr(a,A);d.props=D;var B=d.context,K=a.contextType;v=za,typeof K=="object"&&K!==null&&(v=Ye(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||B!==v)&&fv(s,d,l,v),Ls=!1;var j=s.memoizedState;d.state=j,Cl(s,l,d,f),Rl(),B=s.memoizedState,A||j!==B||Ls?(typeof $=="function"&&(Bd(s,a,$,l),B=s.memoizedState),(D=Ls||hv(s,a,D,l,j,B,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=B),d.props=l,d.state=B,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,yd(n,s),v=s.memoizedProps,K=Qr(a,v),d.props=K,$=s.pendingProps,j=d.context,B=a.contextType,D=za,typeof B=="object"&&B!==null&&(D=Ye(B)),A=a.getDerivedStateFromProps,(B=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||j!==D)&&fv(s,d,l,D),Ls=!1,j=s.memoizedState,d.state=j,Cl(s,l,d,f),Rl();var G=s.memoizedState;v!==$||j!==G||Ls||n!==null&&n.dependencies!==null&&wc(n.dependencies)?(typeof A=="function"&&(Bd(s,a,A,l),G=s.memoizedState),(K=Ls||hv(s,a,K,l,j,G,D)||n!==null&&n.dependencies!==null&&wc(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,D)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=G),d.props=l,d.state=G,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Hc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=Kr(s,n.child,null,f),s.child=Kr(s,null,a,f)):Qe(n,s,a,f),s.memoizedState=d.state,n=s.child):n=es(n,s,f),n}function Cv(n,s,a,l){return Br(),s.flags|=256,Qe(n,s,a,l),s.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(n){return{baseLanes:n,cachePool:g_()}}function Yd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=In),n}function Iv(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(_e.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(kt){if(f?zs(s):Bs(),(n=se)?(n=LT(n,zn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Os!==null?{id:Mi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=o_(n),a.return=s,s.child=a,Ke=s,se=null)):n=null,n===null)throw xs(s);return Dm(n)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Bs(),f=s.mode,A=Gc({mode:"hidden",children:A},f),l=zr(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=Kd(a),l.childLanes=Yd(n,v,a),s.memoizedState=Gd,Ol(null,l)):(zs(s),Qd(s,A))}var D=n.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(d)s.flags&256?(zs(s),s.flags&=-257,s=Xd(n,s,a)):s.memoizedState!==null?(Bs(),s.child=n.child,s.flags|=128,s=null):(Bs(),A=l.fallback,f=s.mode,l=Gc({mode:"visible",children:l.children},f),A=zr(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,Kr(s,n.child,null,a),l=s.child,l.memoizedState=Kd(a),l.childLanes=Yd(n,v,a),s.memoizedState=Gd,s=Ol(null,l));else if(zs(s),Dm(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(r(419)),l.stack="",l.digest=v,Tl({value:l,source:null,stack:null}),s=Xd(n,s,a)}else if(De||Fa(n,s,a,!1),v=(a&n.childLanes)!==0,De||v){if(v=ne,v!==null&&(l=Jo(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,kr(n,l),yn(v,n,l),Fd;Im(A)||th(),s=Xd(n,s,a)}else Im(A)?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,se=jn(A.nextSibling),Ke=s,kt=!0,Ns=null,zn=!1,n!==null&&c_(s,n),s=Qd(s,l.children),s.flags|=4096);return s}return f?(Bs(),A=l.fallback,f=s.mode,D=n.child,B=D.sibling,l=Xi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?A=Xi(B,A):(A=zr(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,Ol(null,l),l=s.child,A=n.child.memoizedState,A===null?A=Kd(a):(f=A.cachePool,f!==null?(D=Ce._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=g_(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Yd(n,v,a),s.memoizedState=Gd,Ol(n.child,l)):(zs(s),a=n.child,n=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=a,s.memoizedState=null,a)}function Qd(n,s){return s=Gc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Gc(n,s){return n=bn(22,n,null,s),n.lanes=0,n}function Xd(n,s,a){return Kr(s,n.child,null,a),n=Qd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Dv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),cd(n.return,s,a)}function $d(n,s,a,l,f,d){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Vv(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=_e.current,A=(v&2)!==0;if(A?(v=v&1|2,s.flags|=128):v&=1,st(_e,v),Qe(n,s,l,a),l=kt?vl:0,!A&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Dv(n,a,s);else if(n.tag===19)Dv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Nc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),$d(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Nc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}$d(s,!0,a,null,d,l);break;case"together":$d(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function es(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Fs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Fa(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Xi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Xi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Wd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&wc(n)))}function zR(n,s,a){switch(s.tag){case 3:Pe(s,s.stateNode.containerInfo),Ps(s,Ce,n.memoizedState.cache),Br();break;case 27:case 5:Tr(s);break;case 4:Pe(s,s.stateNode.containerInfo);break;case 10:Ps(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ad(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(zs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Iv(n,s,a):(zs(s),n=es(n,s,a),n!==null?n.sibling:null);zs(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Fa(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Vv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(_e,_e.current),l)break;return null;case 22:return s.lanes=0,Av(n,s,a,s.pendingProps);case 24:Ps(s,Ce,n.memoizedState.cache)}return es(n,s,a)}function Mv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)De=!0;else{if(!Wd(n,a)&&(s.flags&128)===0)return De=!1,zR(n,s,a);De=(n.flags&131072)!==0}else De=!1,kt&&(s.flags&1048576)!==0&&u_(s,vl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=Hr(s.elementType),s.type=n,typeof n=="function")nd(n)?(l=Qr(n,l),s.tag=1,s=Rv(null,s,n,l,a)):(s.tag=0,s=Hd(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===ht){s.tag=11,s=vv(null,s,n,l,a);break t}else if(f===R){s.tag=14,s=Tv(null,s,n,l,a);break t}}throw s=ee(n)||n,Error(r(306,s,""))}}return s;case 0:return Hd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Qr(l,s.pendingProps),Rv(n,s,l,f,a);case 3:t:{if(Pe(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,yd(n,s),Cl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Ps(s,Ce,l),l!==d.cache&&hd(s,[Ce],a,!0),Rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Cv(n,s,l,a);break t}else if(l!==f){f=Ln(Error(r(424)),s),Tl(f),s=Cv(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(se=jn(n.firstChild),Ke=s,kt=!0,Ns=null,zn=!0,a=A_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Br(),l===f){s=es(n,s,a);break t}Qe(n,s,l,a)}s=s.child}return s;case 26:return Hc(n,s),n===null?(a=qT(s.type,null,s.pendingProps,null))?s.memoizedState=a:kt||(a=s.type,n=s.pendingProps,l=oh(It.current).createElement(a),l[be]=s,l[Be]=n,Xe(l,a,n),we(l),s.stateNode=l):s.memoizedState=qT(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Tr(s),n===null&&kt&&(l=s.stateNode=zT(s.type,s.pendingProps,It.current),Ke=s,zn=!0,f=se,Qs(s.type)?(Vm=f,se=jn(l.firstChild)):se=f),Qe(n,s,s.pendingProps.children,a),Hc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&kt&&((f=l=se)&&(l=pC(l,s.type,s.pendingProps,zn),l!==null?(s.stateNode=l,Ke=s,se=jn(l.firstChild),zn=!1,f=!0):f=!1),f||xs(s)),Tr(s),f=s.type,d=s.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,wm(f,d)?l=null:v!==null&&wm(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=bd(n,s,VR,null,null,a),Yl._currentValue=f),Hc(n,s),Qe(n,s,l,a),s.child;case 6:return n===null&&kt&&((n=a=se)&&(a=gC(a,s.pendingProps,zn),a!==null?(s.stateNode=a,Ke=s,se=null,n=!0):n=!1),n||xs(s)),null;case 13:return Iv(n,s,a);case 4:return Pe(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Kr(s,null,l,a):Qe(n,s,l,a),s.child;case 11:return vv(n,s,s.type,s.pendingProps,a);case 7:return Qe(n,s,s.pendingProps,a),s.child;case 8:return Qe(n,s,s.pendingProps.children,a),s.child;case 12:return Qe(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ps(s,s.type,l.value),Qe(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,qr(s),f=Ye(f),l=l(f),s.flags|=1,Qe(n,s,l,a),s.child;case 14:return Tv(n,s,s.type,s.pendingProps,a);case 15:return Ev(n,s,s.type,s.pendingProps,a);case 19:return Vv(n,s,a);case 31:return kR(n,s,a);case 22:return Av(n,s,a,s.pendingProps);case 24:return qr(s),l=Ye(Ce),n===null?(f=md(),f===null&&(f=ne,d=fd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},gd(s),Ps(s,Ce,f)):((n.lanes&a)!==0&&(yd(n,s),Cl(s,null,null,a),Rl()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ps(s,Ce,l)):(l=d.cache,Ps(s,Ce,l),l!==f.cache&&hd(s,[Ce],a,!0))),Qe(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ns(n){n.flags|=4}function Zd(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(sT())n.flags|=8192;else throw Gr=Dc,pd}else n.flags&=-16777217}function Ov(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!YT(s))if(sT())n.flags|=8192;else throw Gr=Dc,pd}function Kc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Zu():536870912,n.lanes|=s,eo|=s)}function Nl(n,s){if(!kt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function re(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function BR(n,s,a){var l=s.pendingProps;switch(ad(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(s),null;case 1:return re(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Zi(Ce),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(qa(s)?ns(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ld())),re(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(ns(s),d!==null?(re(s),Ov(s,d)):(re(s),Zd(s,f,null,l,a))):d?d!==n.memoizedState?(ns(s),re(s),Ov(s,d)):(re(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&ns(s),re(s),Zd(s,f,n,l,a)),null;case 27:if(Ta(s),a=It.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ns(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return re(s),null}n=ct.current,qa(s)?h_(s):(n=zT(f,l,a),s.stateNode=n,ns(s))}return re(s),null;case 5:if(Ta(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ns(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return re(s),null}if(d=ct.current,qa(s))h_(s);else{var v=oh(It.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[be]=s,d[Be]=l;t:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break t;for(;v.sibling===null;){if(v.return===null||v.return===s)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;t:switch(Xe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ns(s)}}return re(s),Zd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ns(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=It.current,qa(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=Ke,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[be]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||IT(n.nodeValue,a)),n||xs(s,!0)}else n=oh(n).createTextNode(l),n[be]=s,s.stateNode=n}return re(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=qa(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[be]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),n=!1}else a=ld(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Rn(s),s):(Rn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return re(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=qa(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[be]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),f=!1}else f=ld(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Rn(s),s):(Rn(s),null)}return Rn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Kc(s,s.updateQueue),re(s),null);case 4:return ae(),n===null&&Tm(s.stateNode.containerInfo),re(s),null;case 10:return Zi(s.type),re(s),null;case 19:if(W(_e),l=s.memoizedState,l===null)return re(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Nl(l,!1);else{if(me!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=Nc(n),d!==null){for(s.flags|=128,Nl(l,!1),n=d.updateQueue,s.updateQueue=n,Kc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)a_(a,n),a=a.sibling;return st(_e,_e.current&1|2),kt&&$i(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&on()>Wc&&(s.flags|=128,f=!0,Nl(l,!1),s.lanes=4194304)}else{if(!f)if(n=Nc(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Kc(s,n),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!kt)return re(s),null}else 2*on()-l.renderingStartTime>Wc&&a!==536870912&&(s.flags|=128,f=!0,Nl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=on(),n.sibling=null,a=_e.current,st(_e,f?a&1|2:a&1),kt&&$i(s,l.treeForkCount),n):(re(s),null);case 22:case 23:return Rn(s),Ed(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(re(s),s.subtreeFlags&6&&(s.flags|=8192)):re(s),a=s.updateQueue,a!==null&&Kc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&W(Fr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Zi(Ce),re(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function jR(n,s){switch(ad(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Zi(Ce),ae(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ta(s),null;case 31:if(s.memoizedState!==null){if(Rn(s),s.alternate===null)throw Error(r(340));Br()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Rn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Br()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return W(_e),null;case 4:return ae(),null;case 10:return Zi(s.type),null;case 22:case 23:return Rn(s),Ed(),n!==null&&W(Fr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Zi(Ce),null;case 25:return null;default:return null}}function Nv(n,s){switch(ad(s),s.tag){case 3:Zi(Ce),ae();break;case 26:case 27:case 5:Ta(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&Rn(s);break;case 13:Rn(s);break;case 19:W(_e);break;case 10:Zi(s.type);break;case 22:case 23:Rn(s),Ed(),n!==null&&W(Fr);break;case 24:Zi(Ce)}}function xl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(A){Xt(s,s.return,A)}}function js(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,f=s;var D=a,B=A;try{B()}catch(K){Xt(f,D,K)}}}l=l.next}while(l!==d)}}catch(K){Xt(s,s.return,K)}}function xv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{b_(s,a)}catch(l){Xt(n,n.return,l)}}}function Pv(n,s,a){a.props=Qr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(n,s,l)}}function Pl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Xt(n,s,f)}}function Ni(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(n,s,f)}else a.current=null}function Lv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xt(n,n.return,f)}}function Jd(n,s,a){try{var l=n.stateNode;uC(l,n.type,a,s),l[Be]=s}catch(f){Xt(n,n.return,f)}}function Uv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qs(n.type)||n.tag===4}function tm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Uv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qs(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function em(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Jn));else if(l!==4&&(l===27&&Qs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(em(n,s,a),n=n.sibling;n!==null;)em(n,s,a),n=n.sibling}function Yc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Qs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Yc(n,s,a),n=n.sibling;n!==null;)Yc(n,s,a),n=n.sibling}function kv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xe(s,l,a),s[be]=n,s[Be]=a}catch(d){Xt(n,n.return,d)}}var is=!1,Ve=!1,nm=!1,zv=typeof WeakSet=="function"?WeakSet:Set,qe=null;function qR(n,s){if(n=n.containerInfo,Sm=mh,n=Wy(n),Xf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,A=-1,D=-1,B=0,K=0,$=n,j=null;e:for(;;){for(var G;$!==a||f!==0&&$.nodeType!==3||(A=v+f),$!==d||l!==0&&$.nodeType!==3||(D=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(G=$.firstChild)!==null;)j=$,$=G;for(;;){if($===n)break e;if(j===a&&++B===f&&(A=v),j===d&&++K===l&&(D=v),(G=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=G}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(bm={focusedElem:n,selectionRange:a},mh=!1,qe=s;qe!==null;)if(s=qe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,qe=n;else for(;qe!==null;){switch(s=qe,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=Qr(a.type,f);n=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(yt){Xt(a,a.return,yt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Cm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,qe=n;break}qe=s.return}}function Bv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rs(n,a),l&4&&xl(5,a);break;case 1:if(rs(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(v){Xt(a,a.return,v)}else{var f=Qr(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(a,a.return,v)}}l&64&&xv(a),l&512&&Pl(a,a.return);break;case 3:if(rs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{b_(n,s)}catch(v){Xt(a,a.return,v)}}break;case 27:s===null&&l&4&&kv(a);case 26:case 5:rs(n,a),s===null&&l&4&&Lv(a),l&512&&Pl(a,a.return);break;case 12:rs(n,a);break;case 31:rs(n,a),l&4&&Fv(n,a);break;case 13:rs(n,a),l&4&&Hv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=WR.bind(null,a),yC(n,a))));break;case 22:if(l=a.memoizedState!==null||is,!l){s=s!==null&&s.memoizedState!==null||Ve,f=is;var d=Ve;is=l,(Ve=s)&&!d?as(n,a,(a.subtreeFlags&8772)!==0):rs(n,a),is=f,Ve=d}break;case 30:break;default:rs(n,a)}}function jv(n){var s=n.alternate;s!==null&&(n.alternate=null,jv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&wa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var le=null,dn=!1;function ss(n,s,a){for(a=a.child;a!==null;)qv(n,s,a),a=a.sibling}function qv(n,s,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Ve||Ni(a,s),ss(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||Ni(a,s);var l=le,f=dn;Qs(a.type)&&(le=a.stateNode,dn=!1),ss(n,s,a),Hl(a.stateNode),le=l,dn=f;break;case 5:Ve||Ni(a,s);case 6:if(l=le,f=dn,le=null,ss(n,s,a),le=l,dn=f,le!==null)if(dn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Xt(a,s,d)}else try{le.removeChild(a.stateNode)}catch(d){Xt(a,s,d)}break;case 18:le!==null&&(dn?(n=le,xT(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),uo(n)):xT(le,a.stateNode));break;case 4:l=le,f=dn,le=a.stateNode.containerInfo,dn=!0,ss(n,s,a),le=l,dn=f;break;case 0:case 11:case 14:case 15:js(2,a,s),Ve||js(4,a,s),ss(n,s,a);break;case 1:Ve||(Ni(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pv(a,s,l)),ss(n,s,a);break;case 21:ss(n,s,a);break;case 22:Ve=(l=Ve)||a.memoizedState!==null,ss(n,s,a),Ve=l;break;default:ss(n,s,a)}}function Fv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{uo(n)}catch(a){Xt(s,s.return,a)}}}function Hv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{uo(n)}catch(a){Xt(s,s.return,a)}}function FR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new zv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new zv),s;default:throw Error(r(435,n.tag))}}function Qc(n,s){var a=FR(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=ZR.bind(null,n,l);l.then(f,f)}})}function mn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=s,A=v;t:for(;A!==null;){switch(A.tag){case 27:if(Qs(A.type)){le=A.stateNode,dn=!1;break t}break;case 5:le=A.stateNode,dn=!1;break t;case 3:case 4:le=A.stateNode.containerInfo,dn=!0;break t}A=A.return}if(le===null)throw Error(r(160));qv(d,v,f),le=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Gv(s,n),s=s.sibling}var ri=null;function Gv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:mn(s,n),pn(n),l&4&&(js(3,n,n.return),xl(3,n),js(5,n,n.return));break;case 1:mn(s,n),pn(n),l&512&&(Ve||a===null||Ni(a,a.return)),l&64&&is&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ri;if(mn(s,n),pn(n),l&512&&(Ve||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[vi]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,a),d[be]=n,we(d),l=d;break t;case"link":var v=GT("link","href",f).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;case"meta":if(v=GT("meta","content",f).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[be]=n,we(d),l=d}n.stateNode=l}else KT(f,n.type,n.stateNode);else n.stateNode=HT(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?KT(f,n.type,n.stateNode):HT(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Jd(n,n.memoizedProps,a.memoizedProps)}break;case 27:mn(s,n),pn(n),l&512&&(Ve||a===null||Ni(a,a.return)),a!==null&&l&4&&Jd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(mn(s,n),pn(n),l&512&&(Ve||a===null||Ni(a,a.return)),n.flags&32){f=n.stateNode;try{fn(f,"")}catch(dt){Xt(n,n.return,dt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Jd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(nm=!0);break;case 6:if(mn(s,n),pn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(dt){Xt(n,n.return,dt)}}break;case 3:if(ch=null,f=ri,ri=lh(s.containerInfo),mn(s,n),ri=f,pn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(s.containerInfo)}catch(dt){Xt(n,n.return,dt)}nm&&(nm=!1,Kv(n));break;case 4:l=ri,ri=lh(n.stateNode.containerInfo),mn(s,n),pn(n),ri=l;break;case 12:mn(s,n),pn(n);break;case 31:mn(s,n),pn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Qc(n,l)));break;case 13:mn(s,n),pn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($c=on()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Qc(n,l)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=is,K=Ve;if(is=B||f,Ve=K||D,mn(s,n),Ve=K,is=B,pn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||is||Ve||Xr(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(d=D.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=D.stateNode;var $=D.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;A.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(dt){Xt(D,D.return,dt)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(dt){Xt(D,D.return,dt)}}}else if(s.tag===18){if(a===null){D=s;try{var G=D.stateNode;f?PT(G,!0):PT(D.stateNode,!1)}catch(dt){Xt(D,D.return,dt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qc(n,a))));break;case 19:mn(s,n),pn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Qc(n,l)));break;case 30:break;case 21:break;default:mn(s,n),pn(n)}}function pn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Uv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=tm(n);Yc(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(fn(v,""),a.flags&=-33);var A=tm(n);Yc(n,A,v);break;case 3:case 4:var D=a.stateNode.containerInfo,B=tm(n);em(n,B,D);break;default:throw Error(r(161))}}catch(K){Xt(n,n.return,K)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Kv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Kv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function rs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Bv(n,s.alternate,s),s=s.sibling}function Xr(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:js(4,s,s.return),Xr(s);break;case 1:Ni(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Pv(s,s.return,a),Xr(s);break;case 27:Hl(s.stateNode);case 26:case 5:Ni(s,s.return),Xr(s);break;case 22:s.memoizedState===null&&Xr(s);break;case 30:Xr(s);break;default:Xr(s)}n=n.sibling}}function as(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:as(f,d,a),xl(4,d);break;case 1:if(as(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)S_(D[f],A)}catch(B){Xt(l,l.return,B)}}a&&v&64&&xv(d),Pl(d,d.return);break;case 27:kv(d);case 26:case 5:as(f,d,a),a&&l===null&&v&4&&Lv(d),Pl(d,d.return);break;case 12:as(f,d,a);break;case 31:as(f,d,a),a&&v&4&&Fv(f,d);break;case 13:as(f,d,a),a&&v&4&&Hv(f,d);break;case 22:d.memoizedState===null&&as(f,d,a),Pl(d,d.return);break;case 30:break;default:as(f,d,a)}s=s.sibling}}function im(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&El(a))}function sm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&El(n))}function ai(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yv(n,s,a,l),s=s.sibling}function Yv(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ai(n,s,a,l),f&2048&&xl(9,s);break;case 1:ai(n,s,a,l);break;case 3:ai(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&El(n)));break;case 12:if(f&2048){ai(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Xt(s,s.return,D)}}else ai(n,s,a,l);break;case 31:ai(n,s,a,l);break;case 13:ai(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?ai(n,s,a,l):Ll(n,s):d._visibility&2?ai(n,s,a,l):(d._visibility|=2,Za(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&im(v,s);break;case 24:ai(n,s,a,l),f&2048&&sm(s.alternate,s);break;default:ai(n,s,a,l)}}function Za(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,v=s,A=a,D=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Za(d,v,A,D,f),xl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Za(d,v,A,D,f):Ll(d,v):(K._visibility|=2,Za(d,v,A,D,f)),f&&B&2048&&im(v.alternate,v);break;case 24:Za(d,v,A,D,f),f&&B&2048&&sm(v.alternate,v);break;default:Za(d,v,A,D,f)}s=s.sibling}}function Ll(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ll(a,l),f&2048&&im(l.alternate,l);break;case 24:Ll(a,l),f&2048&&sm(l.alternate,l);break;default:Ll(a,l)}s=s.sibling}}var Ul=8192;function Ja(n,s,a){if(n.subtreeFlags&Ul)for(n=n.child;n!==null;)Qv(n,s,a),n=n.sibling}function Qv(n,s,a){switch(n.tag){case 26:Ja(n,s,a),n.flags&Ul&&n.memoizedState!==null&&DC(a,ri,n.memoizedState,n.memoizedProps);break;case 5:Ja(n,s,a);break;case 3:case 4:var l=ri;ri=lh(n.stateNode.containerInfo),Ja(n,s,a),ri=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,Ja(n,s,a),Ul=l):Ja(n,s,a));break;default:Ja(n,s,a)}}function Xv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function kl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qe=l,Wv(l,n)}Xv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$v(n),n=n.sibling}function $v(n){switch(n.tag){case 0:case 11:case 15:kl(n),n.flags&2048&&js(9,n,n.return);break;case 3:kl(n);break;case 12:kl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Xc(n)):kl(n);break;default:kl(n)}}function Xc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qe=l,Wv(l,n)}Xv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:js(8,s,s.return),Xc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(s));break;default:Xc(s)}n=n.sibling}}function Wv(n,s){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:js(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qe=l;else t:for(a=n;qe!==null;){l=qe;var f=l.sibling,d=l.return;if(jv(l),l===a){qe=null;break t}if(f!==null){f.return=d,qe=f;break t}qe=d}}}var HR={getCacheForType:function(n){var s=Ye(Ce),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Ye(Ce).controller.signal}},GR=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Vt=null,Nt=0,Qt=0,Cn=null,qs=!1,to=!1,rm=!1,os=0,me=0,Fs=0,$r=0,am=0,In=0,eo=0,zl=null,gn=null,om=!1,$c=0,Zv=0,Wc=1/0,Zc=null,Hs=null,Ue=0,Gs=null,no=null,ls=0,lm=0,um=null,Jv=null,Bl=0,cm=null;function Dn(){return(Gt&2)!==0&&Nt!==0?Nt&-Nt:Y.T!==null?gm():Ju()}function tT(){if(In===0)if((Nt&536870912)===0||kt){var n=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),In=n}else In=536870912;return n=wn.current,n!==null&&(n.flags|=32),In}function yn(n,s,a){(n===ne&&(Qt===2||Qt===9)||n.cancelPendingCommit!==null)&&(io(n,0),Ks(n,Nt,In,!1)),br(n,a),((Gt&2)===0||n!==ne)&&(n===ne&&((Gt&2)===0&&($r|=a),me===4&&Ks(n,Nt,In,!1)),xi(n))}function eT(n,s,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||$n(n,s),f=l?QR(n,s):fm(n,s,!0),d=l;do{if(f===0){to&&!l&&Ks(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!KR(a)){f=fm(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;t:{var A=n;f=zl;var D=A.current.memoizedState.isDehydrated;if(D&&(io(A,v).flags|=256),v=fm(A,v,!1),v!==2){if(rm&&!D){A.errorRecoveryDisabledLanes|=d,$r|=d,f=4;break t}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){io(n,0),Ks(n,s,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ks(l,s,In,!qs);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=$c+300-on(),10<f)){if(Ks(l,s,In,!qs),gi(l,0,!0)!==0)break t;ls=s,l.timeoutHandle=OT(nT.bind(null,l,a,gn,Zc,om,s,In,$r,eo,qs,d,"Throttled",-0,0),f);break t}nT(l,a,gn,Zc,om,s,In,$r,eo,qs,d,null,-0,0)}}break}while(!0);xi(n)}function nT(n,s,a,l,f,d,v,A,D,B,K,$,j,G){if(n.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Qv(s,d,$);var dt=(d&62914560)===d?$c-on():(d&4194048)===d?Zv-on():0;if(dt=VC($,dt),dt!==null){ls=d,n.cancelPendingCommit=dt(cT.bind(null,n,s,d,a,l,f,v,A,D,K,$,null,j,G)),Ks(n,d,v,!B);return}}cT(n,s,d,a,l,f,v,A,D)}function KR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Sn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ks(n,s,a,l){s&=~am,s&=~$r,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-ge(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&wr(n,a,s)}function Jc(){return(Gt&6)===0?(jl(0),!1):!0}function hm(){if(Vt!==null){if(Qt===0)var n=Vt.return;else n=Vt,Wi=jr=null,Cd(n),Ya=null,Sl=0,n=Vt;for(;n!==null;)Nv(n.alternate,n),n=n.return;Vt=null}}function io(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,fC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),ls=0,hm(),ne=n,Vt=a=Xi(n.current,null),Nt=s,Qt=0,Cn=null,qs=!1,to=$n(n,s),rm=!1,eo=In=am=$r=Fs=me=0,gn=zl=null,om=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-ge(l),d=1<<f;s|=n[f],l&=~d}return os=s,Tc(),a}function iT(n,s){Rt=null,Y.H=Ml,s===Ka||s===Ic?(s=v_(),Qt=3):s===pd?(s=v_(),Qt=4):Qt=s===Fd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,Vt===null&&(me=1,qc(n,Ln(s,n.current)))}function sT(){var n=wn.current;return n===null?!0:(Nt&4194048)===Nt?Bn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?n===Bn:!1}function rT(){var n=Y.H;return Y.H=Ml,n===null?Ml:n}function aT(){var n=Y.A;return Y.A=HR,n}function th(){me=4,qs||(Nt&4194048)!==Nt&&wn.current!==null||(to=!0),(Fs&134217727)===0&&($r&134217727)===0||ne===null||Ks(ne,Nt,In,!1)}function fm(n,s,a){var l=Gt;Gt|=2;var f=rT(),d=aT();(ne!==n||Nt!==s)&&(Zc=null,io(n,s)),s=!1;var v=me;t:do try{if(Qt!==0&&Vt!==null){var A=Vt,D=Cn;switch(Qt){case 8:hm(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(s=!0);var B=Qt;if(Qt=0,Cn=null,so(n,A,D,B),a&&to){v=0;break t}break;default:B=Qt,Qt=0,Cn=null,so(n,A,D,B)}}YR(),v=me;break}catch(K){iT(n,K)}while(!0);return s&&n.shellSuspendCounter++,Wi=jr=null,Gt=l,Y.H=f,Y.A=d,Vt===null&&(ne=null,Nt=0,Tc()),v}function YR(){for(;Vt!==null;)oT(Vt)}function QR(n,s){var a=Gt;Gt|=2;var l=rT(),f=aT();ne!==n||Nt!==s?(Zc=null,Wc=on()+500,io(n,s)):to=$n(n,s);t:do try{if(Qt!==0&&Vt!==null){s=Vt;var d=Cn;e:switch(Qt){case 1:Qt=0,Cn=null,so(n,s,d,1);break;case 2:case 9:if(y_(d)){Qt=0,Cn=null,lT(s);break}s=function(){Qt!==2&&Qt!==9||ne!==n||(Qt=7),xi(n)},d.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:y_(d)?(Qt=0,Cn=null,lT(s)):(Qt=0,Cn=null,so(n,s,d,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var A=Vt;if(v?YT(v):A.stateNode.complete){Qt=0,Cn=null;var D=A.sibling;if(D!==null)Vt=D;else{var B=A.return;B!==null?(Vt=B,eh(B)):Vt=null}break e}}Qt=0,Cn=null,so(n,s,d,5);break;case 6:Qt=0,Cn=null,so(n,s,d,6);break;case 8:hm(),me=6;break t;default:throw Error(r(462))}}XR();break}catch(K){iT(n,K)}while(!0);return Wi=jr=null,Y.H=l,Y.A=f,Gt=a,Vt!==null?0:(ne=null,Nt=0,Tc(),me)}function XR(){for(;Vt!==null&&!qf();)oT(Vt)}function oT(n){var s=Mv(n.alternate,n,os);n.memoizedProps=n.pendingProps,s===null?eh(n):Vt=s}function lT(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=wv(a,s,s.pendingProps,s.type,void 0,Nt);break;case 11:s=wv(a,s,s.pendingProps,s.type.render,s.ref,Nt);break;case 5:Cd(s);default:Nv(a,s),s=Vt=a_(s,os),s=Mv(a,s,os)}n.memoizedProps=n.pendingProps,s===null?eh(n):Vt=s}function so(n,s,a,l){Wi=jr=null,Cd(s),Ya=null,Sl=0;var f=s.return;try{if(UR(n,f,s,a,Nt)){me=1,qc(n,Ln(a,n.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;me=1,qc(n,Ln(a,n.current)),Vt=null;return}s.flags&32768?(kt||l===1?n=!0:to||(Nt&536870912)!==0?n=!1:(qs=n=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),uT(s,n)):eh(s)}function eh(n){var s=n;do{if((s.flags&32768)!==0){uT(s,qs);return}n=s.return;var a=BR(s.alternate,s,os);if(a!==null){Vt=a;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=n}while(s!==null);me===0&&(me=5)}function uT(n,s){do{var a=jR(n.alternate,n);if(a!==null){a.flags&=32767,Vt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Vt=n;return}Vt=n=a}while(n!==null);me=6,Vt=null}function cT(n,s,a,l,f,d,v,A,D){n.cancelPendingCommit=null;do nh();while(Ue!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=td,Gf(n,a,d,v,A,D),n===ne&&(Vt=ne=null,Nt=0),no=s,Gs=n,ls=a,lm=d,um=f,Jv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,JR(As,function(){return pT(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=nt.p,nt.p=2,v=Gt,Gt|=4;try{qR(n,s,a)}finally{Gt=v,nt.p=f,Y.T=l}}Ue=1,hT(),fT(),dT()}}function hT(){if(Ue===1){Ue=0;var n=Gs,s=no,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=nt.p;nt.p=2;var f=Gt;Gt|=4;try{Gv(s,n);var d=bm,v=Wy(n.containerInfo),A=d.focusedElem,D=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&$y(A.ownerDocument.documentElement,A)){if(D!==null&&Xf(A)){var B=D.start,K=D.end;if(K===void 0&&(K=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min(K,A.value.length);else{var $=A.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var G=j.getSelection(),dt=A.textContent.length,yt=Math.min(D.start,dt),Jt=D.end===void 0?yt:Math.min(D.end,dt);!G.extend&&yt>Jt&&(v=Jt,Jt=yt,yt=v);var L=Xy(A,yt),O=Xy(A,Jt);if(L&&O&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var z=$.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),yt>Jt?(G.addRange(z),G.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),G.addRange(z))}}}}for($=[],G=A;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<$.length;A++){var X=$[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}mh=!!Sm,bm=Sm=null}finally{Gt=f,nt.p=l,Y.T=a}}n.current=s,Ue=2}}function fT(){if(Ue===2){Ue=0;var n=Gs,s=no,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=nt.p;nt.p=2;var f=Gt;Gt|=4;try{Bv(n,s.alternate,s)}finally{Gt=f,nt.p=l,Y.T=a}}Ue=3}}function dT(){if(Ue===4||Ue===3){Ue=0,Ku();var n=Gs,s=no,a=ls,l=Jv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ue=5:(Ue=0,no=Gs=null,mT(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Hs=null),Gi(a),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Xn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Y.T,f=nt.p,nt.p=2,Y.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{Y.T=s,nt.p=f}}(ls&3)!==0&&nh(),xi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===cm?Bl++:(Bl=0,cm=n):Bl=0,jl(0)}}function mT(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,El(s)))}function nh(){return hT(),fT(),dT(),pT()}function pT(){if(Ue!==5)return!1;var n=Gs,s=lm;lm=0;var a=Gi(ls),l=Y.T,f=nt.p;try{nt.p=32>a?32:a,Y.T=null,a=um,um=null;var d=Gs,v=ls;if(Ue=0,no=Gs=null,ls=0,(Gt&6)!==0)throw Error(r(331));var A=Gt;if(Gt|=4,$v(d.current),Yv(d,d.current,v,a),Gt=A,jl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{nt.p=f,Y.T=l,mT(n,s)}}function gT(n,s,a){s=Ln(a,s),s=qd(n.stateNode,s,2),n=ks(n,s,2),n!==null&&(br(n,2),xi(n))}function Xt(n,s,a){if(n.tag===3)gT(n,n,a);else for(;s!==null;){if(s.tag===3){gT(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hs===null||!Hs.has(l))){n=Ln(a,n),a=yv(2),l=ks(s,a,2),l!==null&&(_v(a,l,s,n),br(l,2),xi(l));break}}s=s.return}}function dm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new GR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(rm=!0,f.add(a),n=$R.bind(null,n,s,a),s.then(n,n))}function $R(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ne===n&&(Nt&a)===a&&(me===4||me===3&&(Nt&62914560)===Nt&&300>on()-$c?(Gt&2)===0&&io(n,0):am|=a,eo===Nt&&(eo=0)),xi(n)}function yT(n,s){s===0&&(s=Zu()),n=kr(n,s),n!==null&&(br(n,s),xi(n))}function WR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),yT(n,a)}function ZR(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),yT(n,a)}function JR(n,s){return Le(n,s)}var ih=null,ro=null,mm=!1,sh=!1,pm=!1,Ys=0;function xi(n){n!==ro&&n.next===null&&(ro===null?ih=ro=n:ro=ro.next=n),sh=!0,mm||(mm=!0,eC())}function jl(n,s){if(!pm&&sh){pm=!0;do for(var a=!1,l=ih;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-ge(42|n)+1)-1,d&=f&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ET(l,d))}else d=Nt,d=gi(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(a=!0,ET(l,d));l=l.next}while(a);pm=!1}}function tC(){_T()}function _T(){sh=mm=!1;var n=0;Ys!==0&&hC()&&(n=Ys);for(var s=on(),a=null,l=ih;l!==null;){var f=l.next,d=vT(l,s);d===0?(l.next=null,a===null?ih=f:a.next=f,f===null&&(ro=a)):(a=l,(n!==0||(d&3)!==0)&&(sh=!0)),l=f}Ue!==0&&Ue!==5||jl(n),Ys!==0&&(Ys=0)}function vT(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-ge(d),A=1<<v,D=f[v];D===-1?((A&a)===0||(A&l)!==0)&&(f[v]=Hf(A,s)):D<=s&&(n.expiredLanes|=A),d&=~A}if(s=ne,a=Nt,a=gi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Qt===2||Qt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Es(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||$n(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Es(l),Gi(a)){case 2:case 8:a=Wo;break;case 32:a=As;break;case 268435456:a=Yu;break;default:a=As}return l=TT.bind(null,n),a=Le(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Es(l),n.callbackPriority=2,n.callbackNode=null,2}function TT(n,s){if(Ue!==0&&Ue!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(nh()&&n.callbackNode!==a)return null;var l=Nt;return l=gi(n,n===ne?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(eT(n,l,s),vT(n,on()),n.callbackNode!=null&&n.callbackNode===a?TT.bind(null,n):null)}function ET(n,s){if(nh())return null;eT(n,s,!0)}function eC(){dC(function(){(Gt&6)!==0?Le($o,tC):_T()})}function gm(){if(Ys===0){var n=Ha;n===0&&(n=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Ys=n}return Ys}function AT(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Da(""+n)}function ST(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function nC(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=AT((f[Be]||null).action),v=l.submitter;v&&(s=(s=v[Be]||null)?AT(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var A=new Ci("action","action",null,l,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var D=v?ST(f,v):new FormData(f);Ld(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(A.preventDefault(),D=v?ST(f,v):new FormData(f),Ld(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var ym=0;ym<Jf.length;ym++){var _m=Jf[ym],iC=_m.toLowerCase(),sC=_m[0].toUpperCase()+_m.slice(1);si(iC,"on"+sC)}si(t_,"onAnimationEnd"),si(e_,"onAnimationIteration"),si(n_,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(TR,"onTransitionRun"),si(ER,"onTransitionStart"),si(AR,"onTransitionCancel"),si(i_,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function bT(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var A=l[v],D=A.instance,B=A.currentTarget;if(A=A.listener,D!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=B;try{d(f)}catch(K){vc(K)}f.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(A=l[v],D=A.instance,B=A.currentTarget,A=A.listener,D!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=B;try{d(f)}catch(K){vc(K)}f.currentTarget=null,d=D}}}}function Mt(n,s){var a=s[ba];a===void 0&&(a=s[ba]=new Set);var l=n+"__bubble";a.has(l)||(wT(s,n,2,!1),a.add(l))}function vm(n,s,a){var l=0;s&&(l|=4),wT(a,n,l,s)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Tm(n){if(!n[rh]){n[rh]=!0,tl.forEach(function(a){a!=="selectionchange"&&(rC.has(a)||vm(a,!1,n),vm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[rh]||(s[rh]=!0,vm("selectionchange",!1,s))}}function wT(n,s,a,l){switch(t0(s)){case 2:var f=NC;break;case 8:f=xC;break;default:f=Pm}a=f.bind(null,s,a,n),f=void 0,!Vr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Em(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===f)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;A!==null;){if(v=Ti(A),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue t}A=A.parentNode}}l=l.return}Is(function(){var B=d,K=On(a),$=[];t:{var j=s_.get(n);if(j!==void 0){var G=Ci,dt=n;switch(n){case"keypress":if(Or(a)===0)break t;case"keydown":case"keyup":G=gc;break;case"focusin":dt="focus",G=xr;break;case"focusout":dt="blur",G=xr;break;case"beforeblur":case"afterblur":G=xr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case t_:case e_:case n_:G=uc;break;case i_:G=b;break;case"scroll":case"scrollend":G=fl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Qi;break;case"toggle":case"beforetoggle":G=wt}var yt=(s&4)!==0,Jt=!yt&&(n==="scroll"||n==="scrollend"),L=yt?j!==null?j+"Capture":null:j;yt=[];for(var O=B,z;O!==null;){var X=O;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||L===null||(X=ti(O,L),X!=null&&yt.push(Fl(O,X,z))),Jt)break;O=O.return}0<yt.length&&(j=new G(j,dt,null,a,K),$.push({event:j,listeners:yt}))}}if((s&7)===0){t:{if(j=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",j&&a!==ul&&(dt=a.relatedTarget||a.fromElement)&&(Ti(dt)||dt[_i]))break t;if((G||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,G?(dt=a.relatedTarget||a.toElement,G=B,dt=dt?Ti(dt):null,dt!==null&&(Jt=u(dt),yt=dt.tag,dt!==Jt||yt!==5&&yt!==27&&yt!==6)&&(dt=null)):(G=null,dt=B),G!==dt)){if(yt=dl,X="onMouseLeave",L="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(yt=Qi,X="onPointerLeave",L="onPointerEnter",O="pointer"),Jt=G==null?j:En(G),z=dt==null?j:En(dt),j=new yt(X,O+"leave",G,a,K),j.target=Jt,j.relatedTarget=z,X=null,Ti(K)===B&&(yt=new yt(L,O+"enter",dt,a,K),yt.target=z,yt.relatedTarget=Jt,X=yt),Jt=X,G&&dt)e:{for(yt=aC,L=G,O=dt,z=0,X=L;X;X=yt(X))z++;X=0;for(var pt=O;pt;pt=yt(pt))X++;for(;0<z-X;)L=yt(L),z--;for(;0<X-z;)O=yt(O),X--;for(;z--;){if(L===O||O!==null&&L===O.alternate){yt=L;break e}L=yt(L),O=yt(O)}yt=null}else yt=null;G!==null&&RT($,j,G,yt,!1),dt!==null&&Jt!==null&&RT($,Jt,dt,yt,!0)}}t:{if(j=B?En(B):window,G=j.nodeName&&j.nodeName.toLowerCase(),G==="select"||G==="input"&&j.type==="file")var qt=Fy;else if(jy(j))if(Hy)qt=yR;else{qt=pR;var mt=mR}else G=j.nodeName,!G||G.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Ia(B.elementType)&&(qt=Fy):qt=gR;if(qt&&(qt=qt(n,B))){qy($,qt,a,K);break t}mt&&mt(n,j,B),n==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&al(j,"number",j.value)}switch(mt=B?En(B):window,n){case"focusin":(jy(mt)||mt.contentEditable==="true")&&(La=mt,$f=B,_l=null);break;case"focusout":_l=$f=La=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,Zy($,a,K);break;case"selectionchange":if(vR)break;case"keydown":case"keyup":Zy($,a,K)}var Dt;if(Ht)t:{switch(n){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Pa?Pr(n,a)&&(xt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(Vi&&a.locale!=="ko"&&(Pa||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Pa&&(Dt=hl()):(Ri=K,cl="value"in Ri?Ri.value:Ri.textContent,Pa=!0)),mt=ah(B,xt),0<mt.length&&(xt=new Di(xt,n,null,a,K),$.push({event:xt,listeners:mt}),Dt?xt.data=Dt:(Dt=xa(a),Dt!==null&&(xt.data=Dt)))),(Dt=xn?cR(n,a):hR(n,a))&&(xt=ah(B,"onBeforeInput"),0<xt.length&&(mt=new Di("onBeforeInput","beforeinput",null,a,K),$.push({event:mt,listeners:xt}),mt.data=Dt)),nC($,n,B,a,K)}bT($,s)})}function Fl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function ah(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ti(n,a),f!=null&&l.unshift(Fl(n,f,d)),f=ti(n,s),f!=null&&l.push(Fl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function aC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function RT(n,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var A=a,D=A.alternate,B=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||B===null||(D=B,f?(B=ti(a,d),B!=null&&v.unshift(Fl(a,B,D))):f||(B=ti(a,d),B!=null&&v.push(Fl(a,B,D)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var oC=/\r\n?/g,lC=/\u0000|\uFFFD/g;function CT(n){return(typeof n=="string"?n:""+n).replace(oC,`
`).replace(lC,"")}function IT(n,s){return s=CT(s),CT(n)===s}function Zt(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||fn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&fn(n,""+l);break;case"className":An(n,"class",l);break;case"tabIndex":An(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(n,a,l);break;case"style":ll(n,l,d);break;case"data":if(s!=="object"){An(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Da(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Zt(n,s,"name",f.name,f,null),Zt(n,s,"formEncType",f.formEncType,f,null),Zt(n,s,"formMethod",f.formMethod,f,null),Zt(n,s,"formTarget",f.formTarget,f,null)):(Zt(n,s,"encType",f.encType,f,null),Zt(n,s,"method",f.method,f,null),Zt(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Da(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Jn);break;case"onScroll":l!=null&&Mt("scroll",n);break;case"onScrollEnd":l!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Da(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),Ra(n,"popover",l);break;case"xlinkActuate":Re(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ac.get(a)||a,Ra(n,a,l))}}function Am(n,s,a,l,f,d){switch(a){case"style":ll(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?fn(n,l):(typeof l=="number"||typeof l=="bigint")&&fn(n,""+l);break;case"onScroll":l!=null&&Mt("scroll",n);break;case"onScrollEnd":l!=null&&Mt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[Be]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ra(n,a,l)}}}function Xe(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(n,s,d,v,a,null)}}f&&Zt(n,s,"srcSet",a.srcSet,a,null),l&&Zt(n,s,"src",a.src,a,null);return;case"input":Mt("invalid",n);var A=d=v=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":v=K;break;case"checked":D=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:Zt(n,s,l,K,a,null)}}ic(n,d,A,D,B,v,f,!1);return;case"select":Mt("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:Zt(n,s,f,A,a,null)}s=d,a=v,n.multiple=!!l,s!=null?bs(n,!!l,s,!1):a!=null&&bs(n,!!l,a,!0);return;case"textarea":Mt("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Zt(n,s,v,A,a,null)}ws(n,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(n,s,D,l,a,null)}return;case"dialog":Mt("beforetoggle",n),Mt("toggle",n),Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(l=0;l<ql.length;l++)Mt(ql[l],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(n,s,B,l,a,null)}return;default:if(Ia(s)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Am(n,s,K,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Zt(n,s,A,l,a,null))}function uC(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,A=null,D=null,B=null,K=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(G)||Zt(n,s,G,null,l,$)}}for(var j in l){var G=l[j];if($=a[j],l.hasOwnProperty(j)&&(G!=null||$!=null))switch(j){case"type":d=G;break;case"name":f=G;break;case"checked":B=G;break;case"defaultChecked":K=G;break;case"value":v=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==$&&Zt(n,s,j,G,l,$)}}Ca(n,v,A,D,B,K,d,f);return;case"select":G=v=A=j=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(d)||Zt(n,s,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":j=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==D&&Zt(n,s,f,d,l,D)}s=A,a=v,l=G,j!=null?bs(n,!!a,j,!1):!!l!=!!a&&(s!=null?bs(n,!!a,s,!0):bs(n,!!a,a?[]:"",!1));return;case"textarea":G=j=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(n,s,A,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":j=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Zt(n,s,v,f,l,d)}sc(n,j,G);return;case"option":for(var dt in a)if(j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":n.selected=!1;break;default:Zt(n,s,dt,null,l,j)}for(D in l)if(j=l[D],G=a[D],l.hasOwnProperty(D)&&j!==G&&(j!=null||G!=null))switch(D){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Zt(n,s,D,j,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Zt(n,s,yt,null,l,j);for(B in l)if(j=l[B],G=a[B],l.hasOwnProperty(B)&&j!==G&&(j!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:Zt(n,s,B,j,l,G)}return;default:if(Ia(s)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!l.hasOwnProperty(Jt)&&Am(n,s,Jt,void 0,l,j);for(K in l)j=l[K],G=a[K],!l.hasOwnProperty(K)||j===G||j===void 0&&G===void 0||Am(n,s,K,j,l,G);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&Zt(n,s,L,null,l,j);for($ in l)j=l[$],G=a[$],!l.hasOwnProperty($)||j===G||j==null&&G==null||Zt(n,s,$,j,l,G)}function DT(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cC(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,A=f.duration;if(d&&A&&DT(v)){for(v=0,A=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>A)break;var K=D.transferSize,$=D.initiatorType;K&&DT($)&&(D=D.responseEnd,v+=K*(D<A?1:(A-B)/(D-B)))}if(--l,s+=8*(d+v)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Sm=null,bm=null;function oh(n){return n.nodeType===9?n:n.ownerDocument}function VT(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function MT(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function wm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rm=null;function hC(){var n=window.event;return n&&n.type==="popstate"?n===Rm?!1:(Rm=n,!0):(Rm=null,!1)}var OT=typeof setTimeout=="function"?setTimeout:void 0,fC=typeof clearTimeout=="function"?clearTimeout:void 0,NT=typeof Promise=="function"?Promise:void 0,dC=typeof queueMicrotask=="function"?queueMicrotask:typeof NT<"u"?function(n){return NT.resolve(null).then(n).catch(mC)}:OT;function mC(n){setTimeout(function(){throw n})}function Qs(n){return n==="head"}function xT(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),uo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Hl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Hl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,A=d.nodeName;d[vi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Hl(n.ownerDocument.body);a=f}while(a);uo(s)}function PT(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Cm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cm(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function pC(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[vi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=jn(n.nextSibling),n===null)break}return null}function gC(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=jn(n.nextSibling),n===null))return null;return n}function LT(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=jn(n.nextSibling),n===null))return null;return n}function Im(n){return n.data==="$?"||n.data==="$~"}function Dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function yC(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function jn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Vm=null;function UT(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return jn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function kT(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function zT(n,s,a){switch(s=oh(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Hl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);wa(n)}var qn=new Map,BT=new Set;function lh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var us=nt.d;nt.d={f:_C,r:vC,D:TC,C:EC,L:AC,m:SC,X:wC,S:bC,M:RC};function _C(){var n=us.f(),s=Jc();return n||s}function vC(n){var s=Mn(n);s!==null&&s.tag===5&&s.type==="form"?iv(s):us.r(n)}var ao=typeof document>"u"?null:document;function jT(n,s,a){var l=ao;if(l&&typeof s=="string"&&s){var f=hn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),BT.has(f)||(BT.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xe(s,"link",n),we(s),l.head.appendChild(s)))}}function TC(n){us.D(n),jT("dns-prefetch",n,null)}function EC(n,s){us.C(n,s),jT("preconnect",n,s)}function AC(n,s,a){us.L(n,s,a);var l=ao;if(l&&n&&s){var f='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(n)+'"]';var d=f;switch(s){case"style":d=oo(n);break;case"script":d=lo(n)}qn.has(d)||(n=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),qn.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Gl(d))||s==="script"&&l.querySelector(Kl(d))||(s=l.createElement("link"),Xe(s,"link",n),we(s),l.head.appendChild(s)))}}function SC(n,s){us.m(n,s);var a=ao;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(n)}if(!qn.has(d)&&(n=E({rel:"modulepreload",href:n},s),qn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(d)))return}l=a.createElement("link"),Xe(l,"link",n),we(l),a.head.appendChild(l)}}}function bC(n,s,a){us.S(n,s,a);var l=ao;if(l&&n){var f=Ei(l).hoistableStyles,d=oo(n);s=s||"default";var v=f.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Gl(d)))A.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":s},a),(a=qn.get(d))&&Mm(n,a);var D=v=l.createElement("link");we(D),Xe(D,"link",n),D._p=new Promise(function(B,K){D.onload=B,D.onerror=K}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,uh(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:A},f.set(d,v)}}}function wC(n,s){us.X(n,s);var a=ao;if(a&&n){var l=Ei(a).hoistableScripts,f=lo(n),d=l.get(f);d||(d=a.querySelector(Kl(f)),d||(n=E({src:n,async:!0},s),(s=qn.get(f))&&Om(n,s),d=a.createElement("script"),we(d),Xe(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function RC(n,s){us.M(n,s);var a=ao;if(a&&n){var l=Ei(a).hoistableScripts,f=lo(n),d=l.get(f);d||(d=a.querySelector(Kl(f)),d||(n=E({src:n,async:!0,type:"module"},s),(s=qn.get(f))&&Om(n,s),d=a.createElement("script"),we(d),Xe(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function qT(n,s,a,l){var f=(f=It.current)?lh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=oo(a.href),a=Ei(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=oo(a.href);var d=Ei(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(Gl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(n,a),d||CC(f,n,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lo(a),a=Ei(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function oo(n){return'href="'+hn(n)+'"'}function Gl(n){return'link[rel="stylesheet"]['+n+"]"}function FT(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function CC(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xe(s,"link",a),we(s),n.head.appendChild(s))}function lo(n){return'[src="'+hn(n)+'"]'}function Kl(n){return"script[async]"+n}function HT(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return s.instance=l,we(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),we(l),Xe(l,"style",f),uh(l,a.precedence,n),s.instance=l;case"stylesheet":f=oo(a.href);var d=n.querySelector(Gl(f));if(d)return s.state.loading|=4,s.instance=d,we(d),d;l=FT(a),(f=qn.get(f))&&Mm(l,f),d=(n.ownerDocument||n).createElement("link"),we(d);var v=d;return v._p=new Promise(function(A,D){v.onload=A,v.onerror=D}),Xe(d,"link",l),s.state.loading|=4,uh(d,a.precedence,n),s.instance=d;case"script":return d=lo(a.src),(f=n.querySelector(Kl(d)))?(s.instance=f,we(f),f):(l=a,(f=qn.get(d))&&(l=E({},a),Om(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),we(f),Xe(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,uh(l,a.precedence,n));return s.instance}function uh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Om(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var ch=null;function GT(n,s,a){if(ch===null){var l=new Map,f=ch=new Map;f.set(a,l)}else f=ch,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[vi]||d[be]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=n+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function KT(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function IC(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function YT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function DC(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=oo(l.href),d=s.querySelector(Gl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=hh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,we(d);return}d=s.ownerDocument||s,l=FT(l),(f=qn.get(f))&&Mm(l,f),d=d.createElement("link"),we(d);var v=d;v._p=new Promise(function(A,D){v.onload=A,v.onerror=D}),Xe(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=hh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Nm=0;function VC(n,s){return n.stylesheets&&n.count===0&&dh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&dh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Nm===0&&(Nm=62500*cC());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&dh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Nm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var fh=null;function dh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,fh=new Map,s.forEach(MC,n),fh=null,hh.call(n))}function MC(n,s){if(!(s.state.loading&4)){var a=fh.get(n);if(a)var l=a.get(null);else{a=new Map,fh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=hh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Yl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function OC(n,s,a,l,f,d,v,A,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function QT(n,s,a,l,f,d,v,A,D,B,K,$){return n=new OC(n,s,a,v,D,B,K,$,A),s=1,d===!0&&(s|=24),d=bn(3,null,null,s),n.current=d,d.stateNode=n,s=fd(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},gd(d),n}function XT(n){return n?(n=za,n):za}function $T(n,s,a,l,f,d){f=XT(f),l.context===null?l.context=f:l.pendingContext=f,l=Us(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ks(n,l,s),a!==null&&(yn(a,n,s),wl(a,n,s))}function WT(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function xm(n,s){WT(n,s),(n=n.alternate)&&WT(n,s)}function ZT(n){if(n.tag===13||n.tag===31){var s=kr(n,67108864);s!==null&&yn(s,n,67108864),xm(n,67108864)}}function JT(n){if(n.tag===13||n.tag===31){var s=Dn();s=Rr(s);var a=kr(n,s);a!==null&&yn(a,n,s),xm(n,s)}}var mh=!0;function NC(n,s,a,l){var f=Y.T;Y.T=null;var d=nt.p;try{nt.p=2,Pm(n,s,a,l)}finally{nt.p=d,Y.T=f}}function xC(n,s,a,l){var f=Y.T;Y.T=null;var d=nt.p;try{nt.p=8,Pm(n,s,a,l)}finally{nt.p=d,Y.T=f}}function Pm(n,s,a,l){if(mh){var f=Lm(l);if(f===null)Em(n,s,l,ph,a),e0(n,l);else if(LC(f,n,s,a,l))l.stopPropagation();else if(e0(n,l),s&4&&-1<PC.indexOf(n)){for(;f!==null;){var d=Mn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=pi(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var D=1<<31-ge(v);A.entanglements[1]|=D,v&=~D}xi(d),(Gt&6)===0&&(Wc=on()+500,jl(0))}}break;case 31:case 13:A=kr(d,2),A!==null&&yn(A,d,2),Jc(),xm(d,2)}if(d=Lm(l),d===null&&Em(n,s,l,ph,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Em(n,s,l,null,a)}}function Lm(n){return n=On(n),Um(n)}var ph=null;function Um(n){if(ph=null,n=Ti(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return ph=n,null}function t0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ar()){case $o:return 2;case Wo:return 8;case As:case Ff:return 32;case Yu:return 268435456;default:return 32}default:return 32}}var km=!1,Xs=null,$s=null,Ws=null,Ql=new Map,Xl=new Map,Zs=[],PC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(n,s){switch(n){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(s.pointerId)}}function $l(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Mn(s),s!==null&&ZT(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function LC(n,s,a,l,f){switch(s){case"focusin":return Xs=$l(Xs,n,s,a,l,f),!0;case"dragenter":return $s=$l($s,n,s,a,l,f),!0;case"mouseover":return Ws=$l(Ws,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ql.set(d,$l(Ql.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Xl.set(d,$l(Xl.get(d)||null,n,s,a,l,f)),!0}return!1}function n0(n){var s=Ti(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Wn(n.priority,function(){JT(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,Wn(n.priority,function(){JT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Lm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ul=l,a.target.dispatchEvent(l),ul=null}else return s=Mn(a),s!==null&&ZT(s),n.blockedOn=a,!1;s.shift()}return!0}function i0(n,s,a){gh(n)&&a.delete(s)}function UC(){km=!1,Xs!==null&&gh(Xs)&&(Xs=null),$s!==null&&gh($s)&&($s=null),Ws!==null&&gh(Ws)&&(Ws=null),Ql.forEach(i0),Xl.forEach(i0)}function yh(n,s){n.blockedOn===s&&(n.blockedOn=null,km||(km=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,UC)))}var _h=null;function s0(n){_h!==n&&(_h=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){_h===n&&(_h=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Um(l||a)===null)continue;break}var d=Mn(a);d!==null&&(n.splice(s,3),s-=3,Ld(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function uo(n){function s(D){return yh(D,n)}Xs!==null&&yh(Xs,n),$s!==null&&yh($s,n),Ws!==null&&yh(Ws,n),Ql.forEach(s),Xl.forEach(s);for(var a=0;a<Zs.length;a++){var l=Zs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)n0(a),a.blockedOn===null&&Zs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Be]||null;if(typeof d=="function")v||s0(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Be]||null)A=v.formAction;else if(Um(f)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),s0(a)}}}function r0(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function zm(n){this._internalRoot=n}vh.prototype.render=zm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Dn();$T(a,l,n,s,null,null)},vh.prototype.unmount=zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;$T(n.current,2,null,n,null,null),Jc(),s[_i]=null}};function vh(n){this._internalRoot=n}vh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ju();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Zs.length&&s!==0&&s<Zs[a].priority;a++);Zs.splice(a,0,n),a===0&&n0(n)}};var a0=t.version;if(a0!=="19.2.0")throw Error(r(527,a0,"19.2.0"));nt.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var kC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Xn=Th.inject(kC),He=Th}catch{}}return Zl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=dv,d=mv,v=pv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=QT(n,1,!1,null,null,a,l,null,f,d,v,r0),n[_i]=s.current,Tm(n),new zm(s)},Zl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=dv,v=mv,A=pv,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=QT(n,1,!0,s,a??null,l,f,D,d,v,A,r0),s.context=XT(null),a=s.current,l=Dn(),l=Rr(l),f=Us(l),f.callback=null,ks(a,f,l),a=l,s.current.lanes=a,br(s,a),xi(s),n[_i]=s.current,Tm(n),new vh(s)},Zl.version="19.2.0",Zl}var g0;function XC(){if(g0)return qm.exports;g0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),qm.exports=QC(),qm.exports}var $C=XC();const WC=()=>{};var y0={};const lS=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},ZC=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],c=i[e++],m=i[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],c=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},uS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,E=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,V=g&63;p||(V=64,c||(S=64)),r.push(e[_],e[E],e[S],e[V])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(lS(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):ZC(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const E=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new JC;const S=u<<2|m>>4;if(r.push(S),g!==64){const V=m<<4&240|g>>2;if(r.push(V),E!==64){const P=g<<6&192|E;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class JC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tI=function(i){const t=lS(i);return uS.encodeByteArray(t,!0)},Yh=function(i){return tI(i).replace(/\./g,"")},cS=function(i){try{return uS.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function eI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nI=()=>eI().__FIREBASE_DEFAULTS__,iI=()=>{if(typeof process>"u"||typeof y0>"u")return;const i=y0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&cS(i[1]);return t&&JSON.parse(t)},Ef=()=>{try{return WC()||nI()||iI()||sI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},hS=i=>Ef()?.emulatorHosts?.[i],rI=i=>{const t=hS(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},fS=()=>Ef()?.config,dS=i=>Ef()?.[`_${i}`];class aI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mS(i){return(await fetch(i,{credentials:"include"})).ok}function oI(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Yh(JSON.stringify(e)),Yh(JSON.stringify(c)),""].join(".")}const ru={};function lI(){const i={prod:[],emulator:[]};for(const t of Object.keys(ru))ru[t]?i.emulator.push(t):i.prod.push(t);return i}function uI(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let _0=!1;function pS(i,t){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||ru[i]===t||ru[i]||_0)return;ru[i]=t;function e(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=lI().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{_0=!0,c()},S}function _(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=uI(r),V=e("text"),P=document.getElementById(V)||document.createElement("span"),F=e("learnmore"),q=document.getElementById(F)||document.createElement("a"),Q=e("preprendIcon"),et=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Z=S.element;m(Z),_(q,F);const ht=g();p(et,Q),Z.append(et,P,q,ht),document.body.appendChild(Z)}u?(P.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function hI(){const i=Ef()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function mI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pI(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gI(){return!hI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yI(){try{return typeof indexedDB=="object"}catch{return!1}}function _I(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const vI="FirebaseError";class Ts extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=vI,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?TI(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ts(o,m,r)}}function TI(i,t){return i.replace(EI,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const EI=/\{\$([^}]+)}/g;function AI(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ca(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=i[o],c=t[o];if(v0(u)&&v0(c)){if(!ca(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function v0(i){return i!==null&&typeof i=="object"}function Nu(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function SI(i,t){const e=new bI(i,t);return e.subscribe.bind(e)}class bI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");wI(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Km),o.error===void 0&&(o.error=Km),o.complete===void 0&&(o.complete=Km);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wI(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Km(){}function Tn(i){return i&&i._delegate?i._delegate:i}class ha{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zr="[DEFAULT]";class RI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new aI;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(II(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CI(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CI(i){return i===Zr?void 0:i}function II(i){return i.instantiationMode==="EAGER"}class DI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new RI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pt||(Pt={}));const VI={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},MI=Pt.INFO,OI={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},NI=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=OI[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mg{constructor(t){this.name=t,this._logLevel=MI,this._logHandler=NI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?VI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const xI=(i,t)=>t.some(e=>i instanceof e);let T0,E0;function PI(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LI(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gS=new WeakMap,Ep=new WeakMap,yS=new WeakMap,Ym=new WeakMap,pg=new WeakMap;function UI(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{e(ar(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&gS.set(e,i)}).catch(()=>{}),pg.set(t,i),t}function kI(i){if(Ep.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Ep.set(i,t)}let Ap={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Ep.get(i);if(t==="objectStoreNames")return i.objectStoreNames||yS.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ar(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function zI(i){Ap=i(Ap)}function BI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(Qm(this),t,...e);return yS.set(r,t.sort?t.sort():[t]),ar(r)}:LI().includes(i)?function(...t){return i.apply(Qm(this),t),ar(gS.get(this))}:function(...t){return ar(i.apply(Qm(this),t))}}function jI(i){return typeof i=="function"?BI(i):(i instanceof IDBTransaction&&kI(i),xI(i,PI())?new Proxy(i,Ap):i)}function ar(i){if(i instanceof IDBRequest)return UI(i);if(Ym.has(i))return Ym.get(i);const t=jI(i);return t!==i&&(Ym.set(i,t),pg.set(t,i)),t}const Qm=i=>pg.get(i);function qI(i,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=ar(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ar(c.result),p.oldVersion,p.newVersion,ar(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const FI=["get","getKey","getAll","getAllKeys","count"],HI=["put","add","delete","clear"],Xm=new Map;function A0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Xm.get(t))return Xm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=HI.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||FI.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return Xm.set(t,u),u}zI(i=>({...i,get:(t,e,r)=>A0(t,e)||i.get(t,e,r),has:(t,e)=>!!A0(t,e)||i.has(t,e)}));class GI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(KI(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function KI(i){return i.getComponent()?.type==="VERSION"}const Sp="@firebase/app",S0="0.14.5";const ms=new mg("@firebase/app"),YI="@firebase/app-compat",QI="@firebase/analytics-compat",XI="@firebase/analytics",$I="@firebase/app-check-compat",WI="@firebase/app-check",ZI="@firebase/auth",JI="@firebase/auth-compat",t2="@firebase/database",e2="@firebase/data-connect",n2="@firebase/database-compat",i2="@firebase/functions",s2="@firebase/functions-compat",r2="@firebase/installations",a2="@firebase/installations-compat",o2="@firebase/messaging",l2="@firebase/messaging-compat",u2="@firebase/performance",c2="@firebase/performance-compat",h2="@firebase/remote-config",f2="@firebase/remote-config-compat",d2="@firebase/storage",m2="@firebase/storage-compat",p2="@firebase/firestore",g2="@firebase/ai",y2="@firebase/firestore-compat",_2="firebase",v2="12.5.0";const bp="[DEFAULT]",T2={[Sp]:"fire-core",[YI]:"fire-core-compat",[XI]:"fire-analytics",[QI]:"fire-analytics-compat",[WI]:"fire-app-check",[$I]:"fire-app-check-compat",[ZI]:"fire-auth",[JI]:"fire-auth-compat",[t2]:"fire-rtdb",[e2]:"fire-data-connect",[n2]:"fire-rtdb-compat",[i2]:"fire-fn",[s2]:"fire-fn-compat",[r2]:"fire-iid",[a2]:"fire-iid-compat",[o2]:"fire-fcm",[l2]:"fire-fcm-compat",[u2]:"fire-perf",[c2]:"fire-perf-compat",[h2]:"fire-rc",[f2]:"fire-rc-compat",[d2]:"fire-gcs",[m2]:"fire-gcs-compat",[p2]:"fire-fst",[y2]:"fire-fst-compat",[g2]:"fire-vertex","fire-js":"fire-js",[_2]:"fire-js-all"};const Qh=new Map,E2=new Map,wp=new Map;function b0(i,t){try{i.container.addComponent(t)}catch(e){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Ro(i){const t=i.name;if(wp.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;wp.set(t,i);for(const e of Qh.values())b0(e,i);for(const e of E2.values())b0(e,i);return!0}function gg(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function li(i){return i==null?!1:i.settings!==void 0}const A2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new Ou("app","Firebase",A2);class S2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const Uo=v2;function _S(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:bp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw or.create("bad-app-name",{appName:String(o)});if(e||(e=fS()),!e)throw or.create("no-options");const u=Qh.get(o);if(u){if(ca(e,u.options)&&ca(r,u.config))return u;throw or.create("duplicate-app",{appName:o})}const c=new DI(o);for(const p of wp.values())c.addComponent(p);const m=new S2(e,r,c);return Qh.set(o,m),m}function vS(i=bp){const t=Qh.get(i);if(!t&&i===bp&&fS())return _S();if(!t)throw or.create("no-app",{appName:i});return t}function lr(i,t,e){let r=T2[i]??i;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(c.join(" "));return}Ro(new ha(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const b2="firebase-heartbeat-database",w2=1,yu="firebase-heartbeat-store";let $m=null;function TS(){return $m||($m=qI(b2,w2,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(yu)}catch(e){console.warn(e)}}}}).catch(i=>{throw or.create("idb-open",{originalErrorMessage:i.message})})),$m}async function R2(i){try{const e=(await TS()).transaction(yu),r=await e.objectStore(yu).get(ES(i));return await e.done,r}catch(t){if(t instanceof Ts)ms.warn(t.message);else{const e=or.create("idb-get",{originalErrorMessage:t?.message});ms.warn(e.message)}}}async function w0(i,t){try{const r=(await TS()).transaction(yu,"readwrite");await r.objectStore(yu).put(t,ES(i)),await r.done}catch(e){if(e instanceof Ts)ms.warn(e.message);else{const r=or.create("idb-set",{originalErrorMessage:e?.message});ms.warn(r.message)}}}function ES(i){return`${i.name}!${i.options.appId}`}const C2=1024,I2=30;class D2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new M2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>I2){const o=O2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ms.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R0(),{heartbeatsToSend:e,unsentEntries:r}=V2(this._heartbeatsCache.heartbeats),o=Yh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ms.warn(t),""}}}function R0(){return new Date().toISOString().substring(0,10)}function V2(i,t=C2){const e=[];let r=i.slice();for(const o of i){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),C0(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),C0(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class M2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?_I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await R2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return w0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return w0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function C0(i){return Yh(JSON.stringify({version:2,heartbeats:i})).length}function O2(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}function N2(i){Ro(new ha("platform-logger",t=>new GI(t),"PRIVATE")),Ro(new ha("heartbeat",t=>new D2(t),"PRIVATE")),lr(Sp,S0,i),lr(Sp,S0,"esm2020"),lr("fire-js","")}N2("");var x2="firebase",P2="12.5.0";lr(x2,P2,"app");function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L2=AS,SS=new Ou("auth","Firebase",AS());const Xh=new mg("@firebase/auth");function U2(i,...t){Xh.logLevel<=Pt.WARN&&Xh.warn(`Auth (${Uo}): ${i}`,...t)}function Nh(i,...t){Xh.logLevel<=Pt.ERROR&&Xh.error(`Auth (${Uo}): ${i}`,...t)}function Fi(i,...t){throw _g(i,...t)}function hi(i,...t){return _g(i,...t)}function yg(i,t,e){const r={...L2(),[t]:e};return new Ou("auth","Firebase",r).create(t,{appName:i.name})}function ra(i){return yg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k2(i,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Fi(i,"argument-error"),yg(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _g(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return SS.create(i,...t)}function Tt(i,t,...e){if(!i)throw _g(t,...e)}function hs(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Nh(t),new Error(t)}function ps(i,t){i||hs(t)}function Rp(){return typeof self<"u"&&self.location?.href||""}function z2(){return I0()==="http:"||I0()==="https:"}function I0(){return typeof self<"u"&&self.location?.protocol||null}function B2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z2()||dI()||"connection"in navigator)?navigator.onLine:!0}function j2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class xu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ps(e>t,"Short delay should be less than long delay!"),this.isMobile=cI()||mI()}get(){return B2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vg(i,t){ps(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class bS{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const q2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H2=new xu(3e4,6e4);function Tg(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function ko(i,t,e,r,o={}){return wS(i,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Nu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return fI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(g.credentials="include"),bS.fetch()(await RS(i,i.config.apiHost,e,m),g)})}async function wS(i,t,e){i._canInitEmulator=!1;const r={...q2,...t};try{const o=new K2(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Eh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Eh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Eh(i,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw yg(i,_,g);Fi(i,_)}}catch(o){if(o instanceof Ts)throw o;Fi(i,"network-request-failed",{message:String(o)})}}async function G2(i,t,e,r,o={}){const u=await ko(i,t,e,r,o);return"mfaPendingCredential"in u&&Fi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function RS(i,t,e,r){const o=`${t}${e}?${r}`,u=i,c=u.config.emulator?vg(i.config,o):`${i.config.apiScheme}://${o}`;return F2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class K2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),H2.get())})}}function Eh(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=hi(i,t,r);return o.customData._tokenResponse=e,o}async function Y2(i,t){return ko(i,"POST","/v1/accounts:delete",t)}async function $h(i,t){return ko(i,"POST","/v1/accounts:lookup",t)}function au(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Q2(i,t=!1){const e=Tn(i),r=await e.getIdToken(t),o=Eg(r);Tt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:au(Wm(o.auth_time)),issuedAtTime:au(Wm(o.iat)),expirationTime:au(Wm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wm(i){return Number(i)*1e3}function Eg(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=cS(e);return o?JSON.parse(o):(Nh("Failed to decode base64 JWT payload"),null)}catch(o){return Nh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function D0(i){const t=Eg(i);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function _u(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Ts&&X2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function X2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class $2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wh(i){const t=i.auth,e=await i.getIdToken(),r=await _u(i,$h(t,{idToken:e}));Tt(r?.users.length,t,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?CS(o.providerUserInfo):[],c=Z2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function W2(i){const t=Tn(i);await Wh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Z2(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function CS(i){return i.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function J2(i,t){const e=await wS(i,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await RS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(p.credentials="include"),bS.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function tD(i,t){return ko(i,"POST","/v2/accounts:revokeToken",Tg(i,t))}class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):D0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=D0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await J2(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new To;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Tt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return hs("not implemented")}}function tr(i,t){Tt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new $2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await _u(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Q2(this,t)}reload(){return W2(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(ra(this.auth));const t=await this.getIdToken();return await _u(this,Y2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:V,providerData:P,stsTokenManager:F}=e;Tt(E&&F,t,"internal-error");const q=To.fromJSON(this.name,F);Tt(typeof E=="string",t,"internal-error"),tr(r,t.name),tr(o,t.name),Tt(typeof S=="boolean",t,"internal-error"),Tt(typeof V=="boolean",t,"internal-error"),tr(u,t.name),tr(c,t.name),tr(m,t.name),tr(p,t.name),tr(g,t.name),tr(_,t.name);const Q=new ui({uid:E,auth:t,email:o,emailVerified:S,displayName:r,isAnonymous:V,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:_});return P&&Array.isArray(P)&&(Q.providerData=P.map(et=>({...et}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(t,e,r=!1){const o=new To;o.updateFromServerResponse(e);const u=new ui({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Wh(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new To;m.updateFromIdToken(r);const p=new ui({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const V0=new Map;function fs(i){ps(i instanceof Function,"Expected a class definition");let t=V0.get(i);return t?(ps(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,V0.set(i,t),t)}class IS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}IS.type="NONE";const M0=IS;function xh(i,t,e){return`firebase:${i}:${t}:${e}`}class Eo{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=xh(this.userKey,o.apiKey,u),this.fullPersistenceKey=xh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await $h(this.auth,{idToken:t}).catch(()=>{});return e?ui._fromGetAccountInfoResponse(this.auth,e,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Eo(fs(M0),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||fs(M0);const c=xh(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const S=await $h(t,{idToken:_}).catch(()=>{});if(!S)break;E=await ui._fromGetAccountInfoResponse(t,S,_)}else E=ui._fromJSON(t,_);g!==u&&(m=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Eo(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Eo(u,t,r))}}function O0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xS(t))return"Blackberry";if(PS(t))return"Webos";if(VS(t))return"Safari";if((t.includes("chrome/")||MS(t))&&!t.includes("edge/"))return"Chrome";if(NS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if(r?.length===2)return r[1]}return"Other"}function DS(i=an()){return/firefox\//i.test(i)}function VS(i=an()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function MS(i=an()){return/crios\//i.test(i)}function OS(i=an()){return/iemobile/i.test(i)}function NS(i=an()){return/android/i.test(i)}function xS(i=an()){return/blackberry/i.test(i)}function PS(i=an()){return/webos/i.test(i)}function Ag(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eD(i=an()){return Ag(i)&&!!window.navigator?.standalone}function nD(){return pI()&&document.documentMode===10}function LS(i=an()){return Ag(i)||NS(i)||PS(i)||xS(i)||/windows phone/i.test(i)||OS(i)}function US(i,t=[]){let e;switch(i){case"Browser":e=O0(an());break;case"Worker":e=`${O0(an())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Uo}/${r}`}class iD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function sD(i,t={}){return ko(i,"GET","/v2/passwordPolicy",Tg(i,t))}const rD=6;class aD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??rD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class oD{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=fs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await $h(this,{idToken:t}),r=await ui._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(li(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Wh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=j2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(li(this.app))return Promise.reject(ra(this));const e=t?Tn(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return li(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sD(this),e=new aD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ou("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await tD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&fs(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[fs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=US(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&U2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Af(i){return Tn(i)}class N0{constructor(t){this.auth=t,this.observer=null,this.addObserver=SI(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lD(i){Sg=i}function uD(i){return Sg.loadJS(i)}function cD(){return Sg.gapiScript}function hD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function fD(i,t){const e=gg(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(ca(u,t??{}))return o;Fi(o,"already-initialized")}return e.initialize({options:t})}function dD(i,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(fs);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t?.popupRedirectResolver)}function mD(i,t,e){const r=Af(i);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=kS(t),{host:c,port:m}=pD(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(ca(g,r.config.emulator)&&ca(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Lo(c)?(mS(`${u}//${c}${p}`),pS("Auth",!0)):gD()}function kS(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function pD(i){const t=kS(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:x0(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:x0(c)}}}function x0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function gD(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class zS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return hs("not implemented")}_getIdTokenResponse(t){return hs("not implemented")}_linkToIdToken(t,e){return hs("not implemented")}_getReauthenticationResolver(t){return hs("not implemented")}}async function Ao(i,t){return G2(i,"POST","/v1/accounts:signInWithIdp",Tg(i,t))}const yD="http://localhost";class fa extends zS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Fi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new fa(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Ao(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Ao(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ao(t,e)}buildRequest(){const t={requestUri:yD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Nu(e)}return t}}class bg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Pu extends bg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class nr extends Pu{constructor(){super("facebook.com")}static credential(t){return fa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class cs extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return fa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return cs.credential(e,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";class ir extends Pu{constructor(){super("github.com")}static credential(t){return fa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends Pu{constructor(){super("twitter.com")}static credential(t,e){return fa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return sr.credential(e,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";class Co{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await ui._fromIdTokenResponse(t,r,o),c=P0(r);return new Co({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=P0(r);return new Co({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function P0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Zh extends Ts{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new Zh(t,e,r,o)}}function BS(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(i,u,t,r):u})}async function _D(i,t,e=!1){const r=await _u(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Co._forOperation(i,"link",r)}async function vD(i,t,e=!1){const{auth:r}=i;if(li(r.app))return Promise.reject(ra(r));const o="reauthenticate";try{const u=await _u(i,BS(r,o,t,i),e);Tt(u.idToken,r,"internal-error");const c=Eg(u.idToken);Tt(c,r,"internal-error");const{sub:m}=c;return Tt(i.uid===m,r,"user-mismatch"),Co._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Fi(r,"user-mismatch"),u}}async function TD(i,t,e=!1){if(li(i.app))return Promise.reject(ra(i));const r="signIn",o=await BS(i,r,t),u=await Co._fromIdTokenResponse(i,r,o);return e||await i._updateCurrentUser(u.user),u}function ED(i,t,e,r){return Tn(i).onIdTokenChanged(t,e,r)}function AD(i,t,e){return Tn(i).beforeAuthStateChanged(t,e)}function SD(i){return Tn(i).signOut()}const Jh="__sak";class jS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const bD=1e3,wD=10;class qS extends jS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);nD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,wD):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}qS.type="LOCAL";const RD=qS;class FS extends jS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}FS.type="SESSION";const HS=FS;function CD(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Sf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Sf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await CD(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];function wg(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}class ID{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=wg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Li(){return window}function DD(i){Li().location.href=i}function GS(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function VD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MD(){return navigator?.serviceWorker?.controller||null}function OD(){return GS()?self:null}const KS="firebaseLocalStorageDb",ND=1,tf="firebaseLocalStorage",YS="fbase_key";class Lu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function bf(i,t){return i.transaction([tf],t?"readwrite":"readonly").objectStore(tf)}function xD(){const i=indexedDB.deleteDatabase(KS);return new Lu(i).toPromise()}function Ip(){const i=indexedDB.open(KS,ND);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(tf,{keyPath:YS})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(tf)?t(r):(r.close(),await xD(),t(await Ip()))})})}async function L0(i,t,e){const r=bf(i,!0).put({[YS]:t,value:e});return new Lu(r).toPromise()}async function PD(i,t){const e=bf(i,!1).get(t),r=await new Lu(e).toPromise();return r===void 0?null:r.value}function U0(i,t){const e=bf(i,!0).delete(t);return new Lu(e).toPromise()}const LD=800,UD=3;class QS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ip(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>UD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(OD()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VD(),!this.activeServiceWorker)return;this.sender=new ID(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||MD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ip();return await L0(t,Jh,"1"),await U0(t,Jh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>L0(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>PD(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>U0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=bf(o,!1).getAll();return new Lu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QS.type="LOCAL";const kD=QS;new xu(3e4,6e4);function XS(i,t){return t?fs(t):(Tt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Rg extends zS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ao(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ao(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function zD(i){return TD(i.auth,new Rg(i),i.bypassAuthState)}function BD(i){const{auth:t,user:e}=i;return Tt(e,t,"internal-error"),vD(e,new Rg(i),i.bypassAuthState)}async function jD(i){const{auth:t,user:e}=i;return Tt(e,t,"internal-error"),_D(e,new Rg(i),i.bypassAuthState)}class $S{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zD;case"linkViaPopup":case"linkViaRedirect":return jD;case"reauthViaPopup":case"reauthViaRedirect":return BD;default:Fi(this.auth,"internal-error")}}resolve(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qD=new xu(2e3,1e4);async function FD(i,t,e){if(li(i.app))return Promise.reject(hi(i,"operation-not-supported-in-this-environment"));const r=Af(i);k2(i,t,bg);const o=XS(r,e);return new ta(r,"signInViaPopup",t,o).executeNotNull()}class ta extends $S{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const t=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qD.get())};t()}}ta.currentPopupAction=null;const HD="pendingRedirect",Ph=new Map;class GD extends $S{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Ph.get(this.auth._key());if(!t){try{const r=await KD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Ph.set(this.auth._key(),t)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KD(i,t){const e=XD(t),r=QD(i);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function YD(i,t){Ph.set(i._key(),t)}function QD(i){return fs(i._redirectPersistence)}function XD(i){return xh(HD,i.config.apiKey,i.name)}async function $D(i,t,e=!1){if(li(i.app))return Promise.reject(ra(i));const r=Af(i),o=XS(r,t),c=await new GD(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const WD=600*1e3;class ZD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!JD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!WS(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(hi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=WD&&this.cachedEventUids.clear(),this.cachedEventUids.has(k0(t))}saveEventToCache(t){this.cachedEventUids.add(k0(t)),this.lastProcessedEventTime=Date.now()}}function k0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function WS({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function JD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WS(i);default:return!1}}async function tV(i,t={}){return ko(i,"GET","/v1/projects",t)}const eV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nV=/^https?/;async function iV(i){if(i.config.emulator)return;const{authorizedDomains:t}=await tV(i);for(const e of t)try{if(sV(e))return}catch{}Fi(i,"unauthorized-domain")}function sV(i){const t=Rp(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!nV.test(e))return!1;if(eV.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const rV=new xu(3e4,6e4);function z0(){const i=Li().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function aV(i){return new Promise((t,e)=>{function r(){z0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{z0(),e(hi(i,"network-request-failed"))},timeout:rV.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)r();else{const o=hD("iframefcb");return Li()[o]=()=>{gapi.load?r():e(hi(i,"network-request-failed"))},uD(`${cD()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Lh=null,t})}let Lh=null;function oV(i){return Lh=Lh||aV(i),Lh}const lV=new xu(5e3,15e3),uV="__/auth/iframe",cV="emulator/auth/iframe",hV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dV(i){const t=i.config;Tt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?vg(t,cV):`https://${i.config.authDomain}/${uV}`,r={apiKey:t.apiKey,appName:i.name,v:Uo},o=fV.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${Nu(r).slice(1)}`}async function mV(i){const t=await oV(i),e=Li().gapi;return Tt(e,i,"internal-error"),t.open({where:document.body,url:dV(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hV,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=hi(i,"network-request-failed"),m=Li().setTimeout(()=>{u(c)},lV.get());function p(){Li().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const pV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gV=500,yV=600,_V="_blank",vV="http://localhost";class B0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TV(i,t,e,r=gV,o=yV){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...pV,width:r.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();e&&(m=MS(g)?_V:e),DS(g)&&(t=t||vV,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[V,P])=>`${S}${V}=${P},`,"");if(eD(g)&&m!=="_self")return EV(t||"",m),new B0(null);const E=window.open(t||"",m,_);Tt(E,i,"popup-blocked");try{E.focus()}catch{}return new B0(E)}function EV(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const AV="__/auth/handler",SV="emulator/auth/handler",bV=encodeURIComponent("fac");async function j0(i,t,e,r,o,u){Tt(i.config.authDomain,i,"auth-domain-config-required"),Tt(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:Uo,eventId:o};if(t instanceof bg){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",AI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(t instanceof Pu){const _=t.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${bV}=${encodeURIComponent(p)}`:"";return`${wV(i)}?${Nu(m).slice(1)}${g}`}function wV({config:i}){return i.emulator?vg(i,SV):`https://${i.authDomain}/${AV}`}const Zm="webStorageSupport";class RV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HS,this._completeRedirectFn=$D,this._overrideRedirectResult=YD}async _openPopup(t,e,r,o){ps(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await j0(t,e,r,Rp(),o);return TV(t,u,wg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await j0(t,e,r,Rp(),o);return DD(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(ps(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await mV(t),r=new ZD(t);return e.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Zm,{type:Zm},o=>{const u=o?.[0]?.[Zm];u!==void 0&&e(!!u),Fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=iV(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return LS()||VS()||Ag()}}const CV=RV;var q0="@firebase/auth",F0="1.11.1";class IV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DV(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VV(i){Ro(new ha("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:US(i)},g=new oD(r,o,u,p);return dD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Ro(new ha("auth-internal",t=>{const e=Af(t.getProvider("auth").getImmediate());return(r=>new IV(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(q0,F0,DV(i)),lr(q0,F0,"esm2020")}const MV=300,OV=dS("authIdTokenMaxAge")||MV;let H0=null;const NV=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>OV)return;const o=e?.token;H0!==o&&(H0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xV(i=vS()){const t=gg(i,"auth");if(t.isInitialized())return t.getImmediate();const e=fD(i,{popupRedirectResolver:CV,persistence:[kD,RD,HS]}),r=dS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=NV(u.toString());AD(e,c,()=>c(e.currentUser)),ED(e,m=>c(m))}}const o=hS("auth");return o&&mD(e,`http://${o}`),e}function PV(){return document.getElementsByTagName("head")?.[0]??document}lD({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const u=hi("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",PV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VV("Browser");var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ur,ZS;(function(){var i;function t(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(N,M,U){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return w.prototype[M].apply(N,I)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const N=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)N[M]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(M=0;M<16;++M)N[M]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],M=R.g[2];let U=R.g[3],I;I=w+(U^C&(M^U))+N[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=U+(M^w&(C^M))+N[1]+3905402710&4294967295,U=w+(I<<12&4294967295|I>>>20),I=M+(C^U&(w^C))+N[2]+606105819&4294967295,M=U+(I<<17&4294967295|I>>>15),I=C+(w^M&(U^w))+N[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=w+(U^C&(M^U))+N[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=U+(M^w&(C^M))+N[5]+1200080426&4294967295,U=w+(I<<12&4294967295|I>>>20),I=M+(C^U&(w^C))+N[6]+2821735955&4294967295,M=U+(I<<17&4294967295|I>>>15),I=C+(w^M&(U^w))+N[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=w+(U^C&(M^U))+N[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=U+(M^w&(C^M))+N[9]+2336552879&4294967295,U=w+(I<<12&4294967295|I>>>20),I=M+(C^U&(w^C))+N[10]+4294925233&4294967295,M=U+(I<<17&4294967295|I>>>15),I=C+(w^M&(U^w))+N[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=w+(U^C&(M^U))+N[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=U+(M^w&(C^M))+N[13]+4254626195&4294967295,U=w+(I<<12&4294967295|I>>>20),I=M+(C^U&(w^C))+N[14]+2792965006&4294967295,M=U+(I<<17&4294967295|I>>>15),I=C+(w^M&(U^w))+N[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=w+(M^U&(C^M))+N[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=U+(C^M&(w^C))+N[6]+3225465664&4294967295,U=w+(I<<9&4294967295|I>>>23),I=M+(w^C&(U^w))+N[11]+643717713&4294967295,M=U+(I<<14&4294967295|I>>>18),I=C+(U^w&(M^U))+N[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=w+(M^U&(C^M))+N[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=U+(C^M&(w^C))+N[10]+38016083&4294967295,U=w+(I<<9&4294967295|I>>>23),I=M+(w^C&(U^w))+N[15]+3634488961&4294967295,M=U+(I<<14&4294967295|I>>>18),I=C+(U^w&(M^U))+N[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=w+(M^U&(C^M))+N[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=U+(C^M&(w^C))+N[14]+3275163606&4294967295,U=w+(I<<9&4294967295|I>>>23),I=M+(w^C&(U^w))+N[3]+4107603335&4294967295,M=U+(I<<14&4294967295|I>>>18),I=C+(U^w&(M^U))+N[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=w+(M^U&(C^M))+N[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=U+(C^M&(w^C))+N[2]+4243563512&4294967295,U=w+(I<<9&4294967295|I>>>23),I=M+(w^C&(U^w))+N[7]+1735328473&4294967295,M=U+(I<<14&4294967295|I>>>18),I=C+(U^w&(M^U))+N[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=w+(C^M^U)+N[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=U+(w^C^M)+N[8]+2272392833&4294967295,U=w+(I<<11&4294967295|I>>>21),I=M+(U^w^C)+N[11]+1839030562&4294967295,M=U+(I<<16&4294967295|I>>>16),I=C+(M^U^w)+N[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=w+(C^M^U)+N[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=U+(w^C^M)+N[4]+1272893353&4294967295,U=w+(I<<11&4294967295|I>>>21),I=M+(U^w^C)+N[7]+4139469664&4294967295,M=U+(I<<16&4294967295|I>>>16),I=C+(M^U^w)+N[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=w+(C^M^U)+N[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=U+(w^C^M)+N[0]+3936430074&4294967295,U=w+(I<<11&4294967295|I>>>21),I=M+(U^w^C)+N[3]+3572445317&4294967295,M=U+(I<<16&4294967295|I>>>16),I=C+(M^U^w)+N[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=w+(C^M^U)+N[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=U+(w^C^M)+N[12]+3873151461&4294967295,U=w+(I<<11&4294967295|I>>>21),I=M+(U^w^C)+N[15]+530742520&4294967295,M=U+(I<<16&4294967295|I>>>16),I=C+(M^U^w)+N[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=w+(M^(C|~U))+N[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=U+(C^(w|~M))+N[7]+1126891415&4294967295,U=w+(I<<10&4294967295|I>>>22),I=M+(w^(U|~C))+N[14]+2878612391&4294967295,M=U+(I<<15&4294967295|I>>>17),I=C+(U^(M|~w))+N[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=w+(M^(C|~U))+N[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=U+(C^(w|~M))+N[3]+2399980690&4294967295,U=w+(I<<10&4294967295|I>>>22),I=M+(w^(U|~C))+N[10]+4293915773&4294967295,M=U+(I<<15&4294967295|I>>>17),I=C+(U^(M|~w))+N[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=w+(M^(C|~U))+N[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=U+(C^(w|~M))+N[15]+4264355552&4294967295,U=w+(I<<10&4294967295|I>>>22),I=M+(w^(U|~C))+N[6]+2734768916&4294967295,M=U+(I<<15&4294967295|I>>>17),I=C+(U^(M|~w))+N[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=w+(M^(C|~U))+N[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=U+(C^(w|~M))+N[11]+3174756917&4294967295,U=w+(I<<10&4294967295|I>>>22),I=M+(w^(U|~C))+N[2]+718787259&4294967295,M=U+(I<<15&4294967295|I>>>17),I=C+(U^(M|~w))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,N=this.C;let M=this.h,U=0;for(;U<w;){if(M==0)for(;U<=C;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<w;)if(N[M++]=R.charCodeAt(U++),M==this.blockSize){o(this,N),M=0;break}}else for(;U<w;)if(N[M++]=R[U++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)R[w++]=this.g[C]>>>N&255;return R};function u(R,w){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function c(R,w){this.h=w;const C=[];let N=!0;for(let M=R.length-1;M>=0;M--){const U=R[M]|0;N&&U==w||(C[M]=U,N=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return q(g(-R));const w=[];let C=1;for(let N=0;R>=C;N++)w[N]=R/C|0,C*=4294967296;return new c(w,0)}function _(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return q(_(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let N=E;for(let U=0;U<R.length;U+=8){var M=Math.min(8,R.length-U);const I=parseInt(R.substring(U,U+M),w);M<8?(M=g(Math.pow(w,M)),N=N.j(M).add(g(I))):(N=N.j(C),N=N.add(g(I)))}return N}var E=p(0),S=p(1),V=p(16777216);i=c.prototype,i.m=function(){if(F(this))return-q(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);R+=(N>=0?N:4294967296+N)*w,w*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(F(this))return"-"+q(this).toString(R);const w=g(Math.pow(R,6));var C=this;let N="";for(;;){const M=ht(C,w).g;C=Q(C,M.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=M,P(C))return U+N;for(;U.length<6;)U="0"+U;N=U+N}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function F(R){return R.h==-1}i.l=function(R){return R=Q(this,R),F(R)?-1:P(R)?0:1};function q(R){const w=R.g.length,C=[];for(let N=0;N<w;N++)C[N]=~R.g[N];return new c(C,~R.h).add(S)}i.abs=function(){return F(this)?q(this):this},i.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let N=0;for(let M=0;M<=w;M++){let U=N+(this.i(M)&65535)+(R.i(M)&65535),I=(U>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);N=I>>>16,U&=65535,I&=65535,C[M]=I<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Q(R,w){return R.add(q(w))}i.j=function(R){if(P(this)||P(R))return E;if(F(this))return F(R)?q(this).j(q(R)):q(q(this).j(R));if(F(R))return q(this.j(q(R)));if(this.l(V)<0&&R.l(V)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var N=0;N<2*w;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<R.g.length;M++){const U=this.i(N)>>>16,I=this.i(N)&65535,ee=R.i(M)>>>16,fe=R.i(M)&65535;C[2*N+2*M]+=I*fe,et(C,2*N+2*M),C[2*N+2*M+1]+=U*fe,et(C,2*N+2*M+1),C[2*N+2*M+1]+=I*ee,et(C,2*N+2*M+1),C[2*N+2*M+2]+=U*ee,et(C,2*N+2*M+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new c(C,0)};function et(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function Z(R,w){this.g=R,this.h=w}function ht(R,w){if(P(w))throw Error("division by zero");if(P(R))return new Z(E,E);if(F(R))return w=ht(q(R),w),new Z(q(w.g),q(w.h));if(F(w))return w=ht(R,q(w)),new Z(q(w.g),w.h);if(R.g.length>30){if(F(R)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var C=S,N=w;N.l(R)<=0;)C=rt(C),N=rt(N);var M=at(C,1),U=at(N,1);for(N=at(N,2),C=at(C,2);!P(N);){var I=U.add(N);I.l(R)<=0&&(M=M.add(C),U=I),N=at(N,1),C=at(C,1)}return w=Q(R,M.j(w)),new Z(M,w)}for(M=E;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),U=g(C),I=U.j(w);F(I)||I.l(R)>0;)C-=N,U=g(C),I=U.j(w);P(U)&&(U=S),M=M.add(U),R=Q(R,I)}return new Z(M,R)}i.B=function(R){return ht(this,R).h},i.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)&R.i(N);return new c(C,this.h&R.h)},i.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)|R.i(N);return new c(C,this.h|R.h)},i.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)^R.i(N);return new c(C,this.h^R.h)};function rt(R){const w=R.g.length+1,C=[];for(let N=0;N<w;N++)C[N]=R.i(N)<<1|R.i(N-1)>>>31;return new c(C,R.h)}function at(R,w){const C=w>>5;w%=32;const N=R.g.length-C,M=[];for(let U=0;U<N;U++)M[U]=w>0?R.i(U+C)>>>w|R.i(U+C+1)<<32-w:R.i(U+C);return new c(M,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,ur=c}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JS,tu,t1,Uh,Dp,e1,n1,i1;(function(){var i,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var k=h[b];if(!(k in T))break t;T=T[k]}h=h[h.length-1],b=T[h],y=y(b),y!=b&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&T.push([b,y[b]]);return T}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function _(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(b,k,H){for(var it=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)it[wt-2]=arguments[wt];return y.prototype[k].apply(b,it)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function V(h){const y=h.length;if(y>0){const T=Array(y);for(let b=0;b<y;b++)T[b]=h[b];return T}return[]}function P(h,y){for(let b=1;b<arguments.length;b++){const k=arguments[b];var T=typeof k;if(T=T!="object"?T:k?Array.isArray(k)?"array":T:"null",T=="array"||T=="object"&&typeof k.length=="number"){T=h.length||0;const H=k.length||0;h.length=T+H;for(let it=0;it<H;it++)h[T+it]=k[it]}else h.push(k)}}class F{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(h){c.setTimeout(()=>{throw h},0)}function Q(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class et{constructor(){this.h=this.g=null}add(y,T){const b=Z.get();b.set(y,T),this.h?this.h.next=b:this.g=b,this.h=b}}var Z=new F(()=>new ht,h=>h.reset());class ht{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,at=!1,R=new et,w=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(C)}};function C(){for(var h;h=Q();){try{h.h.call(h.g)}catch(T){q(T)}var y=Z;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}at=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function ee(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(ee,M),ee.prototype.init=function(h,y){const T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function nt(h,y,T,b,k){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!b,this.ha=k,this.key=++Y,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,y,T){for(const b in h)y.call(T,h[b],b,h)}function Ot(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function x(h){const y={};for(const T in h)y[T]=h[T];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(h,y){let T,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(T in b)h[T]=b[T];for(let H=0;H<W.length;H++)T=W[H],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function ct(h){this.src=h,this.g={},this.h=0}ct.prototype.add=function(h,y,T,b,k){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const it=It(h,y,b,k);return it>-1?(y=h[it],T||(y.fa=!1)):(y=new nt(y,this.src,H,!!b,k),y.fa=T,h.push(y)),y};function Et(h,y){const T=y.type;if(T in h.g){var b=h.g[T],k=Array.prototype.indexOf.call(b,y,void 0),H;(H=k>=0)&&Array.prototype.splice.call(b,k,1),H&&(ft(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function It(h,y,T,b){for(let k=0;k<h.length;++k){const H=h[k];if(!H.da&&H.listener==y&&H.capture==!!T&&H.ha==b)return k}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Pe={};function ae(h,y,T,b,k){if(Array.isArray(y)){for(let H=0;H<y.length;H++)ae(h,y[H],T,b,k);return null}return T=Xo(T),h&&h[fe]?h.J(y,T,m(b)?!!b.capture:!1,k):Tr(h,y,T,!1,b,k)}function Tr(h,y,T,b,k,H){if(!y)throw Error("Invalid event type");const it=m(k)?!!k.capture:!!k;let wt=Er(h);if(wt||(h[Bt]=wt=new ct(h)),T=wt.add(y,T,b,it,H),T.proxy)return T;if(b=Ta(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)U||(k=it),k===void 0&&(k=!1),h.addEventListener(y.toString(),b,k);else if(h.attachEvent)h.attachEvent(di(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ta(){function h(T){return y.call(h.src,h.listener,T)}const y=Yo;return h}function Ea(h,y,T,b,k){if(Array.isArray(y))for(var H=0;H<y.length;H++)Ea(h,y[H],T,b,k);else b=m(b)?!!b.capture:!!b,T=Xo(T),h&&h[fe]?(h=h.i,H=String(y).toString(),H in h.g&&(y=h.g[H],T=It(y,T,b,k),T>-1&&(ft(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[H],h.h--)))):h&&(h=Er(h))&&(y=h.g[y.toString()],h=-1,y&&(h=It(y,T,b,k)),(T=h>-1?y[h]:null)&&Aa(T))}function Aa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[fe])Et(y.i,h);else{var T=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(T,b,h.capture):y.detachEvent?y.detachEvent(di(T),b):y.addListener&&y.removeListener&&y.removeListener(b),(T=Er(y))?(Et(T,h),T.h==0&&(T.src=null,y[Bt]=null)):ft(h)}}}function di(h){return h in Pe?Pe[h]:Pe[h]="on"+h}function Yo(h,y){if(h.da)h=!0;else{y=new ee(y,this);const T=h.listener,b=h.ha||h.src;h.fa&&Aa(h),h=T.call(b,y)}return h}function Er(h){return h=h[Bt],h instanceof ct?h:null}var Qo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xo(h){return typeof h=="function"?h:(h[Qo]||(h[Qo]=function(y){return h.handleEvent(y)}),h[Qo])}function Ae(){N.call(this),this.i=new ct(this),this.M=this,this.G=null}E(Ae,N),Ae.prototype[fe]=!0,Ae.prototype.removeEventListener=function(h,y,T,b){Ea(this,h,y,T,b)};function Le(h,y){var T,b=h.G;if(b)for(T=[];b;b=b.G)T.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var k=y;y=new M(b,h),st(y,k)}k=!0;let H,it;if(T)for(it=T.length-1;it>=0;it--)H=y.g=T[it],k=Es(H,b,!0,y)&&k;if(H=y.g=h,k=Es(H,b,!0,y)&&k,k=Es(H,b,!1,y)&&k,T)for(it=0;it<T.length;it++)H=y.g=T[it],k=Es(H,b,!1,y)&&k}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let b=0;b<T.length;b++)ft(T[b]);delete h.g[y],h.h--}}this.G=null},Ae.prototype.J=function(h,y,T,b){return this.i.add(String(h),y,!1,T,b)},Ae.prototype.K=function(h,y,T,b){return this.i.add(String(h),y,!0,T,b)};function Es(h,y,T,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let k=!0;for(let H=0;H<y.length;++H){const it=y[H];if(it&&!it.da&&it.capture==T){const wt=it.listener,ye=it.ha||it.src;it.fa&&Et(h.i,it),k=wt.call(ye,b)!==!1&&k}}return k&&!b.defaultPrevented}function qf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Ku(h){h.g=qf(()=>{h.g=null,h.i&&(h.i=!1,Ku(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class on extends N{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ku(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(h){N.call(this),this.h=h,this.g={}}E(Ar,N);var $o=[];function Wo(h){Ct(h.g,function(y,T){this.g.hasOwnProperty(T)&&Aa(y)},h),h.g={}}Ar.prototype.N=function(){Ar.Z.N.call(this),Wo(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var As=c.JSON.stringify,Ff=c.JSON.parse,Yu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Qu(){}function Xu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){M.call(this,"d")}E(He,M);function Vn(){M.call(this,"c")}E(Vn,M);var ge={},$u=null;function Sa(){return $u=$u||new Ae}ge.Ia="serverreachability";function Wu(h){M.call(this,ge.Ia,h)}E(Wu,M);function mi(h){const y=Sa();Le(y,new Wu(y))}ge.STAT_EVENT="statevent";function Sr(h,y){M.call(this,ge.STAT_EVENT,h),this.stat=y}E(Sr,M);function Se(h){const y=Sa();Le(y,new Sr(y,h))}ge.Ja="timingevent";function pi(h,y){M.call(this,ge.Ja,h),this.size=y}E(pi,M);function gi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Hf(h,y,T,b,k,H){h.info(function(){if(h.g)if(H){var it="",wt=H.split("&");for(let Ht=0;Ht<wt.length;Ht++){var ye=wt[Ht].split("=");if(ye.length>1){const oe=ye[0];ye=ye[1];const xn=oe.split("_");it=xn.length>=2&&xn[1]=="type"?it+(oe+"="+ye+"&"):it+(oe+"=redacted&")}}}else it=null;else it=H;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+y+`
`+T+`
`+it})}function Zu(h,y,T,b,k,H,it){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+y+`
`+T+`
`+H+" "+it})}function yi(h,y,T,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Gf(h,T)+(b?" "+b:"")})}function br(h,y){h.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function Gf(h,y){if(!h.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var T=H[h];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var k=b[0];if(k!="noop"&&k!="stop"&&k!="close")for(let it=1;it<b.length;it++)b[it]=""}}}}return As(H)}catch{return y}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function Rr(){}E(Rr,Qu),Rr.prototype.g=function(){return new XMLHttpRequest},Jo=new Rr;function Gi(h){return encodeURIComponent(String(h))}function Ju(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Wn(h,y,T,b){this.j=h,this.i=y,this.l=T,this.S=b||1,this.V=new Ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var be={},Be={};function _i(h,y,T){h.M=1,h.A=Cr(Re(y)),h.u=T,h.R=!0,ba(h,null)}function ba(h,y){h.F=Date.now(),vi(h),h.B=Re(h.A);var T=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Ia(T.i,"t",b),h.C=0,T=h.j.L,h.h=new Zn,h.g=mc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new on(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,b=h.ba;var k="readystatechange";Array.isArray(k)||(k&&($o[0]=k.toString()),k=$o);for(let H=0;H<k.length;H++){const it=ae(T,k[H],b||y.handleEvent,!1,y.h||y);if(!it)break;y.g[it.key]=it}y=h.J?x(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),mi(),Hf(h.i,h.v,h.B,h.l,h.S,h.u)}Wn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ei(h)==3?y.j():this.Y(h)},Wn.prototype.Y=function(h){try{if(h==this.g)t:{const wt=ei(this.g),ye=this.g.ya(),Ht=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||wt!=4||ye==7||(ye==8||Ht<=0?mi(3):mi(2)),Ti(this);var y=this.g.ca();this.X=y;var T=Kf(this);if(this.o=y==200,Zu(this.i,this.v,this.B,this.l,this.S,wt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,k=this.g;if((b=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var H=b;break e}}H=null}if(h=H)yi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,h);else{this.o=!1,this.m=3,Se(12),En(this),Mn(this);break t}}if(this.R){h=!0;let oe;for(;!this.K&&this.C<T.length;)if(oe=ec(this,T),oe==Be){wt==4&&(this.m=4,Se(14),h=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==be){this.m=4,Se(15),yi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else yi(this.i,this.l,oe,null),Ei(this,oe);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||T.length!=0||this.h.h||(this.m=1,Se(16),h=!1),this.o=this.o&&h,!h)yi(this.i,this.l,T,"[Invalid Chunked Response]"),En(this),Mn(this);else if(T.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ml(it),it.P=!0,Se(11))}}else yi(this.i,this.l,T,null),Ei(this,T);wt==4&&En(this),this.o&&!this.K&&(wt==4?cc(this.j,this):(this.o=!1,vi(this)))}else Yi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),En(this),Mn(this)}}}catch{}finally{}};function Kf(h){if(!tc(h))return h.g.la();const y=Ge(h.g);if(y==="")return"";let T="";const b=y.length,k=ei(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return En(h),Mn(h),"";h.h.i=new c.TextDecoder}for(let H=0;H<b;H++)h.h.h=!0,T+=h.h.i.decode(y[H],{stream:!(k&&H==b-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function tc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ec(h,y){var T=h.C,b=y.indexOf(`
`,T);return b==-1?Be:(T=Number(y.substring(T,b)),isNaN(T)?be:(b+=1,b+T>y.length?Be:(y=y.slice(b,b+T),h.C=b+T,y)))}Wn.prototype.cancel=function(){this.K=!0,En(this)};function vi(h){h.T=Date.now()+h.H,wa(h,h.H)}function wa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=gi(g(h.aa,h),y)}function Ti(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Wn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(br(this.i,this.B),this.M!=2&&(mi(),Se(17)),En(this),this.m=2,Mn(this)):wa(this,this.T-h)};function Mn(h){h.j.I==0||h.K||cc(h.j,h)}function En(h){Ti(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Wo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ei(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Si(T.h,h))){if(!h.L&&Si(T.h,h)&&T.I==3){try{var b=T.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Na(T),Vs(T);else break t;xr(T),Se(18)}}else T.xa=k[1],0<T.xa-T.K&&k[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=gi(g(T.Va,T),6e3));Ai(T.h)<=1&&T.ta&&(T.ta=void 0)}else Di(T,11)}else if((h.L||T.g==h)&&Na(T),!I(y))for(k=T.Ba.g.parse(y),y=0;y<k.length;y++){let Ht=k[y];const oe=Ht[0];if(!(oe<=T.K))if(T.K=oe,Ht=Ht[1],T.I==2)if(Ht[0]=="c"){T.M=Ht[1],T.ba=Ht[2];const xn=Ht[3];xn!=null&&(T.ka=xn,T.j.info("VER="+T.ka));const Vi=Ht[4];Vi!=null&&(T.za=Vi,T.j.info("SVER="+T.za));const ni=Ht[5];ni!=null&&typeof ni=="number"&&ni>0&&(b=1.5*ni,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const ii=h.g;if(ii){const Pr=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var H=b.h;H.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(nl(H,H.h),H.h=null))}if(b.G){const xa=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(b.wa=xa,Yt(b.J,b.G,xa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var it=h;if(b.na=dc(b,b.L?b.ba:null,b.W),it.L){il(b.h,it);var wt=it,ye=b.O;ye&&(wt.H=ye),wt.D&&(Ti(wt),vi(wt)),b.g=it}else lc(b);T.i.length>0&&Ii(T)}else Ht[0]!="stop"&&Ht[0]!="close"||Di(T,7);else T.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Di(T,7):fl(T):Ht[0]!="noop"&&T.l&&T.l.qa(Ht),T.A=0)}}mi(4)}catch{}}var we=class{constructor(h,y){this.g=h,this.map=y}};function tl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ai(h){return h.h?1:h.g?h.g.size:0}function Si(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function nl(h,y){h.g?h.g.add(y):h.h=y}function il(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}tl.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return V(h.i)}var nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const b=h[T].indexOf("=");let k,H=null;b>=0?(k=h[T].substring(0,b),H=h[T].substring(b+1)):k=h[T],y(k,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof An?(this.l=h.l,je(this,h.j),this.o=h.o,this.g=h.g,Ss(this,h.u),this.h=h.h,rl(this,ac(h.i)),this.m=h.m):h&&(y=String(h).match(nc))?(this.l=!1,je(this,y[1]||"",!0),this.o=bi(y[2]||""),this.g=bi(y[3]||"",!0),Ss(this,y[4]),this.h=bi(y[5]||"",!0),rl(this,y[6]||"",!0),this.m=bi(y[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}An.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ir(y,Ca,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ir(y,Ca,!0),"@"),h.push(Gi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ir(T,T.charAt(0)=="/"?al:ic,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ir(T,sc)),h.join("")},An.prototype.resolve=function(h){const y=Re(this);let T=!!h.j;T?je(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var b=h.h;if(T)Ss(y,h.u);else if(T=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var k=y.h.lastIndexOf("/");k!=-1&&(b=y.h.slice(0,k+1)+b)}if(k=b,k==".."||k==".")b="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){b=k.lastIndexOf("/",0)==0,k=k.split("/");const H=[];for(let it=0;it<k.length;){const wt=k[it++];wt=="."?b&&it==k.length&&H.push(""):wt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&it==k.length&&H.push("")):(H.push(wt),b=!0)}b=H.join("/")}else b=k}return T?y.h=b:T=h.i.toString()!=="",T?rl(y,ac(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Re(h){return new An(h)}function je(h,y,T){h.j=T?bi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ss(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function rl(h,y,T){y instanceof ws?(h.i=y,Da(h.i,h.l)):(T||(y=Ir(y,bs)),h.i=new ws(y,h.l))}function Yt(h,y,T){h.i.set(y,T)}function Cr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function bi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ir(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,hn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ca=/[#\/\?@]/g,ic=/[#\?:]/g,al=/[#\?]/g,bs=/[#\?@]/g,sc=/#/g;function ws(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function fn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ra(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=ws.prototype,i.add=function(h,y){fn(this),this.i=null,h=Rs(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function rc(h,y){fn(h),y=Rs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ol(h,y){return fn(h),y=Rs(h,y),h.g.has(y)}i.forEach=function(h,y){fn(this),this.g.forEach(function(T,b){T.forEach(function(k){h.call(y,k,b,this)},this)},this)};function ll(h,y){fn(h);let T=[];if(typeof y=="string")ol(h,y)&&(T=T.concat(h.g.get(Rs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}i.set=function(h,y){return fn(this),this.i=null,h=Rs(this,h),ol(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=ll(this,h),h.length>0?String(h[0]):y):y};function Ia(h,y,T){rc(h,y),T.length>0&&(h.i=null,h.g.set(Rs(h,y),V(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var T=y[b];const k=Gi(T);T=ll(this,T);for(let H=0;H<T.length;H++){let it=k;T[H]!==""&&(it+="="+Gi(T[H])),h.push(it)}}return this.i=h.join("&")};function ac(h){const y=new ws;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Rs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Da(h,y){y&&!h.j&&(fn(h),h.i=null,h.g.forEach(function(T,b){const k=b.toLowerCase();b!=k&&(rc(this,b),Ia(this,k,T))},h)),h.j=y}function Jn(h,y){const T=new $n;if(c.Image){const b=new Image;b.onload=_(On,T,"TestLoadImage: loaded",!0,y,b),b.onerror=_(On,T,"TestLoadImage: error",!1,y,b),b.onabort=_(On,T,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(On,T,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function ul(h,y){const T=new $n,b=new AbortController,k=setTimeout(()=>{b.abort(),On(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(H=>{clearTimeout(k),H.ok?On(T,"TestPingServer: ok",!0,y):On(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(k),On(T,"TestPingServer: error",!1,y)})}function On(h,y,T,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(T)}catch{}}function Cs(){this.g=new Yu}function wi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(wi,Qu),wi.prototype.g=function(){return new Dr(this.i,this.h)};function Dr(h,y){Ae.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Dr,Ae),i=Dr.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ti(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Is(this):ti(this),this.readyState==3&&Va(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Is(this))},i.Na=function(h){this.g&&(this.response=h,Is(this))},i.ga=function(){this.g&&Is(this)};function Is(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ti(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Nn(h){let y="";return Ct(h,function(T,b){y+=b,y+=":",y+=T,y+=`\r
`}),y}function Vr(h,y,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=Nn(T),typeof h=="string"?T!=null&&Gi(T):Yt(h,y,T))}function $t(h){Ae.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E($t,Ae);var Ri=/^https?$/i,cl=["POST","PUT"];i=$t.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(H){Mr(this,H);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)T.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())T.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(H=>H.toLowerCase()=="content-type"),k=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(cl,y,void 0)>=0)||b||k||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of T)this.g.setRequestHeader(H,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){Mr(this,H)}};function Mr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,hl(h),Ki(h)}function hl(h){h.A||(h.A=!0,Le(h,"complete"),Le(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Le(this,"complete"),Le(this,"abort"),Ki(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),$t.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},i.Xa=function(){Or(this)};function Or(h){if(h.h&&typeof u<"u"){if(h.v&&ei(h)==4)setTimeout(h.Ca.bind(h),0);else if(Le(h,"readystatechange"),ei(h)==4){h.h=!1;try{const H=h.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var b;if(b=H===0){let it=String(h.D).match(nc)[1]||null;!it&&c.self&&c.self.location&&(it=c.self.location.protocol.slice(0,-1)),b=!Ri.test(it?it.toLowerCase():"")}T=b}if(T)Le(h,"complete"),Le(h,"success");else{h.o=6;try{var k=ei(h)>2?h.g.statusText:""}catch{k=""}h.l=k+" ["+h.ca()+"]",hl(h)}}finally{Ki(h)}}}}function Ki(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Le(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ei(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ff(y)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(h){const y={};h=(h.g&&ei(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(I(h[b]))continue;var T=Ju(h[b]);const k=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const H=y[k]||[];y[k]=H,H.push(T)}Ot(y,function(b){return b.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Ds(h){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,h),this.Za=Ci("retryDelaySeedMs",1e4,h),this.Ta=Ci("forwardChannelMaxRetries",2,h),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(h&&h.concurrentRequestLimit),this.Ba=new Cs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ds.prototype,i.ka=8,i.I=1,i.connect=function(h,y,T,b){Se(0),this.W=h,this.H=y||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=dc(this,null,this.W),Ii(this)};function fl(h){if(Ma(h),h.I==3){var y=h.V++,T=Re(h.J);if(Yt(T,"SID",h.M),Yt(T,"RID",y),Yt(T,"TYPE","terminate"),Nr(h,T),y=new Wn(h,h.j,y),y.M=2,y.A=Cr(Re(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=mc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vi(y)}fc(h)}function Vs(h){h.g&&(ml(h),h.g.cancel(),h.g=null)}function Ma(h){Vs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Na(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ii(h){if(!el(h.h)&&!h.m){h.m=!0;var y=h.Ea;rt||w(),at||(rt(),at=!0),R.add(y,h),h.D=0}}function Oa(h,y){return Ai(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=gi(g(h.Ea,h,y),hc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const k=new Wn(this,this.j,h);let H=this.o;if(this.U&&(H?(H=x(H),st(H,this.U)):H=this.U),this.u!==null||this.R||(k.J=H,H=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=oc(this,k,y),T=Re(this.J),Yt(T,"RID",h),Yt(T,"CVER",22),this.G&&Yt(T,"X-HTTP-Session-Id",this.G),Nr(this,T),H&&(this.R?y="headers="+Gi(Nn(H))+"&"+y:this.u&&Vr(T,this.u,H)),nl(this.h,k),this.Ra&&Yt(T,"TYPE","init"),this.S?(Yt(T,"$req",y),Yt(T,"SID","null"),k.U=!0,_i(k,T,null)):_i(k,T,y),this.I=2}}else this.I==3&&(h?dl(this,h):this.i.length==0||el(this.h)||dl(this))};function dl(h,y){var T;y?T=y.l:T=h.V++;const b=Re(h.J);Yt(b,"SID",h.M),Yt(b,"RID",T),Yt(b,"AID",h.K),Nr(h,b),h.u&&h.o&&Vr(b,h.u,h.o),T=new Wn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=oc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),nl(h.h,T),_i(T,b,y)}function Nr(h,y){h.H&&Ct(h.H,function(T,b){Yt(y,b,T)}),h.l&&Ct({},function(T,b){Yt(y,b,T)})}function oc(h,y,T){T=Math.min(h.i.length,T);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var k=h.i;let wt=-1;for(;;){const ye=["count="+T];wt==-1?T>0?(wt=k[0].g,ye.push("ofs="+wt)):wt=0:ye.push("ofs="+wt);let Ht=!0;for(let oe=0;oe<T;oe++){var H=k[oe].g;const xn=k[oe].map;if(H-=wt,H<0)wt=Math.max(0,k[oe].g-100),Ht=!1;else try{H="req"+H+"_"||"";try{var it=xn instanceof Map?xn:Object.entries(xn);for(const[Vi,ni]of it){let ii=ni;m(ni)&&(ii=As(ni)),ye.push(H+Vi+"="+encodeURIComponent(ii))}}catch(Vi){throw ye.push(H+"type="+encodeURIComponent("_badmap")),Vi}}catch{b&&b(xn)}}if(Ht){it=ye.join("&");break t}}it=void 0}return h=h.i.splice(0,T),y.G=h,it}function lc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;rt||w(),at||(rt(),at=!0),R.add(y,h),h.A=0}}function xr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=gi(g(h.Da,h),hc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,uc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=gi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Vs(this),uc(this))};function ml(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function uc(h){h.g=new Wn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Re(h.na);Yt(y,"RID","rpc"),Yt(y,"SID",h.M),Yt(y,"AID",h.K),Yt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(y,"TO",h.ia),Yt(y,"TYPE","xmlhttp"),Nr(h,y),h.u&&h.o&&Vr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Cr(Re(y)),T.u=null,T.R=!0,ba(T,h)}i.Va=function(){this.C!=null&&(this.C=null,Vs(this),xr(this),Se(19))};function Na(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function cc(h,y){var T=null;if(h.g==y){Na(h),ml(h),h.g=null;var b=2}else if(Si(h.h,y))T=y.G,il(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var k=h.D;b=Sa(),Le(b,new pi(b,T)),Ii(h)}else lc(h);else if(k=y.m,k==3||k==0&&y.X>0||!(b==1&&Oa(h,y)||b==2&&xr(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),k){case 1:Di(h,5);break;case 4:Di(h,10);break;case 3:Di(h,6);break;default:Di(h,2)}}}function hc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Di(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),b=h.Ua;const k=!b;b=new An(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||je(b,"https"),Cr(b),k?Jn(b.toString(),T):ul(b.toString(),T)}else Se(2);h.I=0,h.l&&h.l.pa(y),fc(h),Ma(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function fc(h){if(h.I=0,h.ja=[],h.l){const y=sl(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ja,y),P(h.ja,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.oa()}}function dc(h,y,T){var b=T instanceof An?Re(T):new An(T);if(b.g!="")y&&(b.g=y+"."+b.g),Ss(b,b.u);else{var k=c.location;b=k.protocol,y=y?y+"."+k.hostname:k.hostname,k=+k.port;const H=new An(null);b&&je(H,b),y&&(H.g=y),k&&Ss(H,k),T&&(H.h=T),b=H}return T=h.G,y=h.wa,T&&y&&Yt(b,T,y),Yt(b,"VER",h.ka),Nr(h,b),b}function mc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new $t(new wi({ab:T})):new $t(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function pc(){}i=pc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ms(){}Ms.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){Ae.call(this),this.g=new Ds(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Qi(this)}E(ln,Ae),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){fl(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=As(h),h=T);y.i.push(new we(y.Ya++,h)),y.I==3&&Ii(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,ln.Z.N.call(this)};function gc(h){He.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(gc,He);function yc(){Vn.call(this),this.status=1}E(yc,Vn);function Qi(h){this.g=h}E(Qi,pc),Qi.prototype.ra=function(){Le(this.g,"a")},Qi.prototype.qa=function(h){Le(this.g,new gc(h))},Qi.prototype.pa=function(h){Le(this.g,new yc)},Qi.prototype.oa=function(){Le(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,i1=function(){return new Ms},n1=function(){return Sa()},e1=ge,Dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Uh=wr,Zo.COMPLETE="complete",t1=Zo,Xu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,tu=Xu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,JS=$t}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});const K0="@firebase/firestore",Y0="4.9.2";class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let zo="12.3.0";const da=new mg("@firebase/firestore");function co(){return da.logLevel}function ut(i,...t){if(da.logLevel<=Pt.DEBUG){const e=t.map(Cg);da.debug(`Firestore (${zo}): ${i}`,...e)}}function gs(i,...t){if(da.logLevel<=Pt.ERROR){const e=t.map(Cg);da.error(`Firestore (${zo}): ${i}`,...e)}}function Io(i,...t){if(da.logLevel<=Pt.WARN){const e=t.map(Cg);da.warn(`Firestore (${zo}): ${i}`,...e)}}function Cg(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function _t(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,s1(i,r,e)}function s1(i,t,e){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw gs(r),new Error(r)}function Kt(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||s1(t,o,r)}function bt(i,t){return i}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ts{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class aa{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class r1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(nn.UNAUTHENTICATED)))}shutdown(){}}class UV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class kV{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new aa,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new aa)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new r1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class zV{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BV{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new zV(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jV{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Q0(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qV(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class Ig{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=qV(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Lt(i,t){return i<t?-1:i>t?1:0}function Vp(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return Jm(o)===Jm(u)?Lt(o,u):Jm(o)?1:-1}return Lt(i.length,t.length)}const FV=55296,HV=57343;function Jm(i){const t=i.charCodeAt(0);return t>=FV&&t<=HV}function Do(i,t,e){return i.length===t.length&&i.every(((r,o)=>e(r,t[o])))}const X0="__name__";class Pi{constructor(t,e,r){e===void 0?e=0:e>t.length&&_t(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&_t(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Pi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Lt(t.length,e.length)}static compareSegments(t,e){const r=Pi.isNumericId(t),o=Pi.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Pi.extractNumericId(t).compare(Pi.extractNumericId(e)):Vp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ur.fromString(t.substring(4,t.length-2))}}class ie extends Pi{construct(t,e,r){return new ie(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new ie(e)}static emptyPath(){return new ie([])}}const GV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Pi{construct(t,e,r){return new Ze(t,e,r)}static isValidIdentifier(t){return GV.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new Ze([X0])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ie.fromString(t))}static fromName(t){return new gt(ie.fromString(t).popFirst(5))}static empty(){return new gt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ie.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ie(t.slice()))}}function a1(i,t,e){if(!e)throw new lt(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function KV(i,t,e,r){if(t===!0&&r===!0)throw new lt(J.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function $0(i){if(!gt.isDocumentKey(i))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function W0(i){if(gt.isDocumentKey(i))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function o1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function wf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":_t(12329,{type:typeof i})}function ou(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wf(i);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function xe(i,t){const e={typeString:i};return t&&(e.value=t),e}function Uu(i,t){if(!o1(i))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new lt(J.INVALID_ARGUMENT,e);return!0}const Z0=-62135596800,J0=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*J0);return new te(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Z0)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J0}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uu(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Z0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:xe("string",te._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new te(0,0))}static max(){return new At(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vu=-1;function YV(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new te(e+1,0):new te(e,r));return new hr(o,gt.empty(),t)}function QV(i){return new hr(i.readTime,i.key,vu)}class hr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new hr(At.min(),gt.empty(),vu)}static max(){return new hr(At.max(),gt.empty(),vu)}}function XV(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=gt.comparator(i.documentKey,t.documentKey),e!==0?e:Lt(i.largestBatchId,t.largestBatchId))}const $V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Bo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==$V)throw i;ut("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new tt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof tt?e:tt.resolve(e)}catch(e){return tt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):tt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):tt.reject(e)}static resolve(t){return new tt(((e,r)=>{e(t)}))}static reject(t){return new tt(((e,r)=>{r(t)}))}static waitFor(t){return new tt(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=tt.resolve(!1);for(const r of t)e=e.next((o=>o?tt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new tt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((_=>{c[g]=_,++m,m===u&&r(c)}),(_=>o(_)))}}))}static doWhile(t,e){return new tt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function ZV(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function jo(i){return i.name==="IndexedDbTransactionError"}class Rf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rf.ce=-1;const Dg=-1;function Cf(i){return i==null}function ef(i){return i===0&&1/i==-1/0}function JV(i){return typeof i=="number"&&Number.isInteger(i)&&!ef(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const l1="";function tM(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=tE(t)),t=eM(i.get(e),t);return tE(t)}function eM(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case l1:e+="";break;default:e+=u}}return e}function tE(i){return i+l1+""}function eE(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function pa(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function u1(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class he{constructor(t,e){this.comparator=t,this.root=e||We.EMPTY}insert(t,e){return new he(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sh(this.root,t,this.comparator,!0)}}class Sh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??We.RED,this.left=o??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new We(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(t){return new nE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ze(this.comparator);return e.data=t,e}}class nE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ci{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new ci([])}unionWith(t){let e=new ze(Ze.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ci(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Do(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class c1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new c1("Invalid base64 string: "+u):u}})(t);return new Je(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Je(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const nM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(i){if(Kt(!!i,39018),typeof i=="string"){let t=0;const e=nM.exec(i);if(Kt(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ee(i.seconds),nanos:Ee(i.nanos)}}function Ee(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function dr(i){return typeof i=="string"?Je.fromBase64String(i):Je.fromUint8Array(i)}const h1="server_timestamp",f1="__type__",d1="__previous_value__",m1="__local_write_time__";function Vg(i){return(i?.mapValue?.fields||{})[f1]?.stringValue===h1}function If(i){const t=i.mapValue.fields[d1];return Vg(t)?If(t):t}function Tu(i){const t=fr(i.mapValue.fields[m1].timestampValue);return new te(t.seconds,t.nanos)}class iM{constructor(t,e,r,o,u,c,m,p,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const nf="(default)";class Eu{constructor(t,e){this.projectId=t,this.database=e||nf}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===nf}isEqual(t){return t instanceof Eu&&t.projectId===this.projectId&&t.database===this.database}}const p1="__type__",sM="__max__",bh={mapValue:{}},g1="__vector__",sf="value";function mr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vg(i)?4:aM(i)?9007199254740991:rM(i)?10:11:_t(28295,{value:i})}function Hi(i,t){if(i===t)return!0;const e=mr(i);if(e!==mr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Tu(i).isEqual(Tu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=fr(o.timestampValue),m=fr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return dr(o.bytesValue).isEqual(dr(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ee(o.doubleValue),m=Ee(u.doubleValue);return c===m?ef(c)===ef(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return Do(i.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(eE(c)!==eE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Hi(c[p],m[p])))return!1;return!0})(i,t);default:return _t(52216,{left:i})}}function Au(i,t){return(i.values||[]).find((e=>Hi(e,t)))!==void 0}function Vo(i,t){if(i===t)return 0;const e=mr(i),r=mr(t);if(e!==r)return Lt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Ee(u.integerValue||u.doubleValue),p=Ee(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return iE(i.timestampValue,t.timestampValue);case 4:return iE(Tu(i),Tu(t));case 5:return Vp(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=dr(u),p=dr(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Lt(m[g],p[g]);if(_!==0)return _}return Lt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Lt(Ee(u.latitude),Ee(c.latitude));return m!==0?m:Lt(Ee(u.longitude),Ee(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return sE(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[sf]?.arrayValue,_=p[sf]?.arrayValue,E=Lt(g?.values?.length||0,_?.values?.length||0);return E!==0?E:sE(g,_)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===bh.mapValue&&c===bh.mapValue)return 0;if(u===bh.mapValue)return 1;if(c===bh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const S=Vp(p[E],_[E]);if(S!==0)return S;const V=Vo(m[p[E]],g[_[E]]);if(V!==0)return V}return Lt(p.length,_.length)})(i.mapValue,t.mapValue);default:throw _t(23264,{he:e})}}function iE(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Lt(i,t);const e=fr(i),r=fr(t),o=Lt(e.seconds,r.seconds);return o!==0?o:Lt(e.nanos,r.nanos)}function sE(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Vo(e[o],r[o]);if(u)return u}return Lt(e.length,r.length)}function Mo(i){return Mp(i)}function Mp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=fr(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return dr(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return gt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Mp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Mp(e.fields[c])}`;return o+"}"})(i.mapValue):_t(61005,{value:i})}function kh(i){switch(mr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=If(i);return t?16+kh(t):16;case 5:return 2*i.stringValue.length;case 6:return dr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+kh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return pa(r.fields,((u,c)=>{o+=u.length+kh(c)})),o})(i.mapValue);default:throw _t(13486,{value:i})}}function rE(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Op(i){return!!i&&"integerValue"in i}function Mg(i){return!!i&&"arrayValue"in i}function aE(i){return!!i&&"nullValue"in i}function oE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zh(i){return!!i&&"mapValue"in i}function rM(i){return(i?.mapValue?.fields||{})[p1]?.stringValue===g1}function lu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return pa(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=lu(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=lu(i.arrayValue.values[e]);return t}return{...i}}function aM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===sM}class Gn{constructor(t){this.value=t}static empty(){return new Gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!zh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=lu(e)}setAll(t){let e=Ze.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=lu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());zh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){pa(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Gn(lu(this.value))}}function y1(i){const t=[];return pa(i.fields,((e,r)=>{const o=new Ze([e]);if(zh(r)){const u=y1(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ci(t)}class sn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,At.min(),At.min(),At.min(),Gn.empty(),0)}static newFoundDocument(t,e,r,o){return new sn(t,1,e,At.min(),r,o,0)}static newNoDocument(t,e){return new sn(t,2,e,At.min(),At.min(),Gn.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,At.min(),At.min(),Gn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rf{constructor(t,e){this.position=t,this.inclusive=e}}function lE(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?r=gt.comparator(gt.fromName(c.referenceValue),e.key):r=Vo(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function uE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Hi(i.position[e],t.position[e]))return!1;return!0}class Su{constructor(t,e="asc"){this.field=t,this.dir=e}}function oM(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class _1{}class Ne extends _1{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new uM(t,e,r):e==="array-contains"?new fM(t,r):e==="in"?new dM(t,r):e==="not-in"?new mM(t,r):e==="array-contains-any"?new pM(t,r):new Ne(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new cM(t,r):new hM(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Vo(e,this.value)):e!==null&&mr(this.value)===mr(e)&&this.matchesComparison(Vo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends _1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new fi(t,e)}matches(t){return v1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function v1(i){return i.op==="and"}function T1(i){return lM(i)&&v1(i)}function lM(i){for(const t of i.filters)if(t instanceof fi)return!1;return!0}function Np(i){if(i instanceof Ne)return i.field.canonicalString()+i.op.toString()+Mo(i.value);if(T1(i))return i.filters.map((t=>Np(t))).join(",");{const t=i.filters.map((e=>Np(e))).join(",");return`${i.op}(${t})`}}function E1(i,t){return i instanceof Ne?(function(r,o){return o instanceof Ne&&r.op===o.op&&r.field.isEqual(o.field)&&Hi(r.value,o.value)})(i,t):i instanceof fi?(function(r,o){return o instanceof fi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&E1(c,o.filters[m])),!0):!1})(i,t):void _t(19439)}function A1(i){return i instanceof Ne?(function(e){return`${e.field.canonicalString()} ${e.op} ${Mo(e.value)}`})(i):i instanceof fi?(function(e){return e.op.toString()+" {"+e.getFilters().map(A1).join(" ,")+"}"})(i):"Filter"}class uM extends Ne{constructor(t,e,r){super(t,e,r),this.key=gt.fromName(r.referenceValue)}matches(t){const e=gt.comparator(t.key,this.key);return this.matchesComparison(e)}}class cM extends Ne{constructor(t,e){super(t,"in",e),this.keys=S1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class hM extends Ne{constructor(t,e){super(t,"not-in",e),this.keys=S1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function S1(i,t){return(t.arrayValue?.values||[]).map((e=>gt.fromName(e.referenceValue)))}class fM extends Ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Mg(e)&&Au(e.arrayValue,this.value)}}class dM extends Ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Au(this.value.arrayValue,e)}}class mM extends Ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Au(this.value.arrayValue,e)}}class pM extends Ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Mg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Au(this.value.arrayValue,r)))}}class gM{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function cE(i,t=null,e=[],r=[],o=null,u=null,c=null){return new gM(i,t,e,r,o,u,c)}function Og(i){const t=bt(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Np(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Cf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Mo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Mo(r))).join(",")),t.Te=e}return t.Te}function Ng(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!oM(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!E1(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!uE(i.startAt,t.startAt)&&uE(i.endAt,t.endAt)}function xp(i){return gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class qo{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yM(i,t,e,r,o,u,c,m){return new qo(i,t,e,r,o,u,c,m)}function xg(i){return new qo(i)}function hE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function b1(i){return i.collectionGroup!==null}function uu(i){const t=bt(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new ze(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Su(u,r))})),e.has(Ze.keyField().canonicalString())||t.Ie.push(new Su(Ze.keyField(),r))}return t.Ie}function Ui(i){const t=bt(i);return t.Ee||(t.Ee=_M(t,uu(i))),t.Ee}function _M(i,t){if(i.limitType==="F")return cE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Su(o.field,u)}));const e=i.endAt?new rf(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new rf(i.startAt.position,i.startAt.inclusive):null;return cE(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function Pp(i,t){const e=i.filters.concat([t]);return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Lp(i,t,e){return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Df(i,t){return Ng(Ui(i),Ui(t))&&i.limitType===t.limitType}function w1(i){return`${Og(Ui(i))}|lt:${i.limitType}`}function ho(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>A1(o))).join(", ")}]`),Cf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Mo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Mo(o))).join(",")),`Target(${r})`})(Ui(i))}; limitType=${i.limitType})`}function Vf(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):gt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of uu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=lE(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,uu(r),o)||r.endAt&&!(function(c,m,p){const g=lE(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,uu(r),o))})(i,t)}function vM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function R1(i){return(t,e)=>{let r=!1;for(const o of uu(i)){const u=TM(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function TM(i,t,e){const r=i.field.isKeyField()?gt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Vo(p,g):_t(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:i.dir})}}class ga{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){pa(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return u1(this.inner)}size(){return this.innerSize}}const EM=new he(gt.comparator);function ys(){return EM}const C1=new he(gt.comparator);function eu(...i){let t=C1;for(const e of i)t=t.insert(e.key,e);return t}function I1(i){let t=C1;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function ea(){return cu()}function D1(){return cu()}function cu(){return new ga((i=>i.toString()),((i,t)=>i.isEqual(t)))}const AM=new he(gt.comparator),SM=new ze(gt.comparator);function Ut(...i){let t=SM;for(const e of i)t=t.add(e);return t}const bM=new ze(Lt);function wM(){return bM}function Pg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(t)?"-0":t}}function V1(i){return{integerValue:""+i}}function RM(i,t){return JV(t)?V1(t):Pg(i,t)}class Mf{constructor(){this._=void 0}}function CM(i,t,e){return i instanceof af?(function(o,u){const c={fields:{[f1]:{stringValue:h1},[m1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Vg(u)&&(u=If(u)),u&&(c.fields[d1]=u),{mapValue:c}})(e,t):i instanceof bu?O1(i,t):i instanceof wu?N1(i,t):(function(o,u){const c=M1(o,u),m=fE(c)+fE(o.Ae);return Op(c)&&Op(o.Ae)?V1(m):Pg(o.serializer,m)})(i,t)}function IM(i,t,e){return i instanceof bu?O1(i,t):i instanceof wu?N1(i,t):e}function M1(i,t){return i instanceof of?(function(r){return Op(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class af extends Mf{}class bu extends Mf{constructor(t){super(),this.elements=t}}function O1(i,t){const e=x1(t);for(const r of i.elements)e.some((o=>Hi(o,r)))||e.push(r);return{arrayValue:{values:e}}}class wu extends Mf{constructor(t){super(),this.elements=t}}function N1(i,t){let e=x1(t);for(const r of i.elements)e=e.filter((o=>!Hi(o,r)));return{arrayValue:{values:e}}}class of extends Mf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function fE(i){return Ee(i.integerValue||i.doubleValue)}function x1(i){return Mg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function DM(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof bu&&o instanceof bu||r instanceof wu&&o instanceof wu?Do(r.elements,o.elements,Hi):r instanceof of&&o instanceof of?Hi(r.Ae,o.Ae):r instanceof af&&o instanceof af})(i.transform,t.transform)}class VM{constructor(t,e){this.version=t,this.transformResults=e}}class ds{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ds}static exists(t){return new ds(void 0,t)}static updateTime(t){return new ds(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Of{}function P1(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new U1(i.key,ds.none()):new ku(i.key,i.data,ds.none());{const e=i.data,r=Gn.empty();let o=new ze(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new ya(i.key,r,new ci(o.toArray()),ds.none())}}function MM(i,t,e){i instanceof ku?(function(o,u,c){const m=o.value.clone(),p=mE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,e):i instanceof ya?(function(o,u,c){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=mE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(L1(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function hu(i,t,e,r){return i instanceof ku?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=u.value.clone(),_=pE(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,e,r):i instanceof ya?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=pE(u.fieldTransforms,p,c),_=c.data;return _.setAll(L1(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(i,t,e,r):(function(u,c,m){return Bh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,e)}function OM(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=M1(r.transform,o||null);u!=null&&(e===null&&(e=Gn.empty()),e.set(r.field,u))}return e||null}function dE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Do(r,o,((u,c)=>DM(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class ku extends Of{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ya extends Of{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function L1(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function mE(i,t,e){const r=new Map;Kt(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let o=0;o<e.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,IM(c,m,e[o]))}return r}function pE(i,t,e){const r=new Map;for(const o of i){const u=o.transform,c=e.data.field(o.field);r.set(o.field,CM(u,c,t))}return r}class U1 extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NM extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xM{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&MM(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=hu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=hu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=D1();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=P1(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Do(this.mutations,t.mutations,((e,r)=>dE(e,r)))&&Do(this.baseMutations,t.baseMutations,((e,r)=>dE(e,r)))}}class Lg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return AM})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Lg(t,e,r,o)}}class PM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class LM{constructor(t,e){this.count=t,this.unchangedNames=e}}var Me,jt;function UM(i){switch(i){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:i})}}function k1(i){if(i===void 0)return gs("GRPC error has no .code"),J.UNKNOWN;switch(i){case Me.OK:return J.OK;case Me.CANCELLED:return J.CANCELLED;case Me.UNKNOWN:return J.UNKNOWN;case Me.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Me.INTERNAL:return J.INTERNAL;case Me.UNAVAILABLE:return J.UNAVAILABLE;case Me.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Me.NOT_FOUND:return J.NOT_FOUND;case Me.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Me.ABORTED:return J.ABORTED;case Me.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Me.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:i})}}(jt=Me||(Me={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function kM(){return new TextEncoder}const zM=new ur([4294967295,4294967295],0);function gE(i){const t=kM().encode(i),e=new ZS;return e.update(t),new Uint8Array(e.digest())}function yE(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ur([e,r],0),new ur([o,u],0)]}class Ug{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new nu(`Invalid padding: ${e}`);if(r<0)throw new nu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new nu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ur.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(ur.fromNumber(r)));return o.compare(zM)===1&&(o=new ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=gE(t),[r,o]=yE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Ug(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=gE(t),[r,o]=yE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,zu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Nf(At.min(),o,new he(Lt),ys(),Ut())}}class zu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new zu(r,e,Ut(),Ut(),Ut())}}class jh{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class z1{constructor(t,e){this.targetId=t,this.Ce=e}}class B1{constructor(t,e,r=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class _E{constructor(){this.ve=0,this.Fe=vE(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:u})}})),new zu(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=vE()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BM{constructor(t){this.Ge=t,this.ze=new Map,this.je=ys(),this.Je=wh(),this.He=wh(),this.Ye=new he(Lt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(xp(u))if(r===0){const c=new gt(u.path);this.et(e,c,sn.newNoDocument(c,At.min()))}else Kt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=dr(r).toUint8Array()}catch(p){if(p instanceof c1)return Io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ug(c,o,u)}catch(p){return Io(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&xp(m.target)){const p=new gt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,sn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=Ut();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Nf(t,e,this.Ye,this.je,r);return this.je=ys(),this.Je=wh(),this.He=wh(),this.Ye=new he(Lt),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new _E,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new ze(Lt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new ze(Lt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ut("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _E),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function wh(){return new he(gt.comparator)}function vE(){return new he(gt.comparator)}const jM={asc:"ASCENDING",desc:"DESCENDING"},qM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FM={and:"AND",or:"OR"};class HM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Up(i,t){return i.useProto3Json||Cf(t)?t:{value:t}}function lf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j1(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function GM(i,t){return lf(i,t.toTimestamp())}function ki(i){return Kt(!!i,49232),At.fromTimestamp((function(e){const r=fr(e);return new te(r.seconds,r.nanos)})(i))}function kg(i,t){return kp(i,t).canonicalString()}function kp(i,t){const e=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function q1(i){const t=ie.fromString(i);return Kt(Y1(t),10190,{key:t.toString()}),t}function zp(i,t){return kg(i.databaseId,t.path)}function tp(i,t){const e=q1(t);if(e.get(1)!==i.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new gt(H1(e))}function F1(i,t){return kg(i.databaseId,t)}function KM(i){const t=q1(i);return t.length===4?ie.emptyPath():H1(t)}function Bp(i){return new ie(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function H1(i){return Kt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function TE(i,t,e){return{name:zp(i,t),fields:e.value.mapValue.fields}}function YM(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Kt(_===void 0||typeof _=="string",58123),Je.fromBase64String(_||"")):(Kt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Je.fromUint8Array(_||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?J.UNKNOWN:k1(g.code);return new lt(_,g.message||"")})(c);e=new B1(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=tp(i,r.document.name),u=ki(r.document.updateTime),c=r.document.createTime?ki(r.document.createTime):At.min(),m=new Gn({mapValue:{fields:r.document.fields}}),p=sn.newFoundDocument(o,u,c,m),g=r.targetIds||[],_=r.removedTargetIds||[];e=new jh(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=tp(i,r.document),u=r.readTime?ki(r.readTime):At.min(),c=sn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new jh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=tp(i,r.document),u=r.removedTargetIds||[];e=new jh([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new LM(o,u),m=r.targetId;e=new z1(m,c)}}return e}function QM(i,t){let e;if(t instanceof ku)e={update:TE(i,t.key,t.value)};else if(t instanceof U1)e={delete:zp(i,t.key)};else if(t instanceof ya)e={update:TE(i,t.key,t.data),updateMask:iO(t.fieldMask)};else{if(!(t instanceof NM))return _t(16599,{Vt:t.type});e={verify:zp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof af)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof of)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw _t(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:GM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(i,t.precondition)),e}function XM(i,t){return i&&i.length>0?(Kt(t!==void 0,14353),i.map((e=>(function(o,u){let c=o.updateTime?ki(o.updateTime):ki(u);return c.isEqual(At.min())&&(c=ki(u)),new VM(c,o.transformResults||[])})(e,t)))):[]}function $M(i,t){return{documents:[F1(i,t.path)]}}function WM(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=F1(i,o);const u=(function(g){if(g.length!==0)return K1(fi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:fo(S.field),direction:tO(S.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=Up(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function ZM(i){let t=KM(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];e.where&&(u=(function(E){const S=G1(E);return S instanceof fi&&T1(S)?S.getFilters():[S]})(e.where));let c=[];e.orderBy&&(c=(function(E){return E.map((S=>(function(P){return new Su(mo(P.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(e.orderBy));let m=null;e.limit&&(m=(function(E){let S;return S=typeof E=="object"?E.value:E,Cf(S)?null:S})(e.limit));let p=null;e.startAt&&(p=(function(E){const S=!!E.before,V=E.values||[];return new rf(V,S)})(e.startAt));let g=null;return e.endAt&&(g=(function(E){const S=!E.before,V=E.values||[];return new rf(V,S)})(e.endAt)),yM(t,o,c,u,m,"F",p,g)}function JM(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function G1(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=mo(e.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(e.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(e.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(e.unaryFilter.field);return Ne.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(i):i.fieldFilter!==void 0?(function(e){return Ne.create(mo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return fi.create(e.compositeFilter.filters.map((r=>G1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(e.compositeFilter.op))})(i):_t(30097,{filter:i})}function tO(i){return jM[i]}function eO(i){return qM[i]}function nO(i){return FM[i]}function fo(i){return{fieldPath:i.canonicalString()}}function mo(i){return Ze.fromServerFormat(i.fieldPath)}function K1(i){return i instanceof Ne?(function(e){if(e.op==="=="){if(oE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NAN"}};if(aE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(oE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NAN"}};if(aE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(e.field),op:eO(e.op),value:e.value}}})(i):i instanceof fi?(function(e){const r=e.getFilters().map((o=>K1(o)));return r.length===1?r[0]:{compositeFilter:{op:nO(e.op),filters:r}}})(i):_t(54877,{filter:i})}function iO(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Y1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class rr{constructor(t,e,r,o,u=At.min(),c=At.min(),m=Je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sO{constructor(t){this.yt=t}}function rO(i){const t=ZM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Lp(t,t.limit,"L"):t}class aO{constructor(){this.Cn=new oO}addToCollectionParentIndex(t,e){return this.Cn.add(e),tt.resolve()}getCollectionParents(t,e){return tt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return tt.resolve()}deleteFieldIndex(t,e){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,e){return tt.resolve()}getDocumentsMatchingTarget(t,e){return tt.resolve(null)}getIndexType(t,e){return tt.resolve(0)}getFieldIndexes(t,e){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,e){return tt.resolve(hr.min())}getMinOffsetFromCollectionGroup(t,e){return tt.resolve(hr.min())}updateCollectionGroup(t,e,r){return tt.resolve()}updateIndexEntries(t,e){return tt.resolve()}}class oO{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new ze(ie.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ze(ie.comparator)).toArray()}}const EE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q1=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Q1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}const AE="LruGarbageCollector",lO=1048576;function SE([i,t],[e,r]){const o=Lt(i,e);return o===0?Lt(t,r):o}class uO{constructor(t){this.Ir=t,this.buffer=new ze(SE),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();SE(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class cO{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(AE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){jo(e)?ut(AE,"Ignoring IndexedDB error during garbage collection: ",e):await Bo(e)}await this.Vr(3e5)}))}}class hO{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return tt.resolve(Rf.ce);const r=new uO(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(EE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EE):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(t,r,e)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),co()<=Pt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function fO(i,t){return new hO(i,t)}class dO{constructor(){this.changes=new ga((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?tt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class pO{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&hu(r.mutation,o,ci.empty(),te.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Ut()){const o=ea();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=eu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=ea();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Ut())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=ys();const c=cu(),m=(function(){return cu()})();return e.forEach(((p,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ya)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),hu(_.mutation,g,_.mutation.getFieldMask(),te.now())):c.set(g.key,ci.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),e.forEach(((g,_)=>m.set(g,new mO(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=cu();let o=new he(((c,m)=>c-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let _=r.get(p)||ci.empty();_=m.applyToLocalView(g,_),r.set(p,_);const E=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,E=D1();_.forEach((S=>{if(!u.has(S)){const V=P1(e.get(S),r.get(S));V!==null&&E.set(S,V),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return tt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):b1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):tt.resolve(ea());let m=vu,p=u;return c.next((g=>tt.forEach(g,((_,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(_)?tt.resolve():this.remoteDocumentCache.getEntry(t,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((_=>({batchId:m,changes:I1(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new gt(e)).next((r=>{let o=eu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=eu();return this.indexManager.getCollectionParents(t,u).next((m=>tt.forEach(m,(p=>{const g=(function(E,S){return new qo(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((_=>{_.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,sn.newInvalidDocument(_)))}));let m=eu();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&hu(_.mutation,g,ci.empty(),te.now()),Vf(e,g)&&(m=m.insert(p,g))})),m}))}}class gO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return tt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(e)),tt.resolve()}getNamedQuery(t,e){return tt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:rO(o.bundledQuery),readTime:ki(o.readTime)}})(e)),tt.resolve()}}class yO{constructor(){this.overlays=new he(gt.comparator),this.qr=new Map}getOverlay(t,e){return tt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ea();return tt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),tt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),tt.resolve()}getOverlaysForCollection(t,e,r){const o=ea(),u=e.length+1,c=new gt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new he(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let _=u.get(g.largestBatchId);_===null&&(_=ea(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return tt.resolve(m)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new PM(e,r));let u=this.qr.get(e);u===void 0&&(u=Ut(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}class _O{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,tt.resolve()}}class zg{constructor(){this.Qr=new ze(Fe.$r),this.Ur=new ze(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Fe(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Fe(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new gt(new ie([])),r=new Fe(e,t),o=new Fe(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new gt(new ie([])),r=new Fe(e,t),o=new Fe(e,t+1);let u=Ut();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new Fe(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return gt.comparator(t.key,e.key)||Lt(t.Yr,e.Yr)}static Kr(t,e){return Lt(t.Yr,e.Yr)||gt.comparator(t.key,e.key)}}class vO{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Fe.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new xM(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Fe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(c)}lookupMutationBatch(t,e){return tt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Dg:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Fe(e,0),o=new Fe(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new ze(Lt);return e.forEach((o=>{const u=new Fe(o,0),c=new Fe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),tt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;gt.isDocumentKey(u)||(u=u.child(""));const c=new Fe(new gt(u),0);let m=new ze(Lt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),tt.resolve(this.ti(m))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Kt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return tt.forEach(e.mutations,(o=>{const u=new Fe(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Fe(e,0),o=this.Zr.firstAfterOrEqual(r);return tt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class TO{constructor(t){this.ri=t,this.docs=(function(){return new he(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return tt.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let r=ys();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),tt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=ys();const c=e.path,m=new gt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||XV(QV(_),r)<=0||(o.has(_.key)||Vf(e,_))&&(u=u.insert(_.key,_.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){_t(9500)}ii(t,e){return tt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new EO(this)}getSize(t){return tt.resolve(this.size)}}class EO extends dO{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),tt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class AO{constructor(t){this.persistence=t,this.si=new ga((e=>Og(e)),Ng),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new zg,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),tt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Oo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,tt.resolve()}updateTargetData(t,e){return this.Pr(e),tt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),tt.waitFor(u).next((()=>o))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return tt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),tt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),tt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),tt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return tt.resolve(r)}containsKey(t,e){return tt.resolve(this._i.containsKey(e))}}class X1{constructor(t,e){this.ui={},this.overlays={},this.ci=new Rf(0),this.li=!1,this.li=!0,this.hi=new _O,this.referenceDelegate=t(this),this.Pi=new AO(this),this.indexManager=new aO,this.remoteDocumentCache=(function(o){return new TO(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new sO(e),this.Ii=new gO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new vO(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){ut("MemoryPersistence","Starting transaction:",t);const o=new SO(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return tt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class SO extends WV{constructor(t){super(),this.currentSequenceNumber=t}}class Bg{constructor(t){this.persistence=t,this.Ri=new zg,this.Vi=null}static mi(t){return new Bg(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),tt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),tt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(r=>{const o=gt.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return tt.or([()=>tt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class uf{constructor(t,e){this.persistence=t,this.pi=new ga((r=>tM(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=fO(this,e)}static mi(t,e){return new uf(t,e)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return tt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?tt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((m=>{m||(r++,u.removeEntry(c,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),tt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),tt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=kh(t.data.value)),e}br(t,e,r){return tt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return tt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=Ut(),o=Ut();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jg(t,e.fromCache,r,o)}}class bO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class wO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gI()?8:ZV(an())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new bO;return this.Ss(t,e,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,e,c,m.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(co()<=Pt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",ho(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(co()<=Pt.DEBUG&&ut("QueryEngine","Query:",ho(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(co()<=Pt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",ho(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(e))):tt.resolve())}ys(t,e){if(hE(e))return tt.resolve(null);let r=Ui(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Lp(e,null,"F"),r=Ui(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ut(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(e,m);return this.Cs(e,g,c,p.readTime)?this.ys(t,Lp(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,r,o){return hE(e)||o.isEqual(At.min())?tt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?tt.resolve(null):(co()<=Pt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(e)),this.vs(t,c,e,YV(o,vu)).next((m=>m)))}))}Ds(t,e){let r=new ze(R1(t));return e.forEach(((o,u)=>{Vf(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return co()<=Pt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ho(e)),this.ps.getDocumentsMatchingQuery(t,e,hr.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const qg="LocalStore",RO=3e8;class CO{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new he(Lt),this.xs=new ga((u=>Og(u)),Ng),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function IO(i,t,e,r){return new CO(i,t,e,r)}async function $1(i,t){const e=bt(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function DO(i,t){const e=bt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const E=g.batch,S=E.keys();let V=tt.resolve();return S.forEach((P=>{V=V.next((()=>_.getEntry(p,P))).next((F=>{const q=g.docVersions.get(P);Kt(q!==null,48541),F.version.compareTo(q)<0&&(E.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),_.addEntry(F)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function W1(i){const t=bt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function VO(i,t){const e=bt(i),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const m=[];t.targetChanges.forEach(((_,E)=>{const S=o.get(E);if(!S)return;m.push(e.Pi.removeMatchingKeys(u,_.removedDocuments,E).next((()=>e.Pi.addMatchingKeys(u,_.addedDocuments,E))));let V=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?V=V.withResumeToken(Je.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,r)),o=o.insert(E,V),(function(F,q,Q){return F.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=RO?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(S,V,_)&&m.push(e.Pi.updateTargetData(u,V))}));let p=ys(),g=Ut();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(MO(u,c,t.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!r.isEqual(At.min())){const _=e.Pi.getLastRemoteSnapshotVersion(u).next((E=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(_)}return tt.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function MO(i,t,e){let r=Ut(),o=Ut();return e.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let c=ys();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ut(qg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function OO(i,t){const e=bt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Dg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function NO(i,t){const e=bt(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,tt.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new rr(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function jp(i,t,e){const r=bt(i),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!jo(c))throw c;ut(qg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function bE(i,t,e){const r=bt(i);let o=At.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const E=bt(p),S=E.xs.get(_);return S!==void 0?tt.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,_)})(r,c,Ui(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:At.min(),e?u:Ut()))).next((m=>(xO(r,vM(t),m),{documents:m,Qs:u})))))}function xO(i,t,e){let r=i.Os.get(t)||At.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class wE{constructor(){this.activeTargetIds=wM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PO{constructor(){this.Mo=new wE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new wE,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class LO{Oo(t){}shutdown(){}}const RE="ConnectivityMonitor";class CE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(RE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(RE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rh=null;function qp(){return Rh===null?Rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rh++,"0x"+Rh.toString(16)}const ep="RestConnection",UO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kO{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===nf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=qp(),m=this.zo(t,e.toUriEncodedString());ut(ep,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=Lo(g);return this.Jo(t,m,p,r,_).then((E=>(ut(ep,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw Io(ep,`RPC '${t}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=UO[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class zO{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const en="WebChannelConnection";class BO extends kO{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=qp();return new Promise(((m,p)=>{const g=new JS;g.setWithCredentials(!0),g.listenOnce(t1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const E=g.getResponseJson();ut(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),m(E);break;case Uh.TIMEOUT:ut(en,`RPC '${t}' ${c} timed out`),p(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const S=g.getStatus();if(ut(en,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const P=V?.error;if(P&&P.status&&P.message){const F=(function(Q){const et=Q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(et)>=0?et:J.UNKNOWN})(P.status);p(new lt(F,P.message))}else p(new lt(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new lt(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ut(en,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(o);ut(en,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",_,r,15)}))}T_(t,e,r){const o=qp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=i1(),m=n1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const _=u.join("");ut(en,`Creating RPC '${t}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);this.I_(E);let S=!1,V=!1;const P=new zO({Yo:q=>{V?ut(en,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(S||(ut(en,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),ut(en,`RPC '${t}' stream ${o} sending:`,q),E.send(q))},Zo:()=>E.close()}),F=(q,Q,et)=>{q.listen(Q,(Z=>{try{et(Z)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return F(E,tu.EventType.OPEN,(()=>{V||(ut(en,`RPC '${t}' stream ${o} transport opened.`),P.o_())})),F(E,tu.EventType.CLOSE,(()=>{V||(V=!0,ut(en,`RPC '${t}' stream ${o} transport closed`),P.a_(),this.E_(E))})),F(E,tu.EventType.ERROR,(q=>{V||(V=!0,Io(en,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),P.a_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),F(E,tu.EventType.MESSAGE,(q=>{if(!V){const Q=q.data[0];Kt(!!Q,16349);const et=Q,Z=et?.error||et[0]?.error;if(Z){ut(en,`RPC '${t}' stream ${o} received error:`,Z);const ht=Z.status;let rt=(function(w){const C=Me[w];if(C!==void 0)return k1(C)})(ht),at=Z.message;rt===void 0&&(rt=J.INTERNAL,at="Unknown error status: "+ht+" with message "+Z.message),V=!0,P.a_(new lt(rt,at)),E.close()}else ut(en,`RPC '${t}' stream ${o} received:`,Q),P.u_(Q)}})),F(m,e1.STAT_EVENT,(q=>{q.stat===Dp.PROXY?ut(en,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===Dp.NOPROXY&&ut(en,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function np(){return typeof document<"u"?document:null}function xf(i){return new HM(i,!0)}class Z1{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const IE="PersistentStream";class J1{constructor(t,e,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(gs(e.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new lt(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(IE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ut(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jO extends J1{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=YM(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?ki(c.readTime):At.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Bp(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=xp(p)?{documents:$M(u,p)}:{query:WM(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=j1(u,c.resumeToken);const g=Up(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){m.readTime=lf(u,c.snapshotVersion.toTimestamp());const g=Up(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=JM(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Bp(this.serializer),e.removeTarget=t,this.q_(e)}}class qO extends J1{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=XM(t.writeResults,t.commitTime),r=ki(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Bp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>QM(this.serializer,r)))};this.q_(e)}}class FO{}class HO extends FO{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,kp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(J.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,kp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(e),this.aa=!1):ut("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class KO{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{_a(this)&&(ut(ma,"Restarting streams for network reachability change."),await(async function(p){const g=bt(p);g.Ea.add(4),await Bu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Pf(g)})(this))}))})),this.Ra=new GO(r,o)}}async function Pf(i){if(_a(i))for(const t of i.da)await t(!0)}async function Bu(i){for(const t of i.da)await t(!1)}function tb(i,t){const e=bt(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Kg(e)?Gg(e):Fo(e).O_()&&Hg(e,t))}function Fg(i,t){const e=bt(i),r=Fo(e);e.Ia.delete(t),r.O_()&&eb(e,t),e.Ia.size===0&&(r.O_()?r.L_():_a(e)&&e.Ra.set("Unknown"))}function Hg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Fo(i).Y_(t)}function eb(i,t){i.Va.Ue(t),Fo(i).Z_(t)}function Gg(i){i.Va=new BM({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Ra.ua()}function Kg(i){return _a(i)&&!Fo(i).x_()&&i.Ia.size>0}function _a(i){return bt(i).Ea.size===0}function nb(i){i.Va=void 0}async function YO(i){i.Ra.set("Online")}async function QO(i){i.Ia.forEach(((t,e)=>{Hg(i,t)}))}async function XO(i,t){nb(i),Kg(i)?(i.Ra.ha(t),Gg(i)):i.Ra.set("Unknown")}async function $O(i,t,e){if(i.Ra.set("Online"),t instanceof B1&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(r){ut(ma,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await cf(i,r)}else if(t instanceof jh?i.Va.Ze(t):t instanceof z1?i.Va.st(t):i.Va.tt(t),!e.isEqual(At.min()))try{const r=await W1(i.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Je.EMPTY_BYTE_STRING,_.snapshotVersion)),eb(u,p);const E=new rr(_.target,p,g,_.sequenceNumber);Hg(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(i,e)}catch(r){ut(ma,"Failed to raise snapshot:",r),await cf(i,r)}}async function cf(i,t,e){if(!jo(t))throw t;i.Ea.add(1),await Bu(i),i.Ra.set("Offline"),e||(e=()=>W1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ut(ma,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await Pf(i)}))}function ib(i,t){return t().catch((e=>cf(i,e,t)))}async function Lf(i){const t=bt(i),e=pr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dg;for(;WO(t);)try{const o=await OO(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,ZO(t,o)}catch(o){await cf(t,o)}sb(t)&&rb(t)}function WO(i){return _a(i)&&i.Ta.length<10}function ZO(i,t){i.Ta.push(t);const e=pr(i);e.O_()&&e.X_&&e.ea(t.mutations)}function sb(i){return _a(i)&&!pr(i).x_()&&i.Ta.length>0}function rb(i){pr(i).start()}async function JO(i){pr(i).ra()}async function tN(i){const t=pr(i);for(const e of i.Ta)t.ea(e.mutations)}async function eN(i,t,e){const r=i.Ta.shift(),o=Lg.from(r,t,e);await ib(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Lf(i)}async function nN(i,t){t&&pr(i).X_&&await(async function(r,o){if((function(c){return UM(c)&&c!==J.ABORTED})(o.code)){const u=r.Ta.shift();pr(r).B_(),await ib(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Lf(r)}})(i,t),sb(i)&&rb(i)}async function DE(i,t){const e=bt(i);e.asyncQueue.verifyOperationInProgress(),ut(ma,"RemoteStore received new credentials");const r=_a(e);e.Ea.add(3),await Bu(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Pf(e)}async function iN(i,t){const e=bt(i);t?(e.Ea.delete(2),await Pf(e)):t||(e.Ea.add(2),await Bu(e),e.Ra.set("Unknown"))}function Fo(i){return i.ma||(i.ma=(function(e,r,o){const u=bt(e);return u.sa(),new jO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:YO.bind(null,i),t_:QO.bind(null,i),r_:XO.bind(null,i),H_:$O.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Kg(i)?Gg(i):i.Ra.set("Unknown")):(await i.ma.stop(),nb(i))}))),i.ma}function pr(i){return i.fa||(i.fa=(function(e,r,o){const u=bt(e);return u.sa(),new qO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:JO.bind(null,i),r_:nN.bind(null,i),ta:tN.bind(null,i),na:eN.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Lf(i)):(await i.fa.stop(),i.Ta.length>0&&(ut(ma,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Yg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new Yg(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qg(i,t){if(gs("AsyncQueue",`${t}: ${i}`),jo(i))return new lt(J.UNAVAILABLE,`${t}: ${i}`);throw i}class So{static emptySet(t){return new So(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||gt.comparator(e.key,r.key):(e,r)=>gt.comparator(e.key,r.key),this.keyedMap=eu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof So)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new So;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class VE{constructor(){this.ga=new he(gt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class No{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new No(t,e,So.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class sN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rN{constructor(){this.queries=ME(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=bt(e),u=o.queries;o.queries=ME(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function ME(){return new ga((i=>w1(i)),Df)}async function aN(i,t){const e=bt(i);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new sN,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Qg(c,`Initialization of query '${ho(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Xg(e)}async function oN(i,t){const e=bt(i),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function lN(i,t){const e=bt(i);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&Xg(e)}function uN(i,t,e){const r=bt(i),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Xg(i){i.Ca.forEach((t=>{t.next()}))}var Fp,OE;(OE=Fp||(Fp={})).Ma="default",OE.Cache="cache";class cN{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new No(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=No.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Fp.Cache}}class ab{constructor(t){this.key=t}}class ob{constructor(t){this.key=t}}class hN{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=R1(t),this.tu=new So(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new VE,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,E)=>{const S=o.get(_),V=Vf(this.query,E)?E:null,P=!!S&&this.mutatedKeys.has(S.key),F=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let q=!1;S&&V?S.data.isEqual(V.data)?P!==F&&(r.track({type:3,doc:V}),q=!0):this.su(S,V)||(r.track({type:2,doc:V}),q=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!S&&V?(r.track({type:0,doc:V}),q=!0):S&&!V&&(r.track({type:1,doc:S}),q=!0,(p||g)&&(m=!0)),q&&(V?(c=c.add(V),u=F?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,E)=>(function(V,P){const F=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:q})}};return F(V)-F(P)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new No(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new ob(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new ab(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $g="SyncEngine";class fN{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class dN{constructor(t){this.key=t,this.hu=!1}}class mN{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ga((m=>w1(m)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new he(gt.comparator),this.Au=new Map,this.Ru=new zg,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pN(i,t,e=!0){const r=db(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await lb(r,t,e,!0),o}async function gN(i,t){const e=db(i);await lb(e,t,!0,!1)}async function lb(i,t,e,r){const o=await NO(i.localStore,Ui(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await yN(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&e&&tb(i.remoteStore,o),m}async function yN(i,t,e,r,o){i.pu=(E,S,V)=>(async function(F,q,Q,et){let Z=q.view.ru(Q);Z.Cs&&(Z=await bE(F.localStore,q.query,!1).then((({documents:R})=>q.view.ru(R,Z))));const ht=et&&et.targetChanges.get(q.targetId),rt=et&&et.targetMismatches.get(q.targetId)!=null,at=q.view.applyChanges(Z,F.isPrimaryClient,ht,rt);return xE(F,q.targetId,at.au),at.snapshot})(i,E,S,V);const u=await bE(i.localStore,t,!0),c=new hN(t,u.Qs),m=c.ru(u.documents),p=zu.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);xE(i,e,g.au);const _=new fN(t,e,c);return i.Tu.set(t,_),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),g.snapshot}async function _N(i,t,e){const r=bt(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Df(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await jp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Fg(r.remoteStore,o.targetId),Hp(r,o.targetId)})).catch(Bo)):(Hp(r,o.targetId),await jp(r.localStore,o.targetId,!0))}async function vN(i,t){const e=bt(i),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Fg(e.remoteStore,r.targetId))}async function TN(i,t,e){const r=CN(i);try{const o=await(function(c,m){const p=bt(c),g=te.now(),_=m.reduce(((V,P)=>V.add(P.key)),Ut());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let P=ys(),F=Ut();return p.Ns.getEntries(V,_).next((q=>{P=q,P.forEach(((Q,et)=>{et.isValidDocument()||(F=F.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,P))).next((q=>{E=q;const Q=[];for(const et of m){const Z=OM(et,E.get(et.key).overlayedDocument);Z!=null&&Q.push(new ya(et.key,Z,y1(Z.value.mapValue),ds.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,Q,m)})).next((q=>{S=q;const Q=q.applyToLocalDocumentSet(E,F);return p.documentOverlayCache.saveOverlays(V,q.batchId,Q)}))})).then((()=>({batchId:S.batchId,changes:I1(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new he(Lt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,e),await ju(r,o.changes),await Lf(r.remoteStore)}catch(o){const u=Qg(o,"Failed to persist write");e.reject(u)}}async function ub(i,t){const e=bt(i);try{const r=await VO(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await ju(e,r,t)}catch(r){await Bo(r)}}function NE(i,t,e){const r=bt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=bt(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,E)=>{for(const S of E.Sa)S.va(m)&&(g=!0)})),g&&Xg(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function EN(i,t,e){const r=bt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new he(gt.comparator);c=c.insert(u,sn.newNoDocument(u,At.min()));const m=Ut().add(u),p=new Nf(At.min(),new Map,new he(Lt),c,m);await ub(r,p),r.du=r.du.remove(u),r.Au.delete(t),Wg(r)}else await jp(r.localStore,t,!1).then((()=>Hp(r,t,e))).catch(Bo)}async function AN(i,t){const e=bt(i),r=t.batch.batchId;try{const o=await DO(e.localStore,t);hb(e,r,null),cb(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await ju(e,o)}catch(o){await Bo(o)}}async function SN(i,t,e){const r=bt(i);try{const o=await(function(c,m){const p=bt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(Kt(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,t);hb(r,t,e),cb(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await ju(r,o)}catch(o){await Bo(o)}}function cb(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function hb(i,t,e){const r=bt(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Hp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||fb(i,r)}))}function fb(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(Fg(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),Wg(i))}function xE(i,t,e){for(const r of e)r instanceof ab?(i.Ru.addReference(r.key,t),bN(i,r)):r instanceof ob?(ut($g,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||fb(i,r.key)):_t(19791,{wu:r})}function bN(i,t){const e=t.key,r=e.path.canonicalString();i.du.get(e)||i.Eu.has(r)||(ut($g,"New document in limbo: "+e),i.Eu.add(r),Wg(i))}function Wg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new gt(ie.fromString(t)),r=i.fu.next();i.Au.set(r,new dN(e)),i.du=i.du.insert(e,r),tb(i.remoteStore,new rr(Ui(xg(e.path)),r,"TargetPurposeLimboResolution",Rf.ce))}}async function ju(i,t,e){const r=bt(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const _=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=jg.As(p.targetId,g);u.push(_)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const _=bt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>tt.forEach(g,(S=>tt.forEach(S.Es,(V=>_.persistence.referenceDelegate.addReference(E,S.targetId,V))).next((()=>tt.forEach(S.ds,(V=>_.persistence.referenceDelegate.removeReference(E,S.targetId,V)))))))))}catch(E){if(!jo(E))throw E;ut(qg,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const V=_.Ms.get(S),P=V.snapshotVersion,F=V.withLastLimboFreeSnapshotVersion(P);_.Ms=_.Ms.insert(S,F)}}})(r.localStore,u))}async function wN(i,t){const e=bt(i);if(!e.currentUser.isEqual(t)){ut($g,"User change. New user:",t.toKey());const r=await $1(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new lt(J.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ju(e,r.Ls)}}function RN(i,t){const e=bt(i),r=e.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function db(i){const t=bt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EN.bind(null,t),t.Pu.H_=lN.bind(null,t.eventManager),t.Pu.yu=uN.bind(null,t.eventManager),t}function CN(i){const t=bt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SN.bind(null,t),t}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return IO(this.persistence,new wO,t.initialUser,this.serializer)}Cu(t){return new X1(Bg.mi,this.serializer)}Du(t){return new PO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class IN extends hf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Kt(this.persistence.referenceDelegate instanceof uf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cO(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new X1((r=>uf.mi(r,e)),this.serializer)}}class Gp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wN.bind(null,this.syncEngine),await iN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rN})()}createDatastore(t){const e=xf(t.databaseInfo.databaseId),r=(function(u){return new BO(u)})(t.databaseInfo);return(function(u,c,m,p){return new HO(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new KO(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>NE(this.syncEngine,e,0)),(function(){return CE.v()?new CE:new LO})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,_){const E=new mN(o,u,c,m,p,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=bt(e);ut(ma,"RemoteStore shutting down."),r.Ea.add(5),await Bu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gp.provider={build:()=>new Gp};class DN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const gr="FirestoreClient";class VN{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ut(gr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ut(gr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Qg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function ip(i,t){i.asyncQueue.verifyOperationInProgress(),ut(gr,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await $1(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function PE(i,t){i.asyncQueue.verifyOperationInProgress();const e=await MN(i);ut(gr,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>DE(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>DE(t.remoteStore,o))),i._onlineComponents=t}async function MN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ut(gr,"Using user provided OfflineComponentProvider");try{await ip(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Io("Error using user provided cache. Falling back to memory cache: "+e),await ip(i,new hf)}}else ut(gr,"Using default OfflineComponentProvider"),await ip(i,new IN(void 0));return i._offlineComponents}async function mb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ut(gr,"Using user provided OnlineComponentProvider"),await PE(i,i._uninitializedComponentsProvider._online)):(ut(gr,"Using default OnlineComponentProvider"),await PE(i,new Gp))),i._onlineComponents}function ON(i){return mb(i).then((t=>t.syncEngine))}async function LE(i){const t=await mb(i),e=t.eventManager;return e.onListen=pN.bind(null,t.syncEngine),e.onUnlisten=_N.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=gN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=vN.bind(null,t.syncEngine),e}function pb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const UE=new Map;const gb="firestore.googleapis.com",kE=!0;class zE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gb,this.ssl=kE}else this.host=t.host,this.ssl=t.ssl??kE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Q1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lO)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pb(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uf{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new LV;switch(r.type){case"firstParty":return new BV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=UE.get(e);r&&(ut("ComponentProvider","Removing Datastore"),UE.delete(e),r.terminate())})(this),Promise.resolve()}}function NN(i,t,e,r={}){i=ou(i,Uf);const o=Lo(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${e}`;o&&(mS(`https://${m}`),pS("Firestore",!0)),u.host!==gb&&u.host!==m&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!ca(p,c)&&(i._setSettings(p),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=nn.MOCK_USER;else{g=oI(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new nn(E)}i._authCredentials=new UV(new r1(g,_))}}class va{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new va(this.firestore,t,this._query)}}class ke{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Uu(e,ke._jsonSchema))return new ke(t,r||null,new gt(ie.fromString(e.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:xe("string",ke._jsonSchemaVersion),referencePath:xe("string")};class cr extends va{constructor(t,e,r){super(t,e,xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new gt(t))}withConverter(t){return new cr(this.firestore,t,this._path)}}function Ch(i,t,...e){if(i=Tn(i),a1("collection","path",t),i instanceof Uf){const r=ie.fromString(t,...e);return W0(r),new cr(i,null,r)}{if(!(i instanceof ke||i instanceof cr))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ie.fromString(t,...e));return W0(r),new cr(i.firestore,null,r)}}function xN(i,t,...e){if(i=Tn(i),arguments.length===1&&(t=Ig.newId()),a1("doc","path",t),i instanceof Uf){const r=ie.fromString(t,...e);return $0(r),new ke(i,null,new gt(r))}{if(!(i instanceof ke||i instanceof cr))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ie.fromString(t,...e));return $0(r),new ke(i.firestore,i instanceof cr?i.converter:null,new gt(r))}}const BE="AsyncQueue";class jE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z1(this,"async_queue_retry"),this._c=()=>{const r=np();r&&ut(BE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=np();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jo(t))throw t;ut(BE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",qE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Yg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:qE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function qE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function FE(i){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class ff extends Uf{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new jE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jE(t),this._firestoreClient=void 0,await t}}}function PN(i,t){const e=typeof i=="object"?i:vS(),r=typeof i=="string"?i:nf,o=gg(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=rI("firestore");u&&NN(o,...u)}return o}function yb(i){if(i._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||LN(i),i._firestoreClient}function LN(i){const t=i._freezeSettings(),e=(function(o,u,c,m){return new iM(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,pb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new VN(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(Je.fromBase64String(t))}catch(e){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uu(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:xe("string",Kn._jsonSchemaVersion),bytes:xe("string")};class Zg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class _b{constructor(t){this._methodName=t}}class zi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(Uu(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:xe("string",zi._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class Bi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uu(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Bi(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:xe("string",Bi._jsonSchemaVersion),vectorValues:xe("object")};const UN=/^__.*__$/;class kN{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new ya(t,this.data,this.fieldMask,e,this.fieldTransforms):new ku(t,this.data,e,this.fieldTransforms)}}function vb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:i})}}class Jg{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Jg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return df(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(vb(this.Ac)&&UN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class zN{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||xf(t)}Cc(t,e,r,o=!1){return new Jg({Ac:t,methodName:e,Dc:r,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tb(i){const t=i._freezeSettings(),e=xf(i._databaseId);return new zN(i._databaseId,!!t.ignoreUndefinedProperties,e)}function BN(i,t,e,r,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,e,o);Sb("Data must be an object, but it was:",c,r);const m=Eb(r,c);let p,g;if(u.merge)p=new ci(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const S=qN(t,E,e);if(!c.contains(S))throw new lt(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);HN(_,S)||_.push(S)}p=new ci(_),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new kN(new Gn(m),p,g)}function jN(i,t,e,r=!1){return ty(e,i.Cc(r?4:3,t))}function ty(i,t){if(Ab(i=Tn(i)))return Sb("Unsupported field value:",t,i),Eb(i,t);if(i instanceof _b)return(function(r,o){if(!vb(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=ty(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(r,o){if((r=Tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=te.fromDate(r);return{timestampValue:lf(o.serializer,u)}}if(r instanceof te){const u=new te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lf(o.serializer,u)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:j1(o.serializer,r._byteString)};if(r instanceof ke){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Bi)return(function(c,m){return{mapValue:{fields:{[p1]:{stringValue:g1},[sf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pg(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${wf(r)}`)})(i,t)}function Eb(i,t){const e={};return u1(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pa(i,((r,o)=>{const u=ty(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function Ab(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof te||i instanceof zi||i instanceof Kn||i instanceof ke||i instanceof _b||i instanceof Bi)}function Sb(i,t,e){if(!Ab(e)||!o1(e)){const r=wf(e);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function qN(i,t,e){if((t=Tn(t))instanceof Zg)return t._internalPath;if(typeof t=="string")return bb(i,t);throw df("Field path arguments must be of type string or ",i,!1,void 0,e)}const FN=new RegExp("[~\\*/\\[\\]]");function bb(i,t,e){if(t.search(FN)>=0)throw df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Zg(...t.split("."))._internalPath}catch{throw df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function df(i,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new lt(J.INVALID_ARGUMENT,m+i+p)}function HN(i,t){return i.some((e=>e.isEqual(t)))}class wb{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new GN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ey("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class GN extends wb{data(){return super.data()}}function ey(i,t){return typeof t=="string"?bb(i,t):t instanceof Zg?t._internalPath:t._delegate._internalPath}function KN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ny{}class Rb extends ny{}function YN(i,t,...e){let r=[];t instanceof ny&&r.push(t),r=r.concat(e),(function(u){const c=u.filter((p=>p instanceof sy)).length,m=u.filter((p=>p instanceof iy)).length;if(c>1||c>0&&m>0)throw new lt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class iy extends Rb{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new iy(t,e,r)}_apply(t){const e=this._parse(t);return Cb(t._query,e),new va(t.firestore,t.converter,Pp(t._query,e))}_parse(t){const e=Tb(t.firestore);return(function(u,c,m,p,g,_,E){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new lt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){GE(E,_);const P=[];for(const F of E)P.push(HE(p,u,F));S={arrayValue:{values:P}}}else S=HE(p,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||GE(E,_),S=jN(m,c,E,_==="in"||_==="not-in");return Ne.create(g,_,S)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class sy extends ny{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new sy(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:fi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)Cb(c,p),c=Pp(c,p)})(t._query,e),new va(t.firestore,t.converter,Pp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ry extends Rb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ry(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new lt(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(u,c)})(t._query,this._field,this._direction);return new va(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new qo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function QN(i,t="asc"){const e=t,r=ey("orderBy",i);return ry._create(r,e)}function HE(i,t,e){if(typeof(e=Tn(e))=="string"){if(e==="")throw new lt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b1(t)&&e.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(ie.fromString(e));if(!gt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rE(i,new gt(r))}if(e instanceof ke)return rE(i,e._key);throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(e)}.`)}function GE(i,t){if(!Array.isArray(i)||i.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Cb(i,t){const e=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class XN{convertValue(t,e="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return pa(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[sf].arrayValue?.values?.map((r=>Ee(r.doubleValue)));return new Bi(e)}convertGeoPoint(t){return new zi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=If(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Tu(t));default:return null}}convertTimestamp(t){const e=fr(t);return new te(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ie.fromString(t);Kt(Y1(r),9688,{name:t});const o=new Eu(r.get(1),r.get(3)),u=new gt(r.popFirst(5));return o.isEqual(e)||gs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function $N(i,t,e){let r;return r=i?i.toFirestore(t):t,r}class iu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oa extends wb{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(ey("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=oa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:xe("string",oa._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class qh extends oa{data(t={}){return super.data(t)}}class bo{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new qh(this._firestore,this._userDataWriter,r.key,r,new iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:WN(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=bo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:i})}}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:xe("string",bo._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class Ib extends XN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,e)}}function sp(i,t){const e=ou(i.firestore,ff),r=xN(i),o=$N(i.converter,t);return JN(e,[BN(Tb(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,ds.exists(!1))]).then((()=>r))}function ZN(i,...t){i=Tn(i);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||FE(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(FE(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof ke)c=ou(i.firestore,ff),m=xg(i._key.path),u={next:p=>{t[r]&&t[r](tx(c,i,p))},error:t[r+1],complete:t[r+2]};else{const p=ou(i,va);c=ou(p.firestore,ff),m=p._query;const g=new Ib(c);u={next:_=>{t[r]&&t[r](new bo(c,g,p,_))},error:t[r+1],complete:t[r+2]},KN(i._query)}return(function(g,_,E,S){const V=new DN(S),P=new cN(_,V,E);return g.asyncQueue.enqueueAndForget((async()=>aN(await LE(g),P))),()=>{V.Nu(),g.asyncQueue.enqueueAndForget((async()=>oN(await LE(g),P)))}})(yb(c),m,o,u)}function JN(i,t){return(function(r,o){const u=new aa;return r.asyncQueue.enqueueAndForget((async()=>TN(await ON(r),o,u))),u.promise})(yb(i),t)}function tx(i,t,e){const r=e.docs.get(t._key),o=new Ib(i);return new oa(i,o,t._key,r,new iu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){zo=o})(Uo),Ro(new ha("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new ff(new kV(r.getProvider("auth-internal")),new jV(c,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),lr(K0,Y0,t),lr(K0,Y0,"esm2020")})();const ex={apiKey:"AIzaSyBM8m5MmYO3RsLNZS-H2C1OPjwg3IvaSL8",authDomain:"fateagent-efba6.firebaseapp.com",projectId:"fateagent-efba6",storageBucket:"fateagent-efba6.firebasestorage.app",messagingSenderId:"1051340303316",appId:"1:1051340303316:web:6e355fde6e6374fcd48441"},Db=_S(ex),rp=xV(Db),nx=new cs,Ih=PN(Db),ay=ot.createContext({});function oy(i){const t=ot.useRef(null);return t.current===null&&(t.current=i()),t.current}const ly=typeof window<"u",Vb=ly?ot.useLayoutEffect:ot.useEffect,kf=ot.createContext(null);function uy(i,t){i.indexOf(t)===-1&&i.push(t)}function cy(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const _s=(i,t,e)=>e>t?t:e<i?i:e;let hy=()=>{};const vs={},Mb=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function Ob(i){return typeof i=="object"&&i!==null}const Nb=i=>/^0[^.\s]+$/u.test(i);function fy(i){let t;return()=>(t===void 0&&(t=i()),t)}const Qn=i=>i,ix=(i,t)=>e=>t(i(e)),qu=(...i)=>i.reduce(ix),Ru=(i,t,e)=>{const r=t-i;return r===0?1:(e-i)/r};class dy{constructor(){this.subscriptions=[]}add(t){return uy(this.subscriptions,t),()=>cy(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ji=i=>i*1e3,Yn=i=>i/1e3;function xb(i,t){return t?i*(1e3/t):0}const Pb=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,sx=1e-7,rx=12;function ax(i,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=Pb(c,r,o)-i,u>0?e=c:t=c;while(Math.abs(u)>sx&&++m<rx);return c}function Fu(i,t,e,r){if(i===t&&e===r)return Qn;const o=u=>ax(u,0,1,i,e);return u=>u===0||u===1?u:Pb(o(u),t,r)}const Lb=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,Ub=i=>t=>1-i(1-t),kb=Fu(.33,1.53,.69,.99),my=Ub(kb),zb=Lb(my),Bb=i=>(i*=2)<1?.5*my(i):.5*(2-Math.pow(2,-10*(i-1))),py=i=>1-Math.sin(Math.acos(i)),jb=Ub(py),qb=Lb(py),ox=Fu(.42,0,1,1),lx=Fu(0,0,.58,1),Fb=Fu(.42,0,.58,1),ux=i=>Array.isArray(i)&&typeof i[0]!="number",Hb=i=>Array.isArray(i)&&typeof i[0]=="number",cx={linear:Qn,easeIn:ox,easeInOut:Fb,easeOut:lx,circIn:py,circInOut:qb,circOut:jb,backIn:my,backInOut:zb,backOut:kb,anticipate:Bb},hx=i=>typeof i=="string",KE=i=>{if(Hb(i)){hy(i.length===4);const[t,e,r,o]=i;return Fu(t,e,r,o)}else if(hx(i))return cx[i];return i},Dh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fx(i,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(_){c.has(_)&&(g.schedule(_),i()),_(m)}const g={schedule:(_,E=!1,S=!1)=>{const P=S&&o?e:r;return E&&c.add(_),P.has(_)||P.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(m=_,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(_))}};return g}const dx=40;function Gb(i,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Dh.reduce((Z,ht)=>(Z[ht]=fx(u),Z),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:_,update:E,preRender:S,render:V,postRender:P}=c,F=()=>{const Z=vs.useManualTiming?o.timestamp:performance.now();e=!1,vs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Z-o.timestamp,dx),1)),o.timestamp=Z,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),_.process(o),E.process(o),S.process(o),V.process(o),P.process(o),o.isProcessing=!1,e&&t&&(r=!1,i(F))},q=()=>{e=!0,r=!0,o.isProcessing||i(F)};return{schedule:Dh.reduce((Z,ht)=>{const rt=c[ht];return Z[ht]=(at,R=!1,w=!1)=>(e||q(),rt.schedule(at,R,w)),Z},{}),cancel:Z=>{for(let ht=0;ht<Dh.length;ht++)c[Dh[ht]].cancel(Z)},state:o,steps:c}}const{schedule:ue,cancel:yr,state:$e,steps:ap}=Gb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let Fh;function mx(){Fh=void 0}const vn={now:()=>(Fh===void 0&&vn.set($e.isProcessing||vs.useManualTiming?$e.timestamp:performance.now()),Fh),set:i=>{Fh=i,queueMicrotask(mx)}},Kb=i=>t=>typeof t=="string"&&t.startsWith(i),gy=Kb("--"),px=Kb("var(--"),yy=i=>px(i)?gx.test(i.split("/*")[0].trim()):!1,gx=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ho={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Cu={...Ho,transform:i=>_s(0,1,i)},Vh={...Ho,default:1},fu=i=>Math.round(i*1e5)/1e5,_y=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yx(i){return i==null}const _x=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vy=(i,t)=>e=>!!(typeof e=="string"&&_x.test(e)&&e.startsWith(i)||t&&!yx(e)&&Object.prototype.hasOwnProperty.call(e,t)),Yb=(i,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(_y);return{[i]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},vx=i=>_s(0,255,i),op={...Ho,transform:i=>Math.round(vx(i))},na={test:vy("rgb","red"),parse:Yb("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:r=1})=>"rgba("+op.transform(i)+", "+op.transform(t)+", "+op.transform(e)+", "+fu(Cu.transform(r))+")"};function Tx(i){let t="",e="",r="",o="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Kp={test:vy("#"),parse:Tx,transform:na.transform},Hu=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),er=Hu("deg"),qi=Hu("%"),vt=Hu("px"),Ex=Hu("vh"),Ax=Hu("vw"),YE={...qi,parse:i=>qi.parse(i)/100,transform:i=>qi.transform(i*100)},po={test:vy("hsl","hue"),parse:Yb("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(i)+", "+qi.transform(fu(t))+", "+qi.transform(fu(e))+", "+fu(Cu.transform(r))+")"},Oe={test:i=>na.test(i)||Kp.test(i)||po.test(i),parse:i=>na.test(i)?na.parse(i):po.test(i)?po.parse(i):Kp.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?na.transform(i):po.transform(i),getAnimatableNone:i=>{const t=Oe.parse(i);return t.alpha=0,Oe.transform(t)}},Sx=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bx(i){return isNaN(i)&&typeof i=="string"&&(i.match(_y)?.length||0)+(i.match(Sx)?.length||0)>0}const Qb="number",Xb="color",wx="var",Rx="var(",QE="${}",Cx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iu(i){const t=i.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(Cx,p=>(Oe.test(p)?(r.color.push(u),o.push(Xb),e.push(Oe.parse(p))):p.startsWith(Rx)?(r.var.push(u),o.push(wx),e.push(p)):(r.number.push(u),o.push(Qb),e.push(parseFloat(p))),++u,QE)).split(QE);return{values:e,split:m,indexes:r,types:o}}function $b(i){return Iu(i).values}function Wb(i){const{split:t,types:e}=Iu(i),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===Qb?u+=fu(o[c]):m===Xb?u+=Oe.transform(o[c]):u+=o[c]}return u}}const Ix=i=>typeof i=="number"?0:Oe.test(i)?Oe.getAnimatableNone(i):i;function Dx(i){const t=$b(i);return Wb(i)(t.map(Ix))}const _r={test:bx,parse:$b,createTransformer:Wb,getAnimatableNone:Dx};function lp(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function Vx({hue:i,saturation:t,lightness:e,alpha:r}){i/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=lp(p,m,i+1/3),u=lp(p,m,i),c=lp(p,m,i-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function mf(i,t){return e=>e>0?t:i}const ce=(i,t,e)=>i+(t-i)*e,up=(i,t,e)=>{const r=i*i,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Mx=[Kp,na,po],Ox=i=>Mx.find(t=>t.test(i));function XE(i){const t=Ox(i);if(!t)return!1;let e=t.parse(i);return t===po&&(e=Vx(e)),e}const $E=(i,t)=>{const e=XE(i),r=XE(t);if(!e||!r)return mf(i,t);const o={...e};return u=>(o.red=up(e.red,r.red,u),o.green=up(e.green,r.green,u),o.blue=up(e.blue,r.blue,u),o.alpha=ce(e.alpha,r.alpha,u),na.transform(o))},Yp=new Set(["none","hidden"]);function Nx(i,t){return Yp.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function xx(i,t){return e=>ce(i,t,e)}function Ty(i){return typeof i=="number"?xx:typeof i=="string"?yy(i)?mf:Oe.test(i)?$E:Ux:Array.isArray(i)?Zb:typeof i=="object"?Oe.test(i)?$E:Px:mf}function Zb(i,t){const e=[...i],r=e.length,o=i.map((u,c)=>Ty(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function Px(i,t){const e={...i,...t},r={};for(const o in e)i[o]!==void 0&&t[o]!==void 0&&(r[o]=Ty(i[o])(i[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function Lx(i,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=i.indexes[u][r[u]],m=i.values[c]??0;e[o]=m,r[u]++}return e}const Ux=(i,t)=>{const e=_r.createTransformer(t),r=Iu(i),o=Iu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Yp.has(i)&&!o.values.length||Yp.has(t)&&!r.values.length?Nx(i,t):qu(Zb(Lx(r,o),o.values),e):mf(i,t)};function Jb(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?ce(i,t,e):Ty(i)(i,t)}const kx=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>ue.update(t,e),stop:()=>yr(t),now:()=>$e.isProcessing?$e.timestamp:vn.now()}},tw=(i,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(i(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},pf=2e4;function Ey(i){let t=0;const e=50;let r=i.next(t);for(;!r.done&&t<pf;)t+=e,r=i.next(t);return t>=pf?1/0:t}function zx(i,t=100,e){const r=e({...i,keyframes:[0,t]}),o=Math.min(Ey(r),pf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Yn(o)}}const Bx=5;function ew(i,t,e){const r=Math.max(t-Bx,0);return xb(e-i(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cp=.001;function jx({duration:i=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=_s(pe.minDamping,pe.maxDamping,c),i=_s(pe.minDuration,pe.maxDuration,Yn(i)),c<1?(o=g=>{const _=g*c,E=_*i,S=_-e,V=Qp(g,c),P=Math.exp(-E);return cp-S/V*P},u=g=>{const E=g*c*i,S=E*e+e,V=Math.pow(c,2)*Math.pow(g,2)*i,P=Math.exp(-E),F=Qp(Math.pow(g,2),c);return(-o(g)+cp>0?-1:1)*((S-V)*P)/F}):(o=g=>{const _=Math.exp(-g*i),E=(g-e)*i+1;return-cp+_*E},u=g=>{const _=Math.exp(-g*i),E=(e-g)*(i*i);return _*E});const m=5/i,p=Fx(o,u,m);if(i=ji(i),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:i};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:i}}}const qx=12;function Fx(i,t,e){let r=e;for(let o=1;o<qx;o++)r=r-i(r)/t(r);return r}function Qp(i,t){return i*Math.sqrt(1-t*t)}const Hx=["duration","bounce"],Gx=["stiffness","damping","mass"];function WE(i,t){return t.some(e=>i[e]!==void 0)}function Kx(i){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...i};if(!WE(i,Gx)&&WE(i,Hx))if(i.visualDuration){const e=i.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*_s(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const e=jx(i);t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function gf(i=pe.visualDuration,t=pe.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:_,duration:E,velocity:S,isResolvedFromDuration:V}=Kx({...e,velocity:-Yn(e.velocity||0)}),P=S||0,F=g/(2*Math.sqrt(p*_)),q=c-u,Q=Yn(Math.sqrt(p/_)),et=Math.abs(q)<5;r||(r=et?pe.restSpeed.granular:pe.restSpeed.default),o||(o=et?pe.restDelta.granular:pe.restDelta.default);let Z;if(F<1){const rt=Qp(Q,F);Z=at=>{const R=Math.exp(-F*Q*at);return c-R*((P+F*Q*q)/rt*Math.sin(rt*at)+q*Math.cos(rt*at))}}else if(F===1)Z=rt=>c-Math.exp(-Q*rt)*(q+(P+Q*q)*rt);else{const rt=Q*Math.sqrt(F*F-1);Z=at=>{const R=Math.exp(-F*Q*at),w=Math.min(rt*at,300);return c-R*((P+F*Q*q)*Math.sinh(w)+rt*q*Math.cosh(w))/rt}}const ht={calculatedDuration:V&&E||null,next:rt=>{const at=Z(rt);if(V)m.done=rt>=E;else{let R=rt===0?P:0;F<1&&(R=rt===0?ji(P):ew(Z,rt,at));const w=Math.abs(R)<=r,C=Math.abs(c-at)<=o;m.done=w&&C}return m.value=m.done?c:at,m},toString:()=>{const rt=Math.min(Ey(ht),pf),at=tw(R=>ht.next(rt*R).value,rt,30);return rt+"ms "+at},toTransition:()=>{}};return ht}gf.applyToOptions=i=>{const t=zx(i,100,gf);return i.ease=t.ease,i.duration=ji(t.duration),i.type="keyframes",i};function Xp({keyframes:i,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:_}){const E=i[0],S={done:!1,value:E},V=w=>m!==void 0&&w<m||p!==void 0&&w>p,P=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let F=e*t;const q=E+F,Q=c===void 0?q:c(q);Q!==q&&(F=Q-E);const et=w=>-F*Math.exp(-w/r),Z=w=>Q+et(w),ht=w=>{const C=et(w),N=Z(w);S.done=Math.abs(C)<=g,S.value=S.done?Q:N};let rt,at;const R=w=>{V(S.value)&&(rt=w,at=gf({keyframes:[S.value,P(S.value)],velocity:ew(Z,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:_}))};return R(0),{calculatedDuration:null,next:w=>{let C=!1;return!at&&rt===void 0&&(C=!0,ht(w),R(w)),rt!==void 0&&w>=rt?at.next(w-rt):(!C&&ht(w),S)}}}function Yx(i,t,e){const r=[],o=e||vs.mix||Jb,u=i.length-1;for(let c=0;c<u;c++){let m=o(i[c],i[c+1]);if(t){const p=Array.isArray(t)?t[c]||Qn:t;m=qu(p,m)}r.push(m)}return r}function Qx(i,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=i.length;if(hy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const m=Yx(t,r,o),p=m.length,g=_=>{if(c&&_<i[0])return t[0];let E=0;if(p>1)for(;E<i.length-2&&!(_<i[E+1]);E++);const S=Ru(i[E],i[E+1],_);return m[E](S)};return e?_=>g(_s(i[0],i[u-1],_)):g}function Xx(i,t){const e=i[i.length-1];for(let r=1;r<=t;r++){const o=Ru(0,t,r);i.push(ce(e,1,o))}}function $x(i){const t=[0];return Xx(t,i.length-1),t}function Wx(i,t){return i.map(e=>e*t)}function Zx(i,t){return i.map(()=>t||Fb).splice(0,i.length-1)}function du({duration:i=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=ux(r)?r.map(KE):KE(r),u={done:!1,value:t[0]},c=Wx(e&&e.length===t.length?e:$x(t),i),m=Qx(c,t,{ease:Array.isArray(o)?o:Zx(t,o)});return{calculatedDuration:i,next:p=>(u.value=m(p),u.done=p>=i,u)}}const Jx=i=>i!==null;function Ay(i,{repeat:t,repeatType:e="loop"},r,o=1){const u=i.filter(Jx),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const tP={decay:Xp,inertia:Xp,tween:du,keyframes:du,spring:gf};function nw(i){typeof i.type=="string"&&(i.type=tP[i.type])}class Sy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const eP=i=>i/100;class by extends Sy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;nw(t);const{type:e=du,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||du;p!==du&&typeof m[0]!="number"&&(this.mixKeyframes=qu(eP,Jb(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Ey(g));const{calculatedDuration:_}=g;this.calculatedDuration=_,this.resolvedDuration=_+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:_,repeat:E,repeatType:S,repeatDelay:V,type:P,onUpdate:F,finalKeyframe:q}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),et=this.playbackSpeed>=0?Q<0:Q>o;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Z=this.currentTime,ht=r;if(E){const w=Math.min(this.currentTime,o)/m;let C=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&C--,C=Math.min(C,E+1),!!(C%2)&&(S==="reverse"?(N=1-N,V&&(N-=V/m)):S==="mirror"&&(ht=c)),Z=_s(0,1,N)*m}const rt=et?{done:!1,value:_[0]}:ht.next(Z);u&&(rt.value=u(rt.value));let{done:at}=rt;!et&&p!==null&&(at=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return R&&P!==Xp&&(rt.value=Ay(_,this.options,q,this.speed)),F&&F(rt.value),R&&this.finish(),rt}then(t,e){return this.finished.then(t,e)}get duration(){return Yn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(this.currentTime)}set time(t){t=ji(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Yn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=kx,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function nP(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const ia=i=>i*180/Math.PI,$p=i=>{const t=ia(Math.atan2(i[1],i[0]));return Wp(t)},iP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:$p,rotateZ:$p,skewX:i=>ia(Math.atan(i[1])),skewY:i=>ia(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},Wp=i=>(i=i%360,i<0&&(i+=360),i),ZE=$p,JE=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),tA=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),sP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JE,scaleY:tA,scale:i=>(JE(i)+tA(i))/2,rotateX:i=>Wp(ia(Math.atan2(i[6],i[5]))),rotateY:i=>Wp(ia(Math.atan2(-i[2],i[0]))),rotateZ:ZE,rotate:ZE,skewX:i=>ia(Math.atan(i[4])),skewY:i=>ia(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function Zp(i){return i.includes("scale")?1:0}function Jp(i,t){if(!i||i==="none")return Zp(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=sP,o=e;else{const m=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=iP,o=m}if(!o)return Zp(t);const u=r[t],c=o[1].split(",").map(aP);return typeof u=="function"?u(c):c[u]}const rP=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return Jp(e,t)};function aP(i){return parseFloat(i.trim())}const Go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(Go),eA=i=>i===Ho||i===vt,oP=new Set(["x","y","z"]),lP=Go.filter(i=>!oP.has(i));function uP(i){const t=[];return lP.forEach(e=>{const r=i.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const la={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>Jp(t,"x"),y:(i,{transform:t})=>Jp(t,"y")};la.translateX=la.x;la.translateY=la.y;const ua=new Set;let tg=!1,eg=!1,ng=!1;function iw(){if(eg){const i=Array.from(ua).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=uP(r);o.length&&(e.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}eg=!1,tg=!1,ua.forEach(i=>i.complete(ng)),ua.clear()}function sw(){ua.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(eg=!0)})}function cP(){ng=!0,sw(),iw(),ng=!1}class wy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ua.add(this),tg||(tg=!0,ue.read(sw),ue.resolveKeyframes(iw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}nP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ua.delete(this)}cancel(){this.state==="scheduled"&&(ua.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hP=i=>i.startsWith("--");function fP(i,t,e){hP(t)?i.style.setProperty(t,e):i.style[t]=e}const dP=fy(()=>window.ScrollTimeline!==void 0),mP={};function pP(i,t){const e=fy(i);return()=>mP[t]??e()}const rw=pP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),su=([i,t,e,r])=>`cubic-bezier(${i}, ${t}, ${e}, ${r})`,nA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:su([0,.65,.55,1]),circOut:su([.55,0,1,.45]),backIn:su([.31,.01,.66,-.59]),backOut:su([.33,1.53,.69,.99])};function aw(i,t){if(i)return typeof i=="function"?rw()?tw(i,t):"ease-out":Hb(i)?su(i):Array.isArray(i)?i.map(e=>aw(e,t)||nA.easeOut):nA[i]}function gP(i,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const _={[t]:e};p&&(_.offset=p);const E=aw(m,o);Array.isArray(E)&&(_.easing=E);const S={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),i.animate(_,S)}function ow(i){return typeof i=="function"&&"applyToOptions"in i}function yP({type:i,...t}){return ow(i)&&rw()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class _P extends Sy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,hy(typeof t.type!="string");const g=yP(t);this.animation=gP(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const _=Ay(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(_):fP(e,r,_),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Yn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ji(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&dP()?(this.animation.timeline=t,Qn):e(this)}}const lw={anticipate:Bb,backInOut:zb,circInOut:qb};function vP(i){return i in lw}function TP(i){typeof i.ease=="string"&&vP(i.ease)&&(i.ease=lw[i.ease])}const iA=10;class EP extends _P{constructor(t){TP(t),nw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new by({...c,autoplay:!1}),p=ji(this.finishedTime??this.time);e.setWithVelocity(m.sample(p-iA).value,m.sample(p).value,iA),m.stop()}}const sA=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(_r.test(i)||i==="0")&&!i.startsWith("url("));function AP(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function SP(i,t,e,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],c=sA(o,t),m=sA(u,t);return!c||!m?!1:AP(i)||(e==="spring"||ow(e))&&r}function ig(i){i.duration=0,i.type="keyframes"}const bP=new Set(["opacity","clipPath","filter","transform"]),wP=fy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function RP(i){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return wP()&&e&&bP.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const CP=40;class IP extends Sy{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:_,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vn.now();const S={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:_,...E},V=_?.KeyframeResolver||wy;this.keyframeResolver=new V(m,(P,F,q)=>this.onKeyframesResolved(P,F,S,!q),p,g,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:_}=r;this.resolvedAt=vn.now(),SP(t,u,c,m)||((vs.instantAnimations||!p)&&_?.(Ay(t,r,e)),t[0]=t[t.length-1],ig(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>CP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},V=!g&&RP(S)?new EP({...S,element:S.motionValue.owner.current}):new by(S);V.finished.then(()=>this.notifyFinished()).catch(Qn),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),cP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const DP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VP(i){const t=DP.exec(i);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function uw(i,t,e=1){const[r,o]=VP(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return Mb(c)?parseFloat(c):c}return yy(o)?uw(o,t,e+1):o}function Ry(i,t){return i?.[t]??i?.default??i}const cw=new Set(["width","height","top","left","right","bottom",...Go]),MP={test:i=>i==="auto",parse:i=>i},hw=i=>t=>t.test(i),fw=[Ho,vt,qi,er,Ax,Ex,MP],rA=i=>fw.find(hw(i));function OP(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||Nb(i):!0}const NP=new Set(["brightness","contrast","saturate","opacity"]);function xP(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=e.match(_y)||[];if(!r)return i;const o=e.replace(r,"");let u=NP.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const PP=/\b([a-z-]*)\(.*?\)/gu,sg={..._r,getAnimatableNone:i=>{const t=i.match(PP);return t?t.map(xP).join(" "):i}},aA={...Ho,transform:Math.round},LP={rotate:er,rotateX:er,rotateY:er,rotateZ:er,scale:Vh,scaleX:Vh,scaleY:Vh,scaleZ:Vh,skew:er,skewX:er,skewY:er,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:Cu,originX:YE,originY:YE,originZ:vt},Cy={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,radius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,backgroundPositionX:vt,backgroundPositionY:vt,...LP,zIndex:aA,fillOpacity:Cu,strokeOpacity:Cu,numOctaves:aA},UP={...Cy,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:sg,WebkitFilter:sg},dw=i=>UP[i];function mw(i,t){let e=dw(i);return e!==sg&&(e=_r),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const kP=new Set(["auto","none","0"]);function zP(i,t,e){let r=0,o;for(;r<i.length&&!o;){const u=i[r];typeof u=="string"&&!kP.has(u)&&Iu(u).values.length&&(o=i[r]),r++}if(o&&e)for(const u of t)i[u]=mw(e,o)}class BP extends wy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),yy(g))){const _=uw(g,e.current);_!==void 0&&(t[p]=_),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!cw.has(r)||t.length!==2)return;const[o,u]=t,c=rA(o),m=rA(u);if(c!==m)if(eA(c)&&eA(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else la[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||OP(t[o]))&&r.push(o);r.length&&zP(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=la[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=la[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function jP(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const o=e?.[i]??r.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const pw=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function gw(i){return Ob(i)&&"offsetHeight"in i}const oA=30,qP=i=>!isNaN(parseFloat(i));class FP{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=vn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=qP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new dy);const r=this.events[t].add(e);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,oA);return xb(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xo(i,t){return new FP(i,t)}const{schedule:Iy}=Gb(queueMicrotask,!1),oi={x:!1,y:!1};function yw(){return oi.x||oi.y}function HP(i){return i==="x"||i==="y"?oi[i]?null:(oi[i]=!0,()=>{oi[i]=!1}):oi.x||oi.y?null:(oi.x=oi.y=!0,()=>{oi.x=oi.y=!1})}function _w(i,t){const e=jP(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function lA(i){return!(i.pointerType==="touch"||yw())}function GP(i,t,e={}){const[r,o,u]=_w(i,e),c=m=>{if(!lA(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const _=E=>{lA(E)&&(g(E),p.removeEventListener("pointerleave",_))};p.addEventListener("pointerleave",_,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const vw=(i,t)=>t?i===t?!0:vw(i,t.parentElement):!1,Dy=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,KP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YP(i){return KP.has(i.tagName)||i.tabIndex!==-1}const Hh=new WeakSet;function uA(i){return t=>{t.key==="Enter"&&i(t)}}function hp(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const QP=(i,t)=>{const e=i.currentTarget;if(!e)return;const r=uA(()=>{if(Hh.has(e))return;hp(e,"down");const o=uA(()=>{hp(e,"up")}),u=()=>hp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function cA(i){return Dy(i)&&!yw()}function XP(i,t,e={}){const[r,o,u]=_w(i,e),c=m=>{const p=m.currentTarget;if(!cA(m))return;Hh.add(p);const g=t(p,m),_=(V,P)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),Hh.has(p)&&Hh.delete(p),cA(V)&&typeof g=="function"&&g(V,{success:P})},E=V=>{_(V,p===window||p===document||e.useGlobalTarget||vw(p,V.target))},S=V=>{_(V,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),gw(m)&&(m.addEventListener("focus",g=>QP(g,o)),!YP(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Tw(i){return Ob(i)&&"ownerSVGElement"in i}function $P(i){return Tw(i)&&i.tagName==="svg"}const rn=i=>!!(i&&i.getVelocity),WP=[...fw,Oe,_r],ZP=i=>WP.find(hw(i)),Vy=ot.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function hA(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function JP(...i){return t=>{let e=!1;const r=i.map(o=>{const u=hA(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():hA(i[o],null)}}}}function t4(...i){return ot.useCallback(JP(...i),i)}class e4 extends ot.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=gw(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function n4({children:i,isPresent:t,anchorX:e,root:r}){const o=ot.useId(),u=ot.useRef(null),c=ot.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=ot.useContext(Vy),p=t4(u,i?.ref);return ot.useInsertionEffect(()=>{const{width:g,height:_,top:E,left:S,right:V}=c.current;if(t||!u.current||!g||!_)return;const P=e==="left"?`left: ${S}`:`right: ${V}`;u.current.dataset.motionPopId=o;const F=document.createElement("style");m&&(F.nonce=m);const q=r??document.head;return q.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${_}px !important;
            ${P}px !important;
            top: ${E}px !important;
          }
        `),()=>{q.contains(F)&&q.removeChild(F)}},[t]),zt.jsx(e4,{isPresent:t,childRef:u,sizeRef:c,children:ot.cloneElement(i,{ref:p})})}const i4=({children:i,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=oy(s4),_=ot.useId();let E=!0,S=ot.useMemo(()=>(E=!1,{id:_,initial:t,isPresent:e,custom:o,onExitComplete:V=>{g.set(V,!0);for(const P of g.values())if(!P)return;r&&r()},register:V=>(g.set(V,!1),()=>g.delete(V))}),[e,g,r]);return u&&E&&(S={...S}),ot.useMemo(()=>{g.forEach((V,P)=>g.set(P,!1))},[e]),ot.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(i=zt.jsx(n4,{isPresent:e,anchorX:m,root:p,children:i})),zt.jsx(kf.Provider,{value:S,children:i})};function s4(){return new Map}function Ew(i=!0){const t=ot.useContext(kf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=ot.useId();ot.useEffect(()=>{if(i)return o(u)},[i]);const c=ot.useCallback(()=>i&&r&&r(u),[u,r,i]);return!e&&r?[!1,c]:[!0]}const Mh=i=>i.key||"";function fA(i){const t=[];return ot.Children.forEach(i,e=>{ot.isValidElement(e)&&t.push(e)}),t}const r4=({children:i,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,_]=Ew(c),E=ot.useMemo(()=>fA(i),[i]),S=c&&!g?[]:E.map(Mh),V=ot.useRef(!0),P=ot.useRef(E),F=oy(()=>new Map),[q,Q]=ot.useState(E),[et,Z]=ot.useState(E);Vb(()=>{V.current=!1,P.current=E;for(let at=0;at<et.length;at++){const R=Mh(et[at]);S.includes(R)?F.delete(R):F.get(R)!==!0&&F.set(R,!1)}},[et,S.length,S.join("-")]);const ht=[];if(E!==q){let at=[...E];for(let R=0;R<et.length;R++){const w=et[R],C=Mh(w);S.includes(C)||(at.splice(R,0,w),ht.push(w))}return u==="wait"&&ht.length&&(at=ht),Z(fA(at)),Q(E),null}const{forceRender:rt}=ot.useContext(ay);return zt.jsx(zt.Fragment,{children:et.map(at=>{const R=Mh(at),w=c&&!g?!1:E===et||S.includes(R),C=()=>{if(F.has(R))F.set(R,!0);else return;let N=!0;F.forEach(M=>{M||(N=!1)}),N&&(rt?.(),Z(P.current),c&&_?.(),r&&r())};return zt.jsx(i4,{isPresent:w,initial:!V.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:C,anchorX:m,children:at},R)})})},Aw=ot.createContext({strict:!1}),dA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Po={};for(const i in dA)Po[i]={isEnabled:t=>dA[i].some(e=>!!t[e])};function a4(i){for(const t in i)Po[t]={...Po[t],...i[t]}}const o4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yf(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||o4.has(i)}let Sw=i=>!yf(i);function l4(i){typeof i=="function"&&(Sw=t=>t.startsWith("on")?!yf(t):i(t))}try{l4(require("@emotion/is-prop-valid").default)}catch{}function u4(i,t,e){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(Sw(o)||e===!0&&yf(o)||!t&&!yf(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}const zf=ot.createContext({});function Bf(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Du(i){return typeof i=="string"||Array.isArray(i)}const My=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Oy=["initial",...My];function jf(i){return Bf(i.animate)||Oy.some(t=>Du(i[t]))}function bw(i){return!!(jf(i)||i.variants)}function c4(i,t){if(jf(i)){const{initial:e,animate:r}=i;return{initial:e===!1||Du(e)?e:void 0,animate:Du(r)?r:void 0}}return i.inherit!==!1?t:{}}function h4(i){const{initial:t,animate:e}=c4(i,ot.useContext(zf));return ot.useMemo(()=>({initial:t,animate:e}),[mA(t),mA(e)])}function mA(i){return Array.isArray(i)?i.join(" "):i}const Vu={};function f4(i){for(const t in i)Vu[t]=i[t],gy(t)&&(Vu[t].isCSSVariable=!0)}function ww(i,{layout:t,layoutId:e}){return Ko.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!Vu[i]||i==="opacity")}const d4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m4=Go.length;function p4(i,t,e){let r="",o=!0;for(let u=0;u<m4;u++){const c=Go[u],m=i[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=pw(m,Cy[c]);if(!p){o=!1;const _=d4[c]||c;r+=`${_}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Ny(i,t,e){const{style:r,vars:o,transformOrigin:u}=i;let c=!1,m=!1;for(const p in t){const g=t[p];if(Ko.has(p)){c=!0;continue}else if(gy(p)){o[p]=g;continue}else{const _=pw(g,Cy[p]);p.startsWith("origin")?(m=!0,u[p]=_):r[p]=_}}if(t.transform||(c||e?r.transform=p4(t,i.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:_=0}=u;r.transformOrigin=`${p} ${g} ${_}`}}const xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rw(i,t,e){for(const r in t)!rn(t[r])&&!ww(r,e)&&(i[r]=t[r])}function g4({transformTemplate:i},t){return ot.useMemo(()=>{const e=xy();return Ny(e,t,i),Object.assign({},e.vars,e.style)},[t])}function y4(i,t){const e=i.style||{},r={};return Rw(r,e,i),Object.assign(r,g4(i,t)),r}function _4(i,t){const e={},r=y4(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=r,e}const v4={offset:"stroke-dashoffset",array:"stroke-dasharray"},T4={offset:"strokeDashoffset",array:"strokeDasharray"};function E4(i,t,e=1,r=0,o=!0){i.pathLength=1;const u=o?v4:T4;i[u.offset]=vt.transform(-r);const c=vt.transform(t),m=vt.transform(e);i[u.array]=`${c} ${m}`}function Cw(i,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,_){if(Ny(i,m,g),p){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:E,style:S}=i;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=_?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),e!==void 0&&(E.y=e),r!==void 0&&(E.scale=r),o!==void 0&&E4(E,o,u,c,!1)}const Iw=()=>({...xy(),attrs:{}}),Dw=i=>typeof i=="string"&&i.toLowerCase()==="svg";function A4(i,t,e,r){const o=ot.useMemo(()=>{const u=Iw();return Cw(u,t,Dw(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};Rw(u,i.style,i),o.style={...u,...o.style}}return o}const S4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Py(i){return typeof i!="string"||i.includes("-")?!1:!!(S4.indexOf(i)>-1||/[A-Z]/u.test(i))}function b4(i,t,e,{latestValues:r},o,u=!1){const m=(Py(i)?A4:_4)(t,r,o,i),p=u4(t,typeof i=="string",u),g=i!==ot.Fragment?{...p,...m,ref:e}:{},{children:_}=t,E=ot.useMemo(()=>rn(_)?_.get():_,[_]);return ot.createElement(i,{...g,children:E})}function pA(i){const t=[{},{}];return i?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Ly(i,t,e,r){if(typeof t=="function"){const[o,u]=pA(r);t=t(e!==void 0?e:i.custom,o,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,u]=pA(r);t=t(e!==void 0?e:i.custom,o,u)}return t}function Gh(i){return rn(i)?i.get():i}function w4({scrapeMotionValuesFromProps:i,createRenderState:t},e,r,o){return{latestValues:R4(e,r,o,i),renderState:t()}}function R4(i,t,e,r){const o={},u=r(i,{});for(const S in u)o[S]=Gh(u[S]);let{initial:c,animate:m}=i;const p=jf(i),g=bw(i);t&&g&&!p&&i.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let _=e?e.initial===!1:!1;_=_||c===!1;const E=_?m:c;if(E&&typeof E!="boolean"&&!Bf(E)){const S=Array.isArray(E)?E:[E];for(let V=0;V<S.length;V++){const P=Ly(i,S[V]);if(P){const{transitionEnd:F,transition:q,...Q}=P;for(const et in Q){let Z=Q[et];if(Array.isArray(Z)){const ht=_?Z.length-1:0;Z=Z[ht]}Z!==null&&(o[et]=Z)}for(const et in F)o[et]=F[et]}}}return o}const Vw=i=>(t,e)=>{const r=ot.useContext(zf),o=ot.useContext(kf),u=()=>w4(i,t,r,o);return e?u():oy(u)};function Uy(i,t,e){const{style:r}=i,o={};for(const u in r)(rn(r[u])||t.style&&rn(t.style[u])||ww(u,i)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const C4=Vw({scrapeMotionValuesFromProps:Uy,createRenderState:xy});function Mw(i,t,e){const r=Uy(i,t,e);for(const o in i)if(rn(i[o])||rn(t[o])){const u=Go.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=i[o]}return r}const I4=Vw({scrapeMotionValuesFromProps:Mw,createRenderState:Iw}),D4=Symbol.for("motionComponentSymbol");function go(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function V4(i,t,e){return ot.useCallback(r=>{r&&i.onMount&&i.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):go(e)&&(e.current=r))},[t])}const ky=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M4="framerAppearId",Ow="data-"+ky(M4),Nw=ot.createContext({});function O4(i,t,e,r,o){const{visualElement:u}=ot.useContext(zf),c=ot.useContext(Aw),m=ot.useContext(kf),p=ot.useContext(Vy).reducedMotion,g=ot.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(i,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const _=g.current,E=ot.useContext(Nw);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&N4(g.current,e,o,E);const S=ot.useRef(!1);ot.useInsertionEffect(()=>{_&&S.current&&_.update(e,m)});const V=e[Ow],P=ot.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return Vb(()=>{_&&(S.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),P.current&&_.animationState&&_.animationState.animateChanges())}),ot.useEffect(()=>{_&&(!P.current&&_.animationState&&_.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),P.current=!1),_.enteringChildren=void 0)}),_}function N4(i,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:_}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:xw(i.parent)),i.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&go(m),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:_,layoutScroll:p,layoutRoot:g})}function xw(i){if(i)return i.options.allowProjection!==!1?i.projection:xw(i.parent)}function fp(i,{forwardMotionProps:t=!1}={},e,r){e&&a4(e);const o=Py(i)?I4:C4;function u(m,p){let g;const _={...ot.useContext(Vy),...m,layoutId:x4(m)},{isStatic:E}=_,S=h4(m),V=o(m,E);if(!E&&ly){P4();const P=L4(_);g=P.MeasureLayout,S.visualElement=O4(i,V,_,r,P.ProjectionNode)}return zt.jsxs(zf.Provider,{value:S,children:[g&&S.visualElement?zt.jsx(g,{visualElement:S.visualElement,..._}):null,b4(i,m,V4(V,S.visualElement,p),V,E,t)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=ot.forwardRef(u);return c[D4]=i,c}function x4({layoutId:i}){const t=ot.useContext(ay).id;return t&&i!==void 0?t+"-"+i:i}function P4(i,t){ot.useContext(Aw).strict}function L4(i){const{drag:t,layout:e}=Po;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(i)||e?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function U4(i,t){if(typeof Proxy>"u")return fp;const e=new Map,r=(u,c)=>fp(u,c,i,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,fp(c,void 0,i,t)),e.get(c))})}function Pw({top:i,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:i,max:r}}}function k4({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function z4(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function dp(i){return i===void 0||i===1}function rg({scale:i,scaleX:t,scaleY:e}){return!dp(i)||!dp(t)||!dp(e)}function Jr(i){return rg(i)||Lw(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function Lw(i){return gA(i.x)||gA(i.y)}function gA(i){return i&&i!=="0%"}function _f(i,t,e){const r=i-e,o=t*r;return e+o}function yA(i,t,e,r,o){return o!==void 0&&(i=_f(i,o,r)),_f(i,e,r)+t}function ag(i,t=0,e=1,r,o){i.min=yA(i.min,t,e,r,o),i.max=yA(i.max,t,e,r,o)}function Uw(i,{x:t,y:e}){ag(i.x,t.translate,t.scale,t.originPoint),ag(i.y,e.translate,e.scale,e.originPoint)}const _A=.999999999999,vA=1.0000000000001;function B4(i,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_o(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Uw(i,c)),r&&Jr(u.latestValues)&&_o(i,u.latestValues))}t.x<vA&&t.x>_A&&(t.x=1),t.y<vA&&t.y>_A&&(t.y=1)}function yo(i,t){i.min=i.min+t,i.max=i.max+t}function TA(i,t,e,r,o=.5){const u=ce(i.min,i.max,o);ag(i,t,e,u,r)}function _o(i,t){TA(i.x,t.x,t.scaleX,t.scale,t.originX),TA(i.y,t.y,t.scaleY,t.scale,t.originY)}function kw(i,t){return Pw(z4(i.getBoundingClientRect(),t))}function j4(i,t,e){const r=kw(i,e),{scroll:o}=t;return o&&(yo(r.x,o.offset.x),yo(r.y,o.offset.y)),r}const EA=()=>({translate:0,scale:1,origin:0,originPoint:0}),vo=()=>({x:EA(),y:EA()}),AA=()=>({min:0,max:0}),Te=()=>({x:AA(),y:AA()}),og={current:null},zw={current:!1};function q4(){if(zw.current=!0,!!ly)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>og.current=i.matches;i.addEventListener("change",t),t()}else og.current=!1}const F4=new WeakMap;function H4(i,t,e){for(const r in t){const o=t[r],u=e[r];if(rn(o))i.addValue(r,o);else if(rn(u))i.addValue(r,xo(o,{owner:i}));else if(u!==o)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=i.getStaticValue(r);i.addValue(r,xo(c!==void 0?c:o,{owner:i}))}}for(const r in e)t[r]===void 0&&i.removeValue(r);return t}const SA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class G4{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=vn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ue.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=jf(e),this.isVariantNode=bw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const S in E){const V=E[S];p[S]!==void 0&&rn(V)&&V.set(p[S])}}mount(t){this.current=t,F4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),zw.current||q4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:og.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),yr(this.notifyUpdate),yr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ko.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Po){const e=Po[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Te()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<SA.length;r++){const o=SA[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=H4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=xo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Mb(r)||Nb(r))?r=parseFloat(r):!ZP(r)&&_r.test(e)&&(r=mw(t,e)),this.setBaseTarget(t,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Ly(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new dy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Iy.render(this.render)}}class Bw extends G4{constructor(){super(...arguments),this.KeyframeResolver=BP}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function jw(i,{style:t,vars:e},r,o){const u=i.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function K4(i){return window.getComputedStyle(i)}class Y4 extends Bw{constructor(){super(...arguments),this.type="html",this.renderInstance=jw}readValueFromInstance(t,e){if(Ko.has(e))return this.projection?.isProjecting?Zp(e):rP(t,e);{const r=K4(t),o=(gy(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return kw(t,e)}build(t,e,r){Ny(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Uy(t,e,r)}}const qw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q4(i,t,e,r){jw(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(qw.has(o)?o:ky(o),t.attrs[o])}class X4 extends Bw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Te}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Ko.has(e)){const r=dw(e);return r&&r.default||0}return e=qw.has(e)?e:ky(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return Mw(t,e,r)}build(t,e,r){Cw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){Q4(t,e,r,o)}mount(t){this.isSVGTag=Dw(t.tagName),super.mount(t)}}const $4=(i,t)=>Py(i)?new X4(t):new Y4(t,{allowProjection:i!==ot.Fragment});function wo(i,t,e){const r=i.getProps();return Ly(r,t,e!==void 0?e:r.custom,i)}const lg=i=>Array.isArray(i);function W4(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,xo(e))}function Z4(i){return lg(i)?i[i.length-1]||0:i}function J4(i,t){const e=wo(i,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=Z4(u[c]);W4(i,c,m)}}function t3(i){return!!(rn(i)&&i.add)}function ug(i,t){const e=i.getValue("willChange");if(t3(e))return e.add(t);if(!e&&vs.WillChange){const r=new vs.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function Fw(i){return i.props[Ow]}const e3=i=>i!==null;function n3(i,{repeat:t,repeatType:e="loop"},r){const o=i.filter(e3),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const i3={type:"spring",stiffness:500,damping:25,restSpeed:10},s3=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),r3={type:"keyframes",duration:.8},a3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},o3=(i,{keyframes:t})=>t.length>2?r3:Ko.has(i)?i.startsWith("scale")?s3(t[1]):i3:a3;function l3({when:i,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,..._}){return!!Object.keys(_).length}const zy=(i,t,e,r={},o,u)=>c=>{const m=Ry(r,i)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ji(p);const _={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:i,motionValue:t,element:u?void 0:o};l3(m)||Object.assign(_,o3(i,_)),_.duration&&(_.duration=ji(_.duration)),_.repeatDelay&&(_.repeatDelay=ji(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let E=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(ig(_),_.delay===0&&(E=!0)),(vs.instantAnimations||vs.skipAnimations)&&(E=!0,ig(_),_.delay=0),_.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const S=n3(_.keyframes,m);if(S!==void 0){ue.update(()=>{_.onUpdate(S),_.onComplete()});return}}return m.isSync?new by(_):new IP(_)};function u3({protectedKeys:i,needsAnimating:t},e){const r=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function Hw(i,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&i.animationState&&i.animationState.getState()[o];for(const _ in m){const E=i.getValue(_,i.latestValues[_]??null),S=m[_];if(S===void 0||g&&u3(g,_))continue;const V={delay:e,...Ry(u||{},_)},P=E.get();if(P!==void 0&&!E.isAnimating&&!Array.isArray(S)&&S===P&&!V.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const Q=Fw(i);if(Q){const et=window.MotionHandoffAnimation(Q,_,ue);et!==null&&(V.startTime=et,F=!0)}}ug(i,_),E.start(zy(_,E,S,i.shouldReduceMotion&&cw.has(_)?{type:!1}:V,i,F));const q=E.animation;q&&p.push(q)}return c&&Promise.all(p).then(()=>{ue.update(()=>{c&&J4(i,c)})}),p}function Gw(i,t,e,r=0,o=1){const u=Array.from(i).sort((g,_)=>g.sortNodePosition(_)).indexOf(t),c=i.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}function cg(i,t,e={}){const r=wo(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(Hw(i,r,e)):()=>Promise.resolve(),c=i.variantChildren&&i.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=o;return c3(i,t,p,g,_,E,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function c3(i,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of i.variantChildren)p.notify("AnimationStart",t),m.push(cg(p,t,{...c,delay:e+(typeof r=="function"?0:r)+Gw(i.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function h3(i,t,e={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>cg(i,u,e));r=Promise.all(o)}else if(typeof t=="string")r=cg(i,t,e);else{const o=typeof t=="function"?wo(i,t,e.custom):t;r=Promise.all(Hw(i,o,e))}return r.then(()=>{i.notify("AnimationComplete",t)})}function Kw(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let r=0;r<e;r++)if(t[r]!==i[r])return!1;return!0}const f3=Oy.length;function Yw(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?Yw(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<f3;e++){const r=Oy[e],o=i.props[r];(Du(o)||o===!1)&&(t[r]=o)}return t}const d3=[...My].reverse(),m3=My.length;function p3(i){return t=>Promise.all(t.map(({animation:e,options:r})=>h3(i,e,r)))}function g3(i){let t=p3(i),e=bA(),r=!0;const o=p=>(g,_)=>{const E=wo(i,_,p==="exit"?i.presenceContext?.custom:void 0);if(E){const{transition:S,transitionEnd:V,...P}=E;g={...g,...P,...V}}return g};function u(p){t=p(i)}function c(p){const{props:g}=i,_=Yw(i.parent)||{},E=[],S=new Set;let V={},P=1/0;for(let q=0;q<m3;q++){const Q=d3[q],et=e[Q],Z=g[Q]!==void 0?g[Q]:_[Q],ht=Du(Z),rt=Q===p?et.isActive:null;rt===!1&&(P=q);let at=Z===_[Q]&&Z!==g[Q]&&ht;if(at&&r&&i.manuallyAnimateOnMount&&(at=!1),et.protectedKeys={...V},!et.isActive&&rt===null||!Z&&!et.prevProp||Bf(Z)||typeof Z=="boolean")continue;const R=y3(et.prevProp,Z);let w=R||Q===p&&et.isActive&&!at&&ht||q>P&&ht,C=!1;const N=Array.isArray(Z)?Z:[Z];let M=N.reduce(o(Q),{});rt===!1&&(M={});const{prevResolvedValues:U={}}=et,I={...U,...M},ee=nt=>{w=!0,S.has(nt)&&(C=!0,S.delete(nt)),et.needsAnimating[nt]=!0;const ft=i.getValue(nt);ft&&(ft.liveStyle=!1)};for(const nt in I){const ft=M[nt],Ct=U[nt];if(V.hasOwnProperty(nt))continue;let Ot=!1;lg(ft)&&lg(Ct)?Ot=!Kw(ft,Ct):Ot=ft!==Ct,Ot?ft!=null?ee(nt):S.add(nt):ft!==void 0&&S.has(nt)?ee(nt):et.protectedKeys[nt]=!0}et.prevProp=Z,et.prevResolvedValues=M,et.isActive&&(V={...V,...M}),r&&i.blockInitialAnimation&&(w=!1);const fe=at&&R;w&&(!fe||C)&&E.push(...N.map(nt=>{const ft={type:Q};if(typeof nt=="string"&&r&&!fe&&i.manuallyAnimateOnMount&&i.parent){const{parent:Ct}=i,Ot=wo(Ct,nt);if(Ct.enteringChildren&&Ot){const{delayChildren:x}=Ot.transition||{};ft.delay=Gw(Ct.enteringChildren,i,x)}}return{animation:nt,options:ft}}))}if(S.size){const q={};if(typeof g.initial!="boolean"){const Q=wo(i,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(q.transition=Q.transition)}S.forEach(Q=>{const et=i.getBaseTarget(Q),Z=i.getValue(Q);Z&&(Z.liveStyle=!0),q[Q]=et??null}),E.push({animation:q})}let F=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(F=!1),r=!1,F?t(E):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();i.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),e[p].isActive=g;const _=c(p);for(const E in e)e[E].protectedKeys={};return _}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=bA()}}}function y3(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!Kw(t,i):!1}function Wr(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bA(){return{animate:Wr(!0),whileInView:Wr(),whileHover:Wr(),whileTap:Wr(),whileDrag:Wr(),whileFocus:Wr(),exit:Wr()}}class vr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class _3 extends vr{constructor(t){super(t),t.animationState||(t.animationState=g3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let v3=0;class T3 extends vr{constructor(){super(...arguments),this.id=v3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const E3={animation:{Feature:_3},exit:{Feature:T3}};function Mu(i,t,e,r={passive:!0}){return i.addEventListener(t,e,r),()=>i.removeEventListener(t,e)}function Gu(i){return{point:{x:i.pageX,y:i.pageY}}}const A3=i=>t=>Dy(t)&&i(t,Gu(t));function mu(i,t,e,r){return Mu(i,t,A3(e),r)}const Qw=1e-4,S3=1-Qw,b3=1+Qw,Xw=.01,w3=0-Xw,R3=0+Xw;function cn(i){return i.max-i.min}function C3(i,t,e){return Math.abs(i-t)<=e}function wA(i,t,e,r=.5){i.origin=r,i.originPoint=ce(t.min,t.max,i.origin),i.scale=cn(e)/cn(t),i.translate=ce(e.min,e.max,i.origin)-i.originPoint,(i.scale>=S3&&i.scale<=b3||isNaN(i.scale))&&(i.scale=1),(i.translate>=w3&&i.translate<=R3||isNaN(i.translate))&&(i.translate=0)}function pu(i,t,e,r){wA(i.x,t.x,e.x,r?r.originX:void 0),wA(i.y,t.y,e.y,r?r.originY:void 0)}function RA(i,t,e){i.min=e.min+t.min,i.max=i.min+cn(t)}function I3(i,t,e){RA(i.x,t.x,e.x),RA(i.y,t.y,e.y)}function CA(i,t,e){i.min=t.min-e.min,i.max=i.min+cn(t)}function gu(i,t,e){CA(i.x,t.x,e.x),CA(i.y,t.y,e.y)}function Hn(i){return[i("x"),i("y")]}const $w=({current:i})=>i?i.ownerDocument.defaultView:null,IA=(i,t)=>Math.abs(i-t);function D3(i,t){const e=IA(i.x,t.x),r=IA(i.y,t.y);return Math.sqrt(e**2+r**2)}class Ww{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=pp(this.lastMoveEventInfo,this.history),V=this.startEvent!==null,P=D3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!V&&!P)return;const{point:F}=S,{timestamp:q}=$e;this.history.push({...F,timestamp:q});const{onStart:Q,onMove:et}=this.handlers;V||(Q&&Q(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),et&&et(this.lastMoveEvent,S)},this.handlePointerMove=(S,V)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=mp(V,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(S,V)=>{this.end();const{onEnd:P,onSessionEnd:F,resumeAnimation:q}=this.handlers;if(this.dragSnapToOrigin&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=pp(S.type==="pointercancel"?this.lastMoveEventInfo:mp(V,this.transformPagePoint),this.history);this.startEvent&&P&&P(S,Q),F&&F(S,Q)},!Dy(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=Gu(t),p=mp(m,this.transformPagePoint),{point:g}=p,{timestamp:_}=$e;this.history=[{...g,timestamp:_}];const{onSessionStart:E}=e;E&&E(t,pp(p,this.history)),this.removeListeners=qu(mu(this.contextWindow,"pointermove",this.handlePointerMove),mu(this.contextWindow,"pointerup",this.handlePointerUp),mu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yr(this.updatePoint)}}function mp(i,t){return t?{point:t(i.point)}:i}function DA(i,t){return{x:i.x-t.x,y:i.y-t.y}}function pp({point:i},t){return{point:i,delta:DA(i,Zw(t)),offset:DA(i,V3(t)),velocity:M3(t,.1)}}function V3(i){return i[0]}function Zw(i){return i[i.length-1]}function M3(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,r=null;const o=Zw(i);for(;e>=0&&(r=i[e],!(o.timestamp-r.timestamp>ji(t)));)e--;if(!r)return{x:0,y:0};const u=Yn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function O3(i,{min:t,max:e},r){return t!==void 0&&i<t?i=r?ce(t,i,r.min):Math.max(i,t):e!==void 0&&i>e&&(i=r?ce(e,i,r.max):Math.min(i,e)),i}function VA(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function N3(i,{top:t,left:e,bottom:r,right:o}){return{x:VA(i.x,e,o),y:VA(i.y,t,r)}}function MA(i,t){let e=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,r]=[r,e]),{min:e,max:r}}function x3(i,t){return{x:MA(i.x,t.x),y:MA(i.y,t.y)}}function P3(i,t){let e=.5;const r=cn(i),o=cn(t);return o>r?e=Ru(t.min,t.max-r,i.min):r>o&&(e=Ru(i.min,i.max-o,t.min)),_s(0,1,e)}function L3(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const hg=.35;function U3(i=hg){return i===!1?i=0:i===!0&&(i=hg),{x:OA(i,"left","right"),y:OA(i,"top","bottom")}}function OA(i,t,e){return{min:NA(i,t),max:NA(i,e)}}function NA(i,t){return typeof i=="number"?i:i[t]||0}const k3=new WeakMap;class z3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Te(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Gu(E).point)},c=(E,S)=>{const{drag:V,dragPropagation:P,onDragStart:F}=this.getProps();if(V&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HP(V),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(Q=>{let et=this.getAxisMotionValue(Q).get()||0;if(qi.test(et)){const{projection:Z}=this.visualElement;if(Z&&Z.layout){const ht=Z.layout.layoutBox[Q];ht&&(et=cn(ht)*(parseFloat(et)/100))}}this.originPoint[Q]=et}),F&&ue.postRender(()=>F(E,S)),ug(this.visualElement,"transform");const{animationState:q}=this.visualElement;q&&q.setActive("whileDrag",!0)},m=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S;const{dragPropagation:V,dragDirectionLock:P,onDirectionLock:F,onDrag:q}=this.getProps();if(!V&&!this.openDragLock)return;const{offset:Q}=S;if(P&&this.currentDirection===null){this.currentDirection=B3(Q),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",S.point,Q),this.updateAxis("y",S.point,Q),this.visualElement.render(),q&&q(E,S)},p=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S,this.stop(E,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new Ww(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:r,contextWindow:$w(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ue.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Oh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=O3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=N3(r.layoutBox,t):this.constraints=!1,this.elastic=U3(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=L3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!go(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=j4(r,o.root,this.visualElement.getTransformPagePoint());let c=x3(o.layout.layoutBox,u);if(e){const m=e(k4(c));this.hasMutatedConstraints=!!m,m&&(c=Pw(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Hn(_=>{if(!Oh(_,e,this.currentDirection))return;let E=p&&p[_]||{};c&&(E={min:0,max:0});const S=o?200:1e6,V=o?40:1e7,P={type:"inertia",velocity:r?t[_]:0,bounceStiffness:S,bounceDamping:V,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(_,P)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return ug(this.visualElement,t),r.start(zy(t,r,0,e,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Hn(e=>{const{drag:r}=this.getProps();if(!Oh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e];u.set(t[e]-ce(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!go(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Hn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=P3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!Oh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;k3.set(this.visualElement,this);const t=this.visualElement.current,e=mu(t,"pointerdown",p=>{const{drag:g,dragListener:_=!0}=this.getProps();g&&_&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();go(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ue.read(r);const c=Mu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(_=>{const E=this.getAxisMotionValue(_);E&&(this.originPoint[_]+=p[_].translate,E.set(E.get()+p[_].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=hg,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Oh(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function B3(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class j3 extends vr{constructor(t){super(t),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new z3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const xA=i=>(t,e)=>{i&&ue.postRender(()=>i(t,e))};class q3 extends vr{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(t){this.session=new Ww(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$w(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:xA(t),onStart:xA(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ue.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=mu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PA(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const Jl={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(vt.test(i))i=parseFloat(i);else return i;const e=PA(i,t.target.x),r=PA(i,t.target.y);return`${e}% ${r}%`}},F3={correct:(i,{treeScale:t,projectionDelta:e})=>{const r=i,o=_r.parse(i);if(o.length>5)return r;const u=_r.createTransformer(i),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ce(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let gp=!1;class H3 extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;f4(G3),u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),gp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Kh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,gp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ue.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Iy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;gp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Jw(i){const[t,e]=Ew(),r=ot.useContext(ay);return zt.jsx(H3,{...i,layoutGroup:r,switchLayoutGroup:ot.useContext(Nw),isPresent:t,safeToRemove:e})}const G3={borderRadius:{...Jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jl,borderTopRightRadius:Jl,borderBottomLeftRadius:Jl,borderBottomRightRadius:Jl,boxShadow:F3};function K3(i,t,e){const r=rn(i)?i:xo(i);return r.start(zy("",r,t,e)),r.animation}const Y3=(i,t)=>i.depth-t.depth;class Q3{constructor(){this.children=[],this.isDirty=!1}add(t){uy(this.children,t),this.isDirty=!0}remove(t){cy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Y3),this.isDirty=!1,this.children.forEach(t)}}function X3(i,t){const e=vn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(yr(r),i(u-t))};return ue.setup(r,!0),()=>yr(r)}const tR=["TopLeft","TopRight","BottomLeft","BottomRight"],$3=tR.length,LA=i=>typeof i=="string"?parseFloat(i):i,UA=i=>typeof i=="number"||vt.test(i);function W3(i,t,e,r,o,u){o?(i.opacity=ce(0,e.opacity??1,Z3(r)),i.opacityExit=ce(t.opacity??1,0,J3(r))):u&&(i.opacity=ce(t.opacity??1,e.opacity??1,r));for(let c=0;c<$3;c++){const m=`border${tR[c]}Radius`;let p=kA(t,m),g=kA(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||UA(p)===UA(g)?(i[m]=Math.max(ce(LA(p),LA(g),r),0),(qi.test(g)||qi.test(p))&&(i[m]+="%")):i[m]=g}(t.rotate||e.rotate)&&(i.rotate=ce(t.rotate||0,e.rotate||0,r))}function kA(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const Z3=eR(0,.5,jb),J3=eR(.5,.95,Qn);function eR(i,t,e){return r=>r<i?0:r>t?1:e(Ru(i,t,r))}function zA(i,t){i.min=t.min,i.max=t.max}function Fn(i,t){zA(i.x,t.x),zA(i.y,t.y)}function BA(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function jA(i,t,e,r,o){return i-=t,i=_f(i,1/e,r),o!==void 0&&(i=_f(i,1/o,r)),i}function t6(i,t=0,e=1,r=.5,o,u=i,c=i){if(qi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ce(u.min,u.max,r);i===u&&(m-=t),i.min=jA(i.min,t,e,m,o),i.max=jA(i.max,t,e,m,o)}function qA(i,t,[e,r,o],u,c){t6(i,t[e],t[r],t[o],t.scale,u,c)}const e6=["x","scaleX","originX"],n6=["y","scaleY","originY"];function FA(i,t,e,r){qA(i.x,t,e6,e?e.x:void 0,r?r.x:void 0),qA(i.y,t,n6,e?e.y:void 0,r?r.y:void 0)}function HA(i){return i.translate===0&&i.scale===1}function nR(i){return HA(i.x)&&HA(i.y)}function GA(i,t){return i.min===t.min&&i.max===t.max}function i6(i,t){return GA(i.x,t.x)&&GA(i.y,t.y)}function KA(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function iR(i,t){return KA(i.x,t.x)&&KA(i.y,t.y)}function YA(i){return cn(i.x)/cn(i.y)}function QA(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class s6{constructor(){this.members=[]}add(t){uy(this.members,t),t.scheduleRender()}remove(t){if(cy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r6(i,t,e){let r="";const o=i.x.translate/t.x,u=i.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:_,rotateX:E,rotateY:S,skewX:V,skewY:P}=e;g&&(r=`perspective(${g}px) ${r}`),_&&(r+=`rotate(${_}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),V&&(r+=`skewX(${V}deg) `),P&&(r+=`skewY(${P}deg) `)}const m=i.x.scale*t.x,p=i.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const yp=["","X","Y","Z"],a6=1e3;let o6=0;function _p(i,t,e,r){const{latestValues:o}=t;o[i]&&(e[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function sR(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=Fw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",ue,!(o||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&sR(r)}function rR({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=o6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(c6),this.nodes.forEach(m6),this.nodes.forEach(p6),this.nodes.forEach(h6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q3)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Tw(c)&&!$P(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),i){let _,E=0;const S=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{E=window.innerWidth}),i(c,()=>{const V=window.innerWidth;V!==E&&(E=V,this.root.updateBlockedByResize=!0,_&&_(),_=X3(S,250),Kh.hasAnimatedSinceResize&&(Kh.hasAnimatedSinceResize=!1,this.nodes.forEach(WA)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||T6,{onLayoutAnimationStart:F,onLayoutAnimationComplete:q}=g.getProps(),Q=!this.targetLayout||!iR(this.targetLayout,V),et=!E&&S;if(this.options.layoutRoot||this.resumeFrom||et||E&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Z={...Ry(P,"layout"),onPlay:F,onComplete:q};(g.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z),this.setAnimationOrigin(_,et)}else E||WA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const E=this.path[_];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($A);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(d6),this.nodes.forEach(l6),this.nodes.forEach(u6)):this.nodes.forEach($A),this.clearAllSnapshots();const m=vn.now();$e.delta=_s(0,1e3/60,m-$e.timestamp),$e.timestamp=m,$e.isProcessing=!0,ap.update.process($e),ap.preRender.process($e),ap.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(f6),this.sharedNodes.forEach(y6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!nR(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,_=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||Jr(this.latestValues)||_)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),E6(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Te();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(A6))){const{scroll:g}=this.root;g&&(yo(m.x,g.offset.x),yo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Te();if(Fn(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Fn(m,c),yo(m.x,_.offset.x),yo(m.y,_.offset.y))}return m}applyTransform(c,m=!1){const p=Te();Fn(p,c);for(let g=0;g<this.path.length;g++){const _=this.path[g];!m&&_.options.layoutScroll&&_.scroll&&_!==_.root&&_o(p,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),Jr(_.latestValues)&&_o(p,_.latestValues)}return Jr(this.latestValues)&&_o(p,this.latestValues),p}removeTransform(c){const m=Te();Fn(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Jr(g.latestValues))continue;rg(g.latestValues)&&g.updateSnapshot();const _=Te(),E=g.measurePageBox();Fn(_,E),FA(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,_)}return Jr(this.latestValues)&&FA(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),gu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Te(),this.targetWithTransforms=Te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),Uw(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),gu(this.relativeTargetOrigin,this.target,S.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rg(this.parent.latestValues)||Lw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Fn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;B4(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Te());const{target:V}=c;if(!V){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BA(this.prevProjectionDelta.x,this.projectionDelta.x),BA(this.prevProjectionDelta.y,this.projectionDelta.y)),pu(this.projectionDelta,this.layoutCorrected,V,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!QA(this.projectionDelta.x,this.prevProjectionDelta.x)||!QA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vo(),this.projectionDelta=vo(),this.projectionDeltaWithTransform=vo()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},_={...this.latestValues},E=vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Te(),V=p?p.source:void 0,P=this.layout?this.layout.source:void 0,F=V!==P,q=this.getStack(),Q=!q||q.members.length<=1,et=!!(F&&!Q&&this.options.crossfade===!0&&!this.path.some(v6));this.animationProgress=0;let Z;this.mixTargetDelta=ht=>{const rt=ht/1e3;ZA(E.x,c.x,rt),ZA(E.y,c.y,rt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gu(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_6(this.relativeTarget,this.relativeTargetOrigin,S,rt),Z&&i6(this.relativeTarget,Z)&&(this.isProjectionDirty=!1),Z||(Z=Te()),Fn(Z,this.relativeTarget)),F&&(this.animationValues=_,W3(_,g,this.latestValues,rt,et,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{Kh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xo(0)),this.currentAnimation=K3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(a6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:_}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&aR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Te();const E=cn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const S=cn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}Fn(m,p),_o(m,_),pu(this.projectionDeltaWithTransform,this.layoutCorrected,m,_)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new s6),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&_p("z",c,g,this.animationValues);for(let _=0;_<yp.length;_++)_p(`rotate${yp[_]}`,c,g,this.animationValues),_p(`skew${yp[_]}`,c,g,this.animationValues);c.render();for(const _ in g)c.setStaticValue(_,g[_]),this.animationValues&&(this.animationValues[_]=g[_]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Gh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Gh(m?.pointerEvents)||""),this.hasProjected&&!Jr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const _=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=r6(this.projectionDeltaWithTransform,this.treeScale,_);p&&(E=p(_,E)),c.transform=E;const{x:S,y:V}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${V.origin*100}% 0`,g.animationValues?c.opacity=g===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:c.opacity=g===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const P in Vu){if(_[P]===void 0)continue;const{correct:F,applyTo:q,isCSSVariable:Q}=Vu[P],et=E==="none"?_[P]:F(_[P],g);if(q){const Z=q.length;for(let ht=0;ht<Z;ht++)c[q[ht]]=et}else Q?this.options.visualElement.renderState.vars[P]=et:c[P]=et}this.options.layoutId&&(c.pointerEvents=g===this?Gh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(XA),this.root.sharedNodes.clear()}}}function l6(i){i.updateLayout()}function u6(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=i.layout,{animationType:o}=i.options,u=t.source!==i.layout.source;o==="size"?Hn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],S=cn(E);E.min=e[_].min,E.max=E.min+S}):aR(o,t.layoutBox,e)&&Hn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],S=cn(e[_]);E.max=E.min+S,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[_].max=i.relativeTarget[_].min+S)});const c=vo();pu(c,e,t.layoutBox);const m=vo();u?pu(m,i.applyTransform(r,!0),t.measuredBox):pu(m,e,t.layoutBox);const p=!nR(c);let g=!1;if(!i.resumeFrom){const _=i.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:S}=_;if(E&&S){const V=Te();gu(V,t.layoutBox,E.layoutBox);const P=Te();gu(P,e,S.layoutBox),iR(V,P)||(g=!0),_.options.layoutRoot&&(i.relativeTarget=P,i.relativeTargetOrigin=V,i.relativeParent=_)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function c6(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function h6(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function f6(i){i.clearSnapshot()}function XA(i){i.clearMeasurements()}function $A(i){i.isLayoutDirty=!1}function d6(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function WA(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function m6(i){i.resolveTargetDelta()}function p6(i){i.calcProjection()}function g6(i){i.resetSkewAndRotation()}function y6(i){i.removeLeadSnapshot()}function ZA(i,t,e){i.translate=ce(t.translate,0,e),i.scale=ce(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function JA(i,t,e,r){i.min=ce(t.min,e.min,r),i.max=ce(t.max,e.max,r)}function _6(i,t,e,r){JA(i.x,t.x,e.x,r),JA(i.y,t.y,e.y,r)}function v6(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const T6={duration:.45,ease:[.4,0,.1,1]},tS=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),eS=tS("applewebkit/")&&!tS("chrome/")?Math.round:Qn;function nS(i){i.min=eS(i.min),i.max=eS(i.max)}function E6(i){nS(i.x),nS(i.y)}function aR(i,t,e){return i==="position"||i==="preserve-aspect"&&!C3(YA(t),YA(e),.2)}function A6(i){return i!==i.root&&i.scroll?.wasRoot}const S6=rR({attachResizeListener:(i,t)=>Mu(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vp={current:void 0},oR=rR({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!vp.current){const i=new S6({});i.mount(window),i.setOptions({layoutScroll:!0}),vp.current=i}return vp.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),b6={pan:{Feature:q3},drag:{Feature:j3,ProjectionNode:oR,MeasureLayout:Jw}};function iS(i,t,e){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&ue.postRender(()=>u(t,Gu(t)))}class w6 extends vr{mount(){const{current:t}=this.node;t&&(this.unmount=GP(t,(e,r)=>(iS(this.node,r,"Start"),o=>iS(this.node,o,"End"))))}unmount(){}}class R6 extends vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qu(Mu(this.node.current,"focus",()=>this.onFocus()),Mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sS(i,t,e){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&ue.postRender(()=>u(t,Gu(t)))}class C6 extends vr{mount(){const{current:t}=this.node;t&&(this.unmount=XP(t,(e,r)=>(sS(this.node,r,"Start"),(o,{success:u})=>sS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fg=new WeakMap,Tp=new WeakMap,I6=i=>{const t=fg.get(i.target);t&&t(i)},D6=i=>{i.forEach(I6)};function V6({root:i,...t}){const e=i||document;Tp.has(e)||Tp.set(e,{});const r=Tp.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(D6,{root:i,...t})),r[o]}function M6(i,t,e){const r=V6(t);return fg.set(i,e),r.observe(i),()=>{fg.delete(i),r.unobserve(i)}}const O6={some:0,all:1};class N6 extends vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:O6[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:_,onViewportLeave:E}=this.node.getProps(),S=g?_:E;S&&S(p)};return M6(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(x6(t,e))&&this.startObserver()}unmount(){}}function x6({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const P6={inView:{Feature:N6},tap:{Feature:C6},focus:{Feature:R6},hover:{Feature:w6}},L6={layout:{ProjectionNode:oR,MeasureLayout:Jw}},U6={...E3,...P6,...b6,...L6},rS=U4(U6,$4);var lR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aS=sa.createContext&&sa.createContext(lR),k6=["attr","size","title"];function z6(i,t){if(i==null)return{};var e=B6(i,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(e[r]=i[r])}return e}function B6(i,t){if(i==null)return{};var e={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;e[r]=i[r]}return e}function vf(){return vf=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},vf.apply(this,arguments)}function oS(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,r)}return e}function Tf(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(e),!0).forEach(function(r){j6(i,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):oS(Object(e)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(e,r))})}return i}function j6(i,t,e){return t=q6(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function q6(i){var t=F6(i,"string");return typeof t=="symbol"?t:t+""}function F6(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function uR(i){return i&&i.map((t,e)=>sa.createElement(t.tag,Tf({key:e},t.attr),uR(t.child)))}function By(i){return t=>sa.createElement(H6,vf({attr:Tf({},i.attr)},t),uR(i.child))}function H6(i){var t=e=>{var{attr:r,size:o,title:u}=i,c=z6(i,k6),m=o||e.size||"1em",p;return e.className&&(p=e.className),i.className&&(p=(p?p+" ":"")+i.className),sa.createElement("svg",vf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,c,{className:p,style:Tf(Tf({color:i.color||e.color},e.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&sa.createElement("title",null,u),i.children)};return aS!==void 0?sa.createElement(aS.Consumer,null,e=>t(e)):t(lR)}function G6(i){return By({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(i)}function K6(i){return By({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(i)}function Y6(i){return By({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(i)}function Q6(){const[i,t]=ot.useState(null),[e,r]=ot.useState([]),[o,u]=ot.useState(""),[c,m]=ot.useState(!1),p=ot.useRef(null),g=()=>{p.current?.scrollIntoView({behavior:"smooth"})};ot.useEffect(()=>{g()},[e,c]),ot.useEffect(()=>{const P=rp.onAuthStateChanged(t);return()=>P()},[]),ot.useEffect(()=>{if(!i)return;const P=YN(Ch(Ih,"chats"),QN("createdAt","asc")),F=ZN(P,q=>{const Q=q.docs.map(et=>({id:et.id,...et.data()}));r(Q)});return()=>F()},[i]);const _=async()=>{try{await FD(rp,nx)}catch(P){console.error(P)}},E=async()=>{await SD(rp)},S=async()=>{if(!(!o.trim()||!i)){m(!0);try{const P={text:o,type:"user",createdAt:te.now(),userName:i.displayName||"Anonymous"};await sp(Ch(Ih,"chats"),P);const F=o;u("");const Q=await(await fetch("https://potential-octo-backend-production.up.railway.app/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:F})})).json(),Z={text:typeof Q.response=="string"?Q.response:" No response received from AI server.",type:"bot",createdAt:te.now(),userName:"Bot"};await sp(Ch(Ih,"chats"),Z)}catch(P){console.error(P),await sp(Ch(Ih,"chats"),{text:" Error: Unable to reach AI server.",type:"bot",createdAt:te.now(),userName:"Bot"})}finally{m(!1),g()}}},V=P=>{P.key==="Enter"&&S()};return zt.jsxs("div",{className:"container py-5",children:[i?zt.jsxs("div",{className:"card shadow-lg chat-card",children:[zt.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[zt.jsx("h4",{children:"Agent by Fate"}),zt.jsxs("button",{className:"btn btn-outline-danger btn-sm",onClick:E,children:[zt.jsx(Y6,{})," Logout"]})]}),zt.jsxs("div",{className:"card-body chat-body",children:[zt.jsxs(r4,{initial:!1,children:[e.map(P=>zt.jsx(rS.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:`chat-bubble ${P.type}`,children:P.text.split(`
`).map((F,q)=>zt.jsx("p",{children:F},q))},P.id||Math.random())),c&&zt.jsx(rS.div,{className:"chat-bubble bot typing",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:"Typing..."})]}),zt.jsx("div",{ref:p})]}),zt.jsxs("div",{className:"card-footer input-group input-bubble-bg",children:[zt.jsx("input",{type:"text",className:"form-control",placeholder:"Ask about any Shadow Fight character...",value:o,onChange:P=>u(P.target.value),onKeyDown:V}),zt.jsx("button",{className:"btn btn-primary",onClick:S,children:zt.jsx(K6,{})})]})]}):zt.jsxs("div",{className:"text-center login-screen",children:[zt.jsx("h2",{children:"Shadow Fight AI Agent By Fate"}),zt.jsxs("button",{className:"btn btn-outline-primary mt-3",onClick:_,children:[zt.jsx(G6,{})," Sign in with Google"]})]}),zt.jsxs("svg",{className:"doodle-bg",width:"100%",height:"100%",children:[zt.jsx("circle",{className:"doodle1",cx:"50",cy:"80",r:"60",fill:"rgba(255,200,150,0.3)"}),zt.jsx("circle",{className:"doodle2",cx:"300",cy:"150",r:"100",fill:"rgba(150,200,255,0.2)"}),zt.jsx("circle",{className:"doodle3",cx:"700",cy:"50",r:"120",fill:"rgba(255,150,200,0.15)"})]})]})}$C.createRoot(document.getElementById("root")).render(zt.jsx(ot.StrictMode,{children:zt.jsx(Q6,{})}));
